var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(s)}function i(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c;function l(t,e){return t===e||(c||(c=document.createElement("a")),c.href=e,t===c.href)}function u(e,...n){if(null==e){for(const t of n)t(void 0);return t}const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function d(t,e,n){t.$$.on_destroy.push(u(e,n))}function h(t,e,n,s){if(t){const o=p(t,e,n,s);return t[0](o)}}function p(t,e,s,o){return t[1]&&o?n(s.ctx.slice(),t[1](o(e))):s.ctx}function f(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|o[s];return t}return e.dirty|o}return e.dirty}function m(t,e,n,s,o,r){if(o){const i=p(e,n,s,r);t.p(i,o)}}function b(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function g(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function y(t,e){const n={};e=new Set(e);for(const s in t)e.has(s)||"$"===s[0]||(n[s]=t[s]);return n}const w="undefined"!=typeof window;let $=w?()=>window.performance.now():()=>Date.now(),x=w?t=>requestAnimationFrame(t):t;const v=new Set;function C(t){v.forEach((e=>{e.c(t)||(v.delete(e),e.f())})),0!==v.size&&x(C)}function S(t){let e;return 0===v.size&&x(C),{promise:new Promise((n=>{v.add(e={c:t,f:n})})),abort(){v.delete(e)}}}function k(t,e){t.appendChild(e)}function P(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function O(t){const e=q("style");return e.textContent="/* empty */",function(t,e){k(t.head||t,e),e.sheet}(P(t),e),e.sheet}function T(t,e,n){t.insertBefore(e,n||null)}function _(t){t.parentNode&&t.parentNode.removeChild(t)}function E(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function q(t){return document.createElement(t)}function I(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function R(){return A(" ")}function L(){return A("")}function j(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function U(t){return function(e){return e.preventDefault(),t.call(this,e)}}function N(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const D=["width","height"];function M(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const s in e)null==e[s]?t.removeAttribute(s):"style"===s?t.style.cssText=e[s]:"__value"===s?t.value=t[s]=e[s]:n[s]&&n[s].set&&-1===D.indexOf(s)?t[s]=e[s]:N(t,s,e[s])}function B(t){return""===t?null:+t}function F(t,e){e=""+e,t.data!==e&&(t.data=e)}function W(t,e){t.value=null==e?"":e}function H(t,e,n,s){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function z(t,e,n){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function G(t,e,n){t.classList.toggle(e,!!n)}function K(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}function V(t,e){return new t(e)}const J=new Map;let Y,Q=0;function X(t,e,n,s,o,r,i,a=0){const c=16.666/s;let l="{\n";for(let t=0;t<=1;t+=c){const s=e+(n-e)*r(t);l+=100*t+`%{${i(s,1-s)}}\n`}const u=l+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,h=P(t),{stylesheet:p,rules:f}=J.get(h)||function(t,e){const n={stylesheet:O(e),rules:{}};return J.set(t,n),n}(h,t);f[d]||(f[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${d} ${s}ms linear ${o}ms 1 both`,Q+=1,d}function Z(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-s.length;o&&(t.style.animation=s.join(", "),Q-=o,Q||x((()=>{Q||(J.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&_(e)})),J.clear())})))}function tt(t){Y=t}function et(){if(!Y)throw new Error("Function called outside component initialization");return Y}function nt(t){et().$$.on_mount.push(t)}function st(){const t=et();return(e,n,{cancelable:s=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=K(e,n,{cancelable:s});return o.slice().forEach((e=>{e.call(t,r)})),!r.defaultPrevented}return!0}}function ot(t,e){return et().$$.context.set(t,e),e}function rt(t){return et().$$.context.get(t)}const it=[],at=[];let ct=[];const lt=[],ut=Promise.resolve();let dt=!1;function ht(t){ct.push(t)}const pt=new Set;let ft,mt=0;function bt(){if(0!==mt)return;const t=Y;do{try{for(;mt<it.length;){const t=it[mt];mt++,tt(t),gt(t.$$)}}catch(t){throw it.length=0,mt=0,t}for(tt(null),it.length=0,mt=0;at.length;)at.pop()();for(let t=0;t<ct.length;t+=1){const e=ct[t];pt.has(e)||(pt.add(e),e())}ct.length=0}while(it.length);for(;lt.length;)lt.pop()();dt=!1,pt.clear(),tt(t)}function gt(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ht)}}function yt(){return ft||(ft=Promise.resolve(),ft.then((()=>{ft=null}))),ft}function wt(t,e,n){t.dispatchEvent(K(`${e?"intro":"outro"}${n}`))}const $t=new Set;let xt;function vt(){xt={r:0,c:[],p:xt}}function Ct(){xt.r||r(xt.c),xt=xt.p}function St(t,e){t&&t.i&&($t.delete(t),t.i(e))}function kt(t,e,n,s){if(t&&t.o){if($t.has(t))return;$t.add(t),xt.c.push((()=>{$t.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}else s&&s()}const Pt={duration:0};function Ot(n,s,o,a){let c,l=s(n,o,{direction:"both"}),u=a?0:1,d=null,h=null,p=null;function f(){p&&Z(n,p)}function m(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(s){const{delay:o=0,duration:i=300,easing:a=e,tick:b=t,css:g}=l||Pt,y={start:$()+o,b:s};s||(y.group=xt,xt.r+=1),"inert"in n&&(s?void 0!==c&&(n.inert=c):(c=n.inert,n.inert=!0)),d||h?h=y:(g&&(f(),p=X(n,u,s,i,o,a,g)),s&&b(0,1),d=m(y,i),ht((()=>wt(n,s,"start"))),S((t=>{if(h&&t>h.start&&(d=m(h,i),h=null,wt(n,d.b,"start"),g&&(f(),p=X(n,u,d.b,d.duration,0,a,l.css))),d)if(t>=d.end)b(u=d.b,1-u),wt(n,d.b,"end"),h||(d.b?f():--d.group.r||r(d.group.c)),d=null;else if(t>=d.start){const e=t-d.start;u=d.a+d.d*a(e/d.duration),b(u,1-u)}return!(!d&&!h)})))}return{run(t){i(l)?yt().then((()=>{l=l({direction:t?"in":"out"}),b(t)})):b(t)},end(){f(),d=h=null}}}function Tt(t,e){const n=e.token={};function s(t,s,o,r){if(e.token!==n)return;e.resolved=r;let i=e.ctx;void 0!==o&&(i=i.slice(),i[o]=r);const a=t&&(e.current=t)(i);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==s&&t&&(vt(),kt(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),Ct())})):e.block.d(1),a.c(),St(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[s]=a),c&&bt()}if(!(o=t)||"object"!=typeof o&&"function"!=typeof o||"function"!=typeof o.then){if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}else{const n=et();if(t.then((t=>{tt(n),s(e.then,1,e.value,t),tt(null)}),(t=>{if(tt(n),s(e.catch,2,e.error,t),tt(null),!e.hasCatch)throw t})),e.current!==e.pending)return s(e.pending,0),!0}var o}function _t(t){return void 0!==t?.length?t:Array.from(t)}function Et(t,e){kt(t,1,1,(()=>{e.delete(t.key)}))}function qt(t,e){const n={},s={},o={$$scope:1};let r=t.length;for(;r--;){const i=t[r],a=e[r];if(a){for(const t in i)t in a||(s[t]=1);for(const t in a)o[t]||(n[t]=a[t],o[t]=1);t[r]=a}else for(const t in i)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}function It(t){return"object"==typeof t&&null!==t?t:{}}function At(t){t&&t.c()}function Rt(t,e,n){const{fragment:o,after_update:a}=t.$$;o&&o.m(e,n),ht((()=>{const e=t.$$.on_mount.map(s).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),a.forEach(ht)}function Lt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];ct.forEach((s=>-1===t.indexOf(s)?e.push(s):n.push(s))),n.forEach((t=>t())),ct=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jt(t,e){-1===t.$$.dirty[0]&&(it.push(t),dt||(dt=!0,ut.then(bt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ut(e,n,s,i,a,c,l=null,u=[-1]){const d=Y;tt(e);const h=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};l&&l(h.root);let p=!1;if(h.ctx=s?s(e,n.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),p&&jt(e,t)),n})):[],h.update(),p=!0,r(h.before_update),h.fragment=!!i&&i(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(_)}else h.fragment&&h.fragment.c();n.intro&&St(e.$$.fragment),Rt(e,n.target,n.anchor),bt()}tt(d)}class Nt{$$=void 0;$$set=void 0;$destroy(){Lt(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const Dt={},Mt={},Bt={},Ft=/^:(.+)/,Wt=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),Ht=t=>t.replace(/(^\/+|\/+$)/g,""),zt=(t,e)=>({route:t,score:t.default?0:Wt(t.path).reduce(((t,e)=>(t+=4,""===e?t+=1:Ft.test(e)?t+=2:"*"===e[0]?t-=5:t+=3,t)),0),index:e}),Gt=(t,e)=>{let n,s;const[o]=e.split("?"),r=Wt(o),i=""===r[0],a=(t=>t.map(zt).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index)))(t);for(let t=0,o=a.length;t<o;t++){const o=a[t].route;let c=!1;if(o.default){s={route:o,params:{},uri:e};continue}const l=Wt(o.path),u={},d=Math.max(r.length,l.length);let h=0;for(;h<d;h++){const t=l[h],e=r[h];if(t&&"*"===t[0]){u["*"===t?"*":t.slice(1)]=r.slice(h).map(decodeURIComponent).join("/");break}if(void 0===e){c=!0;break}const n=Ft.exec(t);if(n&&!i){const t=decodeURIComponent(e);u[n[1]]=t}else if(t!==e){c=!0;break}}if(!c){n={route:o,params:u,uri:"/"+r.slice(0,h).join("/")};break}}return n||s||null},Kt=(t,e)=>t+(e?`?${e}`:""),Vt=(t,e)=>`${Ht("/"===e?t:`${Ht(t)}/${Ht(e)}`)}/`,Jt=()=>"undefined"!=typeof window&&"document"in window&&"location"in window,Yt=t=>({active:4&t}),Qt=t=>({active:!!t[2]});function Xt(t){let e,s,o,r;const i=t[17].default,a=h(i,t,t[16],Qt);let c=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],l={};for(let t=0;t<c.length;t+=1)l=n(l,c[t]);return{c(){e=q("a"),a&&a.c(),M(e,l)},m(n,i){T(n,e,i),a&&a.m(e,null),s=!0,o||(r=j(e,"click",t[5]),o=!0)},p(t,[n]){a&&a.p&&(!s||65540&n)&&m(a,i,t,t[16],s?f(i,t[16],n,Yt):b(t[16]),Qt),M(e,l=qt(c,[(!s||1&n)&&{href:t[0]},(!s||4&n)&&{"aria-current":t[2]},2&n&&t[1],64&n&&t[6]]))},i(t){s||(St(a,t),s=!0)},o(t){kt(a,t),s=!1},d(t){t&&_(e),a&&a.d(t),o=!1,r()}}}function Zt(t,e,s){let o;const r=["to","replace","state","getProps","preserveScroll"];let i,a,c=y(e,r),{$$slots:l={},$$scope:u}=e,{to:h="#"}=e,{replace:p=!1}=e,{state:f={}}=e,{getProps:m=()=>({})}=e,{preserveScroll:b=!1}=e;const w=rt(Dt);d(t,w,(t=>s(14,i=t)));const{base:$}=rt(Mt);d(t,$,(t=>s(15,a=t)));const{navigate:x}=rt(Bt),v=st();let C,S,k,P;return t.$$set=t=>{e=n(n({},e),g(t)),s(6,c=y(e,r)),"to"in t&&s(7,h=t.to),"replace"in t&&s(8,p=t.replace),"state"in t&&s(9,f=t.state),"getProps"in t&&s(10,m=t.getProps),"preserveScroll"in t&&s(11,b=t.preserveScroll),"$$scope"in t&&s(16,u=t.$$scope)},t.$$.update=()=>{32896&t.$$.dirty&&s(0,C=((t,e)=>{if(t.startsWith("/"))return t;const[n,s]=t.split("?"),[o]=e.split("?"),r=Wt(n),i=Wt(o);if(""===r[0])return Kt(o,s);if(!r[0].startsWith(".")){const t=i.concat(r).join("/");return Kt(("/"===o?"":"/")+t,s)}const a=i.concat(r),c=[];return a.forEach((t=>{".."===t?c.pop():"."!==t&&c.push(t)})),Kt("/"+c.join("/"),s)})(h,a.uri)),16385&t.$$.dirty&&s(12,S=i.pathname.startsWith(C)),16385&t.$$.dirty&&s(13,k=C===i.pathname),8192&t.$$.dirty&&s(2,o=k?"page":void 0),s(1,P=m({location:i,href:C,isPartiallyCurrent:S,isCurrent:k,existingProps:c}))},[C,P,o,w,$,t=>{if(v("click",t),(t=>!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey))(t)){t.preventDefault();const e=i.pathname===C||p;x(C,{state:f,replace:e,preserveScroll:b})}},c,h,p,f,m,b,S,k,i,a,u,l]}class te extends Nt{constructor(t){super(),Ut(this,t,Zt,Xt,a,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const ee=t=>({params:4&t}),ne=t=>({params:t[2]});function se(t){let e,n,s,o;const r=[re,oe],i=[];function a(t,e){return t[0]?0:1}return e=a(t),n=i[e]=r[e](t),{c(){n.c(),s=L()},m(t,n){i[e].m(t,n),T(t,s,n),o=!0},p(t,o){let c=e;e=a(t),e===c?i[e].p(t,o):(vt(),kt(i[c],1,1,(()=>{i[c]=null})),Ct(),n=i[e],n?n.p(t,o):(n=i[e]=r[e](t),n.c()),St(n,1),n.m(s.parentNode,s))},i(t){o||(St(n),o=!0)},o(t){kt(n),o=!1},d(t){t&&_(s),i[e].d(t)}}}function oe(t){let e;const n=t[8].default,s=h(n,t,t[7],ne);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,o){s&&s.p&&(!e||132&o)&&m(s,n,t,t[7],e?f(n,t[7],o,ee):b(t[7]),ne)},i(t){e||(St(s,t),e=!0)},o(t){kt(s,t),e=!1},d(t){s&&s.d(t)}}}function re(t){let e,n,s,o={ctx:t,current:null,token:null,hasCatch:!1,pending:ce,then:ae,catch:ie,value:12,blocks:[,,,]};return Tt(n=t[0],o),{c(){e=L(),o.block.c()},m(t,n){T(t,e,n),o.block.m(t,o.anchor=n),o.mount=()=>e.parentNode,o.anchor=e,s=!0},p(e,s){t=e,o.ctx=t,1&s&&n!==(n=t[0])&&Tt(n,o)||function(t,e,n){const s=e.slice(),{resolved:o}=t;t.current===t.then&&(s[t.value]=o),t.current===t.catch&&(s[t.error]=o),t.block.p(s,n)}(o,t,s)},i(t){s||(St(o.block),s=!0)},o(t){for(let t=0;t<3;t+=1){kt(o.blocks[t])}s=!1},d(t){t&&_(e),o.block.d(t),o.token=null,o=null}}}function ie(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ae(t){let e,s,o;const r=[t[2],t[3]];var i=t[12]?.default||t[12];function a(t,e){let s={};for(let t=0;t<r.length;t+=1)s=n(s,r[t]);return void 0!==e&&12&e&&(s=n(s,qt(r,[4&e&&It(t[2]),8&e&&It(t[3])]))),{props:s}}return i&&(e=V(i,a(t))),{c(){e&&At(e.$$.fragment),s=L()},m(t,n){e&&Rt(e,t,n),T(t,s,n),o=!0},p(t,n){if(1&n&&i!==(i=t[12]?.default||t[12])){if(e){vt();const t=e;kt(t.$$.fragment,1,0,(()=>{Lt(t,1)})),Ct()}i?(e=V(i,a(t,n)),At(e.$$.fragment),St(e.$$.fragment,1),Rt(e,s.parentNode,s)):e=null}else if(i){const s=12&n?qt(r,[4&n&&It(t[2]),8&n&&It(t[3])]):{};e.$set(s)}},i(t){o||(e&&St(e.$$.fragment,t),o=!0)},o(t){e&&kt(e.$$.fragment,t),o=!1},d(t){t&&_(s),e&&Lt(e,t)}}}function ce(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function le(t){let e,n,s=t[1]&&t[1].route===t[5]&&se(t);return{c(){s&&s.c(),e=L()},m(t,o){s&&s.m(t,o),T(t,e,o),n=!0},p(t,[n]){t[1]&&t[1].route===t[5]?s?(s.p(t,n),2&n&&St(s,1)):(s=se(t),s.c(),St(s,1),s.m(e.parentNode,e)):s&&(vt(),kt(s,1,1,(()=>{s=null})),Ct())},i(t){n||(St(s),n=!0)},o(t){kt(s),n=!1},d(t){t&&_(e),s&&s.d(t)}}}function ue(t,e,s){let o,{$$slots:r={},$$scope:i}=e,{path:a=""}=e,{component:c=null}=e,l={},u={};const{registerRoute:h,unregisterRoute:p,activeRoute:f}=rt(Mt);d(t,f,(t=>s(1,o=t)));const m={path:a,default:""===a};var b;return h(m),b=()=>{p(m)},et().$$.on_destroy.push(b),t.$$set=t=>{s(11,e=n(n({},e),g(t))),"path"in t&&s(6,a=t.path),"component"in t&&s(0,c=t.component),"$$scope"in t&&s(7,i=t.$$scope)},t.$$.update=()=>{if(o&&o.route===m){s(2,l=o.params);const{component:t,path:n,...r}=e;s(3,u=r),t&&(t.toString().startsWith("class ")?s(0,c=t):s(0,c=t())),Jt()&&!o.preserveScroll&&window?.scrollTo(0,0)}},e=g(e),[c,o,l,u,f,m,a,i,r]}class de extends Nt{constructor(t){super(),Ut(this,t,ue,le,a,{path:6,component:0})}}const he=[];function pe(e,n=t){let s;const o=new Set;function r(t){if(a(e,t)&&(e=t,s)){const t=!he.length;for(const t of o)t[1](),he.push(t,e);if(t){for(let t=0;t<he.length;t+=2)he[t][0](he[t+1]);he.length=0}}}function i(t){r(t(e))}return{set:r,update:i,subscribe:function(a,c=t){const l=[a,c];return o.add(l),1===o.size&&(s=n(r,i)||t),a(e),()=>{o.delete(l),0===o.size&&s&&(s(),s=null)}}}}function fe(e,n,s){const o=!Array.isArray(e),a=o?[e]:e;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const c=n.length<2;return l=(e,s)=>{let l=!1;const d=[];let h=0,p=t;const f=()=>{if(h)return;p();const r=n(o?d[0]:d,e,s);c?e(r):p=i(r)?r:t},m=a.map(((t,e)=>u(t,(t=>{d[e]=t,h&=~(1<<e),l&&f()}),(()=>{h|=1<<e}))));return l=!0,f(),function(){r(m),p(),l=!1}},{subscribe:pe(s,l).subscribe};var l}const me=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),be=(t=>{const e=[];let n=me(t);return{get location(){return n},listen(s){e.push(s);const o=()=>{n=me(t),s({location:n,action:"POP"})};return t.addEventListener("popstate",o),()=>{t.removeEventListener("popstate",o);const n=e.indexOf(s);e.splice(n,1)}},navigate(s,{state:o,replace:r=!1,preserveScroll:i=!1,blurActiveElement:a=!0}={}){o={...o,key:Date.now()+""};try{r?t.history.replaceState(o,"",s):t.history.pushState(o,"",s)}catch(e){t.location[r?"replace":"assign"](s)}n=me(t),e.forEach((t=>t({location:n,action:"PUSH",preserveScroll:i}))),a&&document.activeElement.blur()}}})(Jt()?window:((t="/")=>{let e=0;const n=[{pathname:t,search:""}],s=[];return{get location(){return n[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return n},get index(){return e},get state(){return s[e]},pushState(t,o,r){const[i,a=""]=r.split("?");e++,n.push({pathname:i,search:a}),s.push(t)},replaceState(t,o,r){const[i,a=""]=r.split("?");n[e]={pathname:i,search:a},s[e]=t}}}})()),{navigate:ge}=be,ye=t=>({route:4&t,location:2&t}),we=t=>({route:t[2]&&t[2].uri,location:t[1]}),$e=t=>({route:4&t,location:2&t}),xe=t=>({route:t[2]&&t[2].uri,location:t[1]});function ve(t){let e;const n=t[15].default,s=h(n,t,t[14],we);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,o){s&&s.p&&(!e||16390&o)&&m(s,n,t,t[14],e?f(n,t[14],o,ye):b(t[14]),we)},i(t){e||(St(s,t),e=!0)},o(t){kt(s,t),e=!1},d(t){s&&s.d(t)}}}function Ce(e){let n,s,o=e[1].pathname,r=Se(e);return{c(){r.c(),n=L()},m(t,e){r.m(t,e),T(t,n,e),s=!0},p(e,s){2&s&&a(o,o=e[1].pathname)?(vt(),kt(r,1,1,t),Ct(),r=Se(e),r.c(),St(r,1),r.m(n.parentNode,n)):r.p(e,s)},i(t){s||(St(r),s=!0)},o(t){kt(r),s=!1},d(t){t&&_(n),r.d(t)}}}function Se(n){let s,o,a,c;const l=n[15].default,u=h(l,n,n[14],xe);return{c(){s=q("div"),u&&u.c()},m(t,e){T(t,s,e),u&&u.m(s,null),c=!0},p(t,e){u&&u.p&&(!c||16390&e)&&m(u,l,t,t[14],c?f(l,t[14],e,$e):b(t[14]),xe)},i(r){c||(St(u,r),r&&ht((()=>{c&&(a&&a.end(1),o=function(n,s,o){const r={direction:"in"};let a,c,l=s(n,o,r),u=!1,d=0;function h(){a&&Z(n,a)}function p(){const{delay:s=0,duration:o=300,easing:r=e,tick:i=t,css:p}=l||Pt;p&&(a=X(n,0,1,o,s,r,p,d++)),i(0,1);const f=$()+s,m=f+o;c&&c.abort(),u=!0,ht((()=>wt(n,!0,"start"))),c=S((t=>{if(u){if(t>=m)return i(1,0),wt(n,!0,"end"),h(),u=!1;if(t>=f){const e=r((t-f)/o);i(e,1-e)}}return u}))}let f=!1;return{start(){f||(f=!0,Z(n),i(l)?(l=l(r),yt().then(p)):p())},invalidate(){f=!1},end(){u&&(h(),u=!1)}}}(s,n[3],{}),o.start())})),c=!0)},o(l){kt(u,l),o&&o.invalidate(),l&&(a=function(n,s,o){const a={direction:"out"};let c,l=s(n,o,a),u=!0;const d=xt;let h;function p(){const{delay:s=0,duration:o=300,easing:i=e,tick:a=t,css:p}=l||Pt;p&&(c=X(n,1,0,o,s,i,p));const f=$()+s,m=f+o;ht((()=>wt(n,!1,"start"))),"inert"in n&&(h=n.inert,n.inert=!0),S((t=>{if(u){if(t>=m)return a(0,1),wt(n,!1,"end"),--d.r||r(d.c),!1;if(t>=f){const e=i((t-f)/o);a(1-e,e)}}return u}))}return d.r+=1,i(l)?yt().then((()=>{l=l(a),p()})):p(),{end(t){t&&"inert"in n&&(n.inert=h),t&&l.tick&&l.tick(1,0),u&&(c&&Z(n,c),u=!1)}}}(s,n[3],{})),c=!1},d(t){t&&_(s),u&&u.d(t),t&&a&&a.end()}}}function ke(t){let e,n,s,o;const r=[Ce,ve],i=[];function a(t,e){return t[0]?0:1}return e=a(t),n=i[e]=r[e](t),{c(){n.c(),s=L()},m(t,n){i[e].m(t,n),T(t,s,n),o=!0},p(t,[o]){let c=e;e=a(t),e===c?i[e].p(t,o):(vt(),kt(i[c],1,1,(()=>{i[c]=null})),Ct(),n=i[e],n?n.p(t,o):(n=i[e]=r[e](t),n.c()),St(n,1),n.m(s.parentNode,s))},i(t){o||(St(n),o=!0)},o(t){kt(n),o=!1},d(t){t&&_(s),i[e].d(t)}}}function Pe(t,e,n){let s,o,r,i,{$$slots:a={},$$scope:c}=e,{basepath:l="/"}=e,{url:u=null}=e,{viewtransition:h=null}=e,{history:p=be}=e;ot(Bt,p);const f=rt(Dt),m=rt(Mt),b=pe([]);d(t,b,(t=>n(12,o=t)));const g=pe(null);d(t,g,(t=>n(2,i=t)));let y=!1;const w=f||pe(u?{pathname:u}:p.location);d(t,w,(t=>n(1,s=t)));const $=m?m.routerBase:pe({path:l,uri:l});d(t,$,(t=>n(13,r=t)));const x=fe([$,g],(([t,e])=>{if(!e)return t;const{path:n}=t,{route:s,uri:o}=e;return{path:s.default?n:s.path.replace(/\*.*$/,""),uri:o}}));let v=!1;return f||(nt((()=>p.listen((t=>{n(11,v=t.preserveScroll||!1),w.set(t.location)})))),ot(Dt,w)),ot(Mt,{activeRoute:g,base:$,routerBase:x,registerRoute:t=>{const{path:e}=r;let{path:n}=t;if(t._path=n,t.path=Vt(e,n),"undefined"==typeof window){if(y)return;const e=Gt([t],s.pathname);e&&(g.set(e),y=!0)}else b.update((e=>[...e,t]))},unregisterRoute:t=>{b.update((e=>e.filter((e=>e!==t))))}}),t.$$set=t=>{"basepath"in t&&n(8,l=t.basepath),"url"in t&&n(9,u=t.url),"viewtransition"in t&&n(0,h=t.viewtransition),"history"in t&&n(10,p=t.history),"$$scope"in t&&n(14,c=t.$$scope)},t.$$.update=()=>{if(8192&t.$$.dirty){const{path:t}=r;b.update((e=>e.map((e=>Object.assign(e,{path:Vt(t,e._path)})))))}if(6146&t.$$.dirty){const t=Gt(o,s.pathname);g.set(t?{...t,preserveScroll:v}:t)}},[h,s,i,(t,e,n)=>{const s=h(n);return"function"==typeof s?.fn?s.fn(t,s):s},b,g,w,$,l,u,p,v,o,r,c,a]}class Oe extends Nt{constructor(t){super(),Ut(this,t,Pe,ke,a,{basepath:8,url:9,viewtransition:0,history:10})}}function Te(t){const e=t-1;return e*e*e+1}function _e(t,{delay:e=0,duration:n=400,easing:s=Te,axis:o="y"}={}){const r=getComputedStyle(t),i=+r.opacity,a="y"===o?"height":"width",c=parseFloat(r[a]),l="y"===o?["top","bottom"]:["left","right"],u=l.map((t=>`${t[0].toUpperCase()}${t.slice(1)}`)),d=parseFloat(r[`padding${u[0]}`]),h=parseFloat(r[`padding${u[1]}`]),p=parseFloat(r[`margin${u[0]}`]),f=parseFloat(r[`margin${u[1]}`]),m=parseFloat(r[`border${u[0]}Width`]),b=parseFloat(r[`border${u[1]}Width`]);return{delay:e,duration:n,easing:s,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*i};${a}: ${t*c}px;padding-${l[0]}: ${t*d}px;padding-${l[1]}: ${t*h}px;margin-${l[0]}: ${t*p}px;margin-${l[1]}: ${t*f}px;border-${l[0]}-width: ${t*m}px;border-${l[1]}-width: ${t*b}px;`}}class Ee extends Error{constructor(t){super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,Ee.prototype),null!==t&&"object"==typeof t&&(this.url="string"==typeof t.url?t.url:"",this.status="number"==typeof t.status?t.status:0,this.isAbort=!!t.isAbort,this.originalError=t.originalError,null!==t.response&&"object"==typeof t.response?this.response=t.response:null!==t.data&&"object"==typeof t.data?this.response=t.data:this.response={}),this.originalError||t instanceof Ee||(this.originalError=t),"undefined"!=typeof DOMException&&t instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=this.response?.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":this.originalError?.cause?.message?.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const qe=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Ie(t,e,n){const s=Object.assign({},n||{}),o=s.encode||Re;if(!qe.test(t))throw new TypeError("argument name is invalid");const r=o(e);if(r&&!qe.test(r))throw new TypeError("argument val is invalid");let i=t+"="+r;if(null!=s.maxAge){const t=s.maxAge-0;if(isNaN(t)||!isFinite(t))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(t)}if(s.domain){if(!qe.test(s.domain))throw new TypeError("option domain is invalid");i+="; Domain="+s.domain}if(s.path){if(!qe.test(s.path))throw new TypeError("option path is invalid");i+="; Path="+s.path}if(s.expires){if(!function(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}(s.expires)||isNaN(s.expires.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(i+="; HttpOnly"),s.secure&&(i+="; Secure"),s.priority)switch("string"==typeof s.priority?s.priority.toLowerCase():s.priority){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}function Ae(t){return-1!==t.indexOf("%")?decodeURIComponent(t):t}function Re(t){return encodeURIComponent(t)}const Le="undefined"!=typeof navigator&&"ReactNative"===navigator.product||"undefined"!=typeof global&&global.HermesInternal;let je;function Ue(t){if(t)try{const e=decodeURIComponent(je(t.split(".")[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(e)||{}}catch(t){}return{}}function Ne(t,e=0){let n=Ue(t);return!(Object.keys(n).length>0&&(!n.exp||n.exp-e>Date.now()/1e3))}je="function"!=typeof atob||Le?t=>{let e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,s,o=0,r=0,i="";s=e.charAt(r++);~s&&(n=o%4?64*n+s:s,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return i}:atob;const De="pb_auth";class Me{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!Ne(this.token)}get isAdmin(){return"admin"===Ue(this.token).type}get isAuthRecord(){return"authRecord"===Ue(this.token).type}save(t,e){this.baseToken=t||"",this.baseModel=e||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(t,e=De){const n=function(t,e){const n={};if("string"!=typeof t)return n;const s=Object.assign({},e||{}).decode||Ae;let o=0;for(;o<t.length;){const e=t.indexOf("=",o);if(-1===e)break;let r=t.indexOf(";",o);if(-1===r)r=t.length;else if(r<e){o=t.lastIndexOf(";",e-1)+1;continue}const i=t.slice(o,e).trim();if(void 0===n[i]){let o=t.slice(e+1,r).trim();34===o.charCodeAt(0)&&(o=o.slice(1,-1));try{n[i]=s(o)}catch(t){n[i]=o}}o=r+1}return n}(t||"")[e]||"";let s={};try{s=JSON.parse(n),(null===typeof s||"object"!=typeof s||Array.isArray(s))&&(s={})}catch(t){}this.save(s.token||"",s.model||null)}exportToCookie(t,e=De){const n={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=Ue(this.token);n.expires=s?.exp?new Date(1e3*s.exp):new Date("1970-01-01"),t=Object.assign({},n,t);const o={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let r=Ie(e,JSON.stringify(o),t);const i="undefined"!=typeof Blob?new Blob([r]).size:r.length;if(o.model&&i>4096){o.model={id:o?.model?.id,email:o?.model?.email};const n=["collectionId","username","verified"];for(const t in this.model)n.includes(t)&&(o.model[t]=this.model[t]);r=Ie(e,JSON.stringify(o),t)}return r}onChange(t,e=!1){return this._onChangeCallbacks.push(t),e&&t(this.token,this.model),()=>{for(let e=this._onChangeCallbacks.length-1;e>=0;e--)if(this._onChangeCallbacks[e]==t)return delete this._onChangeCallbacks[e],void this._onChangeCallbacks.splice(e,1)}}triggerChange(){for(const t of this._onChangeCallbacks)t&&t(this.token,this.model)}}class Be extends Me{constructor(t="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=t,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(t,e){this._storageSet(this.storageKey,{token:t,model:e}),super.save(t,e)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(t){if("undefined"!=typeof window&&window?.localStorage){const e=window.localStorage.getItem(t)||"";try{return JSON.parse(e)}catch(t){return e}}return this.storageFallback[t]}_storageSet(t,e){if("undefined"!=typeof window&&window?.localStorage){let n=e;"string"!=typeof e&&(n=JSON.stringify(e)),window.localStorage.setItem(t,n)}else this.storageFallback[t]=e}_storageRemove(t){"undefined"!=typeof window&&window?.localStorage&&window.localStorage?.removeItem(t),delete this.storageFallback[t]}_bindStorageEvent(){"undefined"!=typeof window&&window?.localStorage&&window.addEventListener&&window.addEventListener("storage",(t=>{if(t.key!=this.storageKey)return;const e=this._storageGet(this.storageKey)||{};super.save(e.token||"",e.model||null)}))}}class Fe{constructor(t){this.client=t}}class We extends Fe{async getAll(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/settings",t)}async update(t,e){return e=Object.assign({method:"PATCH",body:t},e),this.client.send("/api/settings",e)}async testS3(t="storage",e){return e=Object.assign({method:"POST",body:{filesystem:t}},e),this.client.send("/api/settings/test/s3",e).then((()=>!0))}async testEmail(t,e,n){return n=Object.assign({method:"POST",body:{email:t,template:e}},n),this.client.send("/api/settings/test/email",n).then((()=>!0))}async generateAppleClientSecret(t,e,n,s,o,r){return r=Object.assign({method:"POST",body:{clientId:t,teamId:e,keyId:n,privateKey:s,duration:o}},r),this.client.send("/api/settings/apple/generate-client-secret",r)}}class He extends Fe{decode(t){return t}async getFullList(t,e){if("number"==typeof t)return this._getFullList(t,e);let n=500;return(e=Object.assign({},t,e)).batch&&(n=e.batch,delete e.batch),this._getFullList(n,e)}async getList(t=1,e=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:t,perPage:e},n.query),this.client.send(this.baseCrudPath,n).then((t=>(t.items=t.items?.map((t=>this.decode(t)))||[],t)))}async getFirstListItem(t,e){return(e=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+t},e)).query=Object.assign({filter:t,skipTotal:1},e.query),this.getList(1,1,e).then((t=>{if(!t?.items?.length)throw new Ee({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return t.items[0]}))}async getOne(t,e){if(!t)throw new Ee({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),e).then((t=>this.decode(t)))}async create(t,e){return e=Object.assign({method:"POST",body:t},e),this.client.send(this.baseCrudPath,e).then((t=>this.decode(t)))}async update(t,e,n){return n=Object.assign({method:"PATCH",body:e},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),n).then((t=>this.decode(t)))}async delete(t,e){return e=Object.assign({method:"DELETE"},e),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),e).then((()=>!0))}_getFullList(t=500,e){(e=e||{}).query=Object.assign({skipTotal:1},e.query);let n=[],s=async o=>this.getList(o,t||500,e).then((t=>{const e=t.items;return n=n.concat(e),e.length==t.perPage?s(o+1):n}));return s(1)}}function ze(t,e,n,s){const o=void 0!==s;return o||void 0!==n?o?(console.warn(t),e.body=Object.assign({},e.body,n),e.query=Object.assign({},e.query,s),e):Object.assign(e,n):e}function Ge(t){t._resetAutoRefresh?.()}class Ke extends He{get baseCrudPath(){return"/api/admins"}async update(t,e,n){return super.update(t,e,n).then((t=>(this.client.authStore.model?.id===t.id&&void 0===this.client.authStore.model?.collectionId&&this.client.authStore.save(this.client.authStore.token,t),t)))}async delete(t,e){return super.delete(t,e).then((e=>(e&&this.client.authStore.model?.id===t&&void 0===this.client.authStore.model?.collectionId&&this.client.authStore.clear(),e)))}authResponse(t){const e=this.decode(t?.admin||{});return t?.token&&t?.admin&&this.client.authStore.save(t.token,e),Object.assign({},t,{token:t?.token||"",admin:e})}async authWithPassword(t,e,n,s){let o={method:"POST",body:{identity:t,password:e}};o=ze("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",o,n,s);const r=o.autoRefreshThreshold;delete o.autoRefreshThreshold,o.autoRefresh||Ge(this.client);let i=await this.client.send(this.baseCrudPath+"/auth-with-password",o);return i=this.authResponse(i),r&&function(t,e,n,s){Ge(t);const o=t.beforeSend,r=t.authStore.model,i=t.authStore.onChange(((e,n)=>{(!e||n?.id!=r?.id||(n?.collectionId||r?.collectionId)&&n?.collectionId!=r?.collectionId)&&Ge(t)}));t._resetAutoRefresh=function(){i(),t.beforeSend=o,delete t._resetAutoRefresh},t.beforeSend=async(r,i)=>{const a=t.authStore.token;if(i.query?.autoRefresh)return o?o(r,i):{url:r,sendOptions:i};let c=t.authStore.isValid;if(c&&Ne(t.authStore.token,e))try{await n()}catch(t){c=!1}c||await s();const l=i.headers||{};for(let e in l)if("authorization"==e.toLowerCase()&&a==l[e]&&t.authStore.token){l[e]=t.authStore.token;break}return i.headers=l,o?o(r,i):{url:r,sendOptions:i}}}(this.client,r,(()=>this.authRefresh({autoRefresh:!0})),(()=>this.authWithPassword(t,e,Object.assign({autoRefresh:!0},o)))),i}async authRefresh(t,e){let n={method:"POST"};return n=ze("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,t,e),this.client.send(this.baseCrudPath+"/auth-refresh",n).then(this.authResponse.bind(this))}async requestPasswordReset(t,e,n){let s={method:"POST",body:{email:t}};return s=ze("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,e,n),this.client.send(this.baseCrudPath+"/request-password-reset",s).then((()=>!0))}async confirmPasswordReset(t,e,n,s,o){let r={method:"POST",body:{token:t,password:e,passwordConfirm:n}};return r=ze("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",r,s,o),this.client.send(this.baseCrudPath+"/confirm-password-reset",r).then((()=>!0))}}const Ve=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Je(t){if(t){t.query=t.query||{};for(let e in t)Ve.includes(e)||(t.query[e]=t[e],delete t[e])}}class Ye extends Fe{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(t,e,n){if(!t)throw new Error("topic must be set.");let s=t;if(n){Je(n);const t="options="+encodeURIComponent(JSON.stringify({query:n.query,headers:n.headers}));s+=(s.includes("?")?"&":"?")+t}const o=function(t){const n=t;let s;try{s=JSON.parse(n?.data)}catch{}e(s||{})};return this.subscriptions[s]||(this.subscriptions[s]=[]),this.subscriptions[s].push(o),this.isConnected?1===this.subscriptions[s].length?await this.submitSubscriptions():this.eventSource?.addEventListener(s,o):await this.connect(),async()=>this.unsubscribeByTopicAndListener(t,o)}async unsubscribe(t){let e=!1;if(t){const n=this.getSubscriptionsByTopic(t);for(let t in n)if(this.hasSubscriptionListeners(t)){for(let e of this.subscriptions[t])this.eventSource?.removeEventListener(t,e);delete this.subscriptions[t],e||(e=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?e&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(t){let e=!1;for(let n in this.subscriptions)if((n+"?").startsWith(t)){e=!0;for(let t of this.subscriptions[n])this.eventSource?.removeEventListener(n,t);delete this.subscriptions[n]}e&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(t,e){let n=!1;const s=this.getSubscriptionsByTopic(t);for(let t in s){if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)continue;let s=!1;for(let n=this.subscriptions[t].length-1;n>=0;n--)this.subscriptions[t][n]===e&&(s=!0,delete this.subscriptions[t][n],this.subscriptions[t].splice(n,1),this.eventSource?.removeEventListener(t,e));s&&(this.subscriptions[t].length||delete this.subscriptions[t],n||this.hasSubscriptionListeners(t)||(n=!0))}this.hasSubscriptionListeners()?n&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(t){if(this.subscriptions=this.subscriptions||{},t)return!!this.subscriptions[t]?.length;for(let t in this.subscriptions)if(this.subscriptions[t]?.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch((t=>{if(!t?.isAbort)throw t}))}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(t){const e={};t=t.includes("?")?t:t+"?";for(let n in this.subscriptions)(n+"?").startsWith(t)&&(e[n]=this.subscriptions[n]);return e}getNonEmptySubscriptionKeys(){const t=[];for(let e in this.subscriptions)this.subscriptions[e].length&&t.push(e);return t}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let t in this.subscriptions)for(let e of this.subscriptions[t])this.eventSource.addEventListener(t,e)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let t in this.subscriptions)for(let e of this.subscriptions[t])this.eventSource.removeEventListener(t,e)}async connect(){if(!(this.reconnectAttempts>0))return new Promise(((t,e)=>{this.pendingConnects.push({resolve:t,reject:e}),this.pendingConnects.length>1||this.initConnect()}))}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout((()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))}),this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=t=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",(t=>{const e=t;this.clientId=e?.lastEventId,this.submitSubscriptions().then((async()=>{let t=3;for(;this.hasUnsentSubscriptions()&&t>0;)t--,await this.submitSubscriptions()})).then((()=>{for(let t of this.pendingConnects)t.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const e=this.getSubscriptionsByTopic("PB_CONNECT");for(let n in e)for(let s of e[n])s(t)})).catch((t=>{this.clientId="",this.connectErrorHandler(t)}))}))}hasUnsentSubscriptions(){const t=this.getNonEmptySubscriptionKeys();if(t.length!=this.lastSentSubscriptions.length)return!0;for(const e of t)if(!this.lastSentSubscriptions.includes(e))return!0;return!1}connectErrorHandler(t){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let e of this.pendingConnects)e.reject(new Ee(t));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const e=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout((()=>{this.initConnect()}),e)}disconnect(t=!1){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),this.eventSource?.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(let t of this.pendingConnects)t.resolve();this.pendingConnects=[]}}}class Qe extends He{constructor(t,e){super(t),this.collectionIdOrName=e}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(t,e,n){if(!t)throw new Error("Missing topic.");if(!e)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,e,n)}async unsubscribe(t){return t?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(t,e){if("number"==typeof t)return super.getFullList(t,e);const n=Object.assign({},t,e);return super.getFullList(n)}async getList(t=1,e=30,n){return super.getList(t,e,n)}async getFirstListItem(t,e){return super.getFirstListItem(t,e)}async getOne(t,e){return super.getOne(t,e)}async create(t,e){return super.create(t,e)}async update(t,e,n){return super.update(t,e,n).then((t=>(this.client.authStore.model?.id!==t?.id||this.client.authStore.model?.collectionId!==this.collectionIdOrName&&this.client.authStore.model?.collectionName!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,t),t)))}async delete(t,e){return super.delete(t,e).then((e=>(!e||this.client.authStore.model?.id!==t||this.client.authStore.model?.collectionId!==this.collectionIdOrName&&this.client.authStore.model?.collectionName!==this.collectionIdOrName||this.client.authStore.clear(),e)))}authResponse(t){const e=this.decode(t?.record||{});return this.client.authStore.save(t?.token,e),Object.assign({},t,{token:t?.token||"",record:e})}async listAuthMethods(t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCollectionPath+"/auth-methods",t).then((t=>Object.assign({},t,{usernamePassword:!!t?.usernamePassword,emailPassword:!!t?.emailPassword,authProviders:Array.isArray(t?.authProviders)?t?.authProviders:[]})))}async authWithPassword(t,e,n,s){let o={method:"POST",body:{identity:t,password:e}};return o=ze("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",o,n,s),this.client.send(this.baseCollectionPath+"/auth-with-password",o).then((t=>this.authResponse(t)))}async authWithOAuth2Code(t,e,n,s,o,r,i){let a={method:"POST",body:{provider:t,code:e,codeVerifier:n,redirectUrl:s,createData:o}};return a=ze("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",a,r,i),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",a).then((t=>this.authResponse(t)))}async authWithOAuth2(...t){if(t.length>1||"string"==typeof t?.[0])return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code(t?.[0]||"",t?.[1]||"",t?.[2]||"",t?.[3]||"",t?.[4]||{},t?.[5]||{},t?.[6]||{});const e=t?.[0]||{},n=(await this.listAuthMethods()).authProviders.find((t=>t.name===e.provider));if(!n)throw new Ee(new Error(`Missing or invalid provider "${e.provider}".`));const s=this.client.buildUrl("/api/oauth2-redirect"),o=new Ye(this.client);let r=null;function i(){r?.close(),o.unsubscribe()}return e.urlCallback||(r=Xe(void 0)),new Promise((async(t,a)=>{try{await o.subscribe("@oauth2",(async r=>{const c=o.clientId;try{if(!r.state||c!==r.state)throw new Error("State parameters don't match.");if(r.error||!r.code)throw new Error("OAuth2 redirect error or missing code: "+r.error);const o=Object.assign({},e);delete o.provider,delete o.scopes,delete o.createData,delete o.urlCallback;const i=await this.authWithOAuth2Code(n.name,r.code,n.codeVerifier,s,e.createData,o);t(i)}catch(t){a(new Ee(t))}i()}));const c={state:o.clientId};e.scopes?.length&&(c.scope=e.scopes.join(" "));const l=this._replaceQueryParams(n.authUrl+s,c);let u=e.urlCallback||function(t){r?r.location.href=t:r=Xe(t)};await u(l)}catch(t){i(),a(new Ee(t))}}))}async authRefresh(t,e){let n={method:"POST"};return n=ze("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,t,e),this.client.send(this.baseCollectionPath+"/auth-refresh",n).then((t=>this.authResponse(t)))}async requestPasswordReset(t,e,n){let s={method:"POST",body:{email:t}};return s=ze("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,e,n),this.client.send(this.baseCollectionPath+"/request-password-reset",s).then((()=>!0))}async confirmPasswordReset(t,e,n,s,o){let r={method:"POST",body:{token:t,password:e,passwordConfirm:n}};return r=ze("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",r,s,o),this.client.send(this.baseCollectionPath+"/confirm-password-reset",r).then((()=>!0))}async requestVerification(t,e,n){let s={method:"POST",body:{email:t}};return s=ze("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",s,e,n),this.client.send(this.baseCollectionPath+"/request-verification",s).then((()=>!0))}async confirmVerification(t,e,n){let s={method:"POST",body:{token:t}};return s=ze("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",s,e,n),this.client.send(this.baseCollectionPath+"/confirm-verification",s).then((()=>{const e=Ue(t),n=this.client.authStore.model;return n&&!n.verified&&n.id===e.id&&n.collectionId===e.collectionId&&(n.verified=!0,this.client.authStore.save(this.client.authStore.token,n)),!0}))}async requestEmailChange(t,e,n){let s={method:"POST",body:{newEmail:t}};return s=ze("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",s,e,n),this.client.send(this.baseCollectionPath+"/request-email-change",s).then((()=>!0))}async confirmEmailChange(t,e,n,s){let o={method:"POST",body:{token:t,password:e}};return o=ze("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",o,n,s),this.client.send(this.baseCollectionPath+"/confirm-email-change",o).then((()=>{const e=Ue(t),n=this.client.authStore.model;return n&&n.id===e.id&&n.collectionId===e.collectionId&&this.client.authStore.clear(),!0}))}async listExternalAuths(t,e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",e)}async unlinkExternalAuth(t,e,n){return n=Object.assign({method:"DELETE"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(e),n).then((()=>!0))}_replaceQueryParams(t,e={}){let n=t,s="";t.indexOf("?")>=0&&(n=t.substring(0,t.indexOf("?")),s=t.substring(t.indexOf("?")+1));const o={},r=s.split("&");for(const t of r){if(""==t)continue;const e=t.split("=");o[decodeURIComponent(e[0].replace(/\+/g," "))]=decodeURIComponent((e[1]||"").replace(/\+/g," "))}for(let t in e)e.hasOwnProperty(t)&&(null==e[t]?delete o[t]:o[t]=e[t]);s="";for(let t in o)o.hasOwnProperty(t)&&(""!=s&&(s+="&"),s+=encodeURIComponent(t.replace(/%20/g,"+"))+"="+encodeURIComponent(o[t].replace(/%20/g,"+")));return""!=s?n+"?"+s:n}}function Xe(t){if("undefined"==typeof window||!window?.open)throw new Ee(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,n=768,s=window.innerWidth,o=window.innerHeight;e=e>s?s:e,n=n>o?o:n;let r=s/2-e/2,i=o/2-n/2;return window.open(t,"popup_window","width="+e+",height="+n+",top="+i+",left="+r+",resizable,menubar=no")}class Ze extends He{get baseCrudPath(){return"/api/collections"}async import(t,e=!1,n){return n=Object.assign({method:"PUT",body:{collections:t,deleteMissing:e}},n),this.client.send(this.baseCrudPath+"/import",n).then((()=>!0))}}class tn extends Fe{async getList(t=1,e=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:t,perPage:e},n.query),this.client.send("/api/logs",n)}async getOne(t,e){if(!t)throw new Ee({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/"+encodeURIComponent(t),e)}async getStats(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/stats",t)}}class en extends Fe{async check(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/health",t)}}class nn extends Fe{getUrl(t,e,n={}){if(!e||!t?.id||!t?.collectionId&&!t?.collectionName)return"";const s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(t.collectionId||t.collectionName)),s.push(encodeURIComponent(t.id)),s.push(encodeURIComponent(e));let o=this.client.buildUrl(s.join("/"));if(Object.keys(n).length){!1===n.download&&delete n.download;const t=new URLSearchParams(n);o+=(o.includes("?")?"&":"?")+t}return o}async getToken(t){return t=Object.assign({method:"POST"},t),this.client.send("/api/files/token",t).then((t=>t?.token||""))}}class sn extends Fe{async getFullList(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/backups",t)}async create(t,e){return e=Object.assign({method:"POST",body:{name:t}},e),this.client.send("/api/backups",e).then((()=>!0))}async upload(t,e){return e=Object.assign({method:"POST",body:t},e),this.client.send("/api/backups/upload",e).then((()=>!0))}async delete(t,e){return e=Object.assign({method:"DELETE"},e),this.client.send(`/api/backups/${encodeURIComponent(t)}`,e).then((()=>!0))}async restore(t,e){return e=Object.assign({method:"POST"},e),this.client.send(`/api/backups/${encodeURIComponent(t)}/restore`,e).then((()=>!0))}getDownloadUrl(t,e){return this.client.buildUrl(`/api/backups/${encodeURIComponent(e)}?token=${encodeURIComponent(t)}`)}}const on=new class{constructor(t="/",e,n="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=n,this.authStore=e||new Be,this.admins=new Ke(this),this.collections=new Ze(this),this.files=new nn(this),this.logs=new tn(this),this.settings=new We(this),this.realtime=new Ye(this),this.health=new en(this),this.backups=new sn(this)}collection(t){return this.recordServices[t]||(this.recordServices[t]=new Qe(this,t)),this.recordServices[t]}autoCancellation(t){return this.enableAutoCancellation=!!t,this}cancelRequest(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this}cancelAllRequests(){for(let t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this}filter(t,e){if(!e)return t;for(let n in e){let s=e[n];switch(typeof s){case"boolean":case"number":s=""+s;break;case"string":s="'"+s.replace(/'/g,"\\'")+"'";break;default:s=null===s?"null":s instanceof Date?"'"+s.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(s).replace(/'/g,"\\'")+"'"}t=t.replaceAll("{:"+n+"}",s)}return t}getFileUrl(t,e,n={}){return this.files.getUrl(t,e,n)}buildUrl(t){let e=this.baseUrl;return"undefined"==typeof window||!window.location||e.startsWith("https://")||e.startsWith("http://")||(e=window.location.origin?.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(e+=window.location.pathname||"/",e+=e.endsWith("/")?"":"/"),e+=this.baseUrl),t&&(e+=e.endsWith("/")?"":"/",e+=t.startsWith("/")?t.substring(1):t),e}async send(t,e){e=this.initSendOptions(t,e);let n=this.buildUrl(t);if(this.beforeSend){const t=Object.assign({},await this.beforeSend(n,e));void 0!==t.url||void 0!==t.options?(n=t.url||n,e=t.options||e):Object.keys(t).length&&(e=t,console?.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(void 0!==e.query){const t=this.serializeQueryParams(e.query);t&&(n+=(n.includes("?")?"&":"?")+t),delete e.query}return"application/json"==this.getHeader(e.headers,"Content-Type")&&e.body&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body)),(e.fetch||fetch)(n,e).then((async t=>{let e={};try{e=await t.json()}catch(t){}if(this.afterSend&&(e=await this.afterSend(t,e)),t.status>=400)throw new Ee({url:t.url,status:t.status,data:e});return e})).catch((t=>{throw new Ee(t)}))}initSendOptions(t,e){if((e=Object.assign({method:"GET"},e)).body=this.convertToFormDataIfNeeded(e.body),Je(e),e.query=Object.assign({},e.params,e.query),void 0===e.requestKey&&(!1===e.$autoCancel||!1===e.query.$autoCancel?e.requestKey=null:(e.$cancelKey||e.query.$cancelKey)&&(e.requestKey=e.$cancelKey||e.query.$cancelKey)),delete e.$autoCancel,delete e.query.$autoCancel,delete e.$cancelKey,delete e.query.$cancelKey,null!==this.getHeader(e.headers,"Content-Type")||this.isFormData(e.body)||(e.headers=Object.assign({},e.headers,{"Content-Type":"application/json"})),null===this.getHeader(e.headers,"Accept-Language")&&(e.headers=Object.assign({},e.headers,{"Accept-Language":this.lang})),this.authStore.token&&null===this.getHeader(e.headers,"Authorization")&&(e.headers=Object.assign({},e.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&null!==e.requestKey){const n=e.requestKey||(e.method||"GET")+t;delete e.requestKey,this.cancelRequest(n);const s=new AbortController;this.cancelControllers[n]=s,e.signal=s.signal}return e}convertToFormDataIfNeeded(t){if("undefined"==typeof FormData||void 0===t||"object"!=typeof t||null===t||this.isFormData(t)||!this.hasBlobField(t))return t;const e=new FormData;for(const n in t){const s=t[n];if("object"!=typeof s||this.hasBlobField({data:s})){const t=Array.isArray(s)?s:[s];for(let s of t)e.append(n,s)}else{let t={};t[n]=s,e.append("@jsonPayload",JSON.stringify(t))}}return e}hasBlobField(t){for(const e in t){const n=Array.isArray(t[e])?t[e]:[t[e]];for(const t of n)if("undefined"!=typeof Blob&&t instanceof Blob||"undefined"!=typeof File&&t instanceof File)return!0}return!1}getHeader(t,e){t=t||{},e=e.toLowerCase();for(let n in t)if(n.toLowerCase()==e)return t[n];return null}isFormData(t){return t&&("FormData"===t.constructor.name||"undefined"!=typeof FormData&&t instanceof FormData)}serializeQueryParams(t){const e=[];for(const n in t){if(null===t[n])continue;const s=t[n],o=encodeURIComponent(n);if(Array.isArray(s))for(const t of s)e.push(o+"="+encodeURIComponent(t));else s instanceof Date?e.push(o+"="+encodeURIComponent(s.toISOString())):null!==typeof s&&"object"==typeof s?e.push(o+"="+encodeURIComponent(JSON.stringify(s))):e.push(o+"="+encodeURIComponent(s))}return e.join("&")}}("http://127.0.0.1:8090");function rn(t){let e,n;return{c(){e=I("title"),n=A(t[0])},m(t,s){T(t,e,s),k(e,n)},p(t,e){1&e&&F(n,t[0])},d(t){t&&_(e)}}}function an(t){let e,n,s,o=t[0]&&rn(t);const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=I("svg"),o&&o.c(),n=L(),i&&i.c(),N(e,"xmlns","http://www.w3.org/2000/svg"),N(e,"viewBox",t[1]),N(e,"class","svelte-3h8371")},m(t,r){T(t,e,r),o&&o.m(e,null),k(e,n),i&&i.m(e,null),s=!0},p(t,[a]){t[0]?o?o.p(t,a):(o=rn(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),i&&i.p&&(!s||4&a)&&m(i,r,t,t[2],s?f(r,t[2],a,null):b(t[2]),null),(!s||2&a)&&N(e,"viewBox",t[1])},i(t){s||(St(i,t),s=!0)},o(t){kt(i,t),s=!1},d(t){t&&_(e),o&&o.d(),i&&i.d(t)}}}function cn(t,e,n){let{$$slots:s={},$$scope:o}=e,{title:r=null}=e,{viewBox:i}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title),"viewBox"in t&&n(1,i=t.viewBox),"$$scope"in t&&n(2,o=t.$$scope)},[r,i,o,s]}class ln extends Nt{constructor(t){super(),Ut(this,t,cn,an,a,{title:0,viewBox:1})}}function un(e){let n;return{c(){n=I("path"),N(n,"d","M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z")},m(t,e){T(t,n,e)},p:t,d(t){t&&_(n)}}}function dn(t){let e,s;const o=[{viewBox:"0 0 448 512"},t[0]];let r={$$slots:{default:[un]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new ln({props:r}),{c(){At(e.$$.fragment)},m(t,n){Rt(e,t,n),s=!0},p(t,[n]){const s=1&n?qt(o,[o[0],It(t[0])]):{};2&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(St(e.$$.fragment,t),s=!0)},o(t){kt(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function hn(t,e,s){return t.$$set=t=>{s(0,e=n(n({},e),g(t)))},[e=g(e)]}class pn extends Nt{constructor(t){super(),Ut(this,t,hn,dn,a,{})}}function fn(e){let n;return{c(){n=I("path"),N(n,"d","M0 256v128c0 17.7 14.3 32 32 32h32V224H32c-17.7 0-32 14.3-32 32zM464 96H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H176c-44.2 0-80 35.8-80 80v272c0 35.3 28.7 64 64 64h320c35.3 0 64-28.7 64-64V176c0-44.2-35.8-80-80-80zM256 416h-64v-32h64v32zm-32-120c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm128 120h-64v-32h64v32zm96 0h-64v-32h64v32zm-32-120c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm192-72h-32v192h32c17.7 0 32-14.3 32-32V256c0-17.7-14.3-32-32-32z")},m(t,e){T(t,n,e)},p:t,d(t){t&&_(n)}}}function mn(t){let e,s;const o=[{viewBox:"0 0 640 512"},t[0]];let r={$$slots:{default:[fn]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new ln({props:r}),{c(){At(e.$$.fragment)},m(t,n){Rt(e,t,n),s=!0},p(t,[n]){const s=1&n?qt(o,[o[0],It(t[0])]):{};2&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(St(e.$$.fragment,t),s=!0)},o(t){kt(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function bn(t,e,s){return t.$$set=t=>{s(0,e=n(n({},e),g(t)))},[e=g(e)]}class gn extends Nt{constructor(t){super(),Ut(this,t,bn,mn,a,{})}}function yn(e){let n;return{c(){n=I("path"),N(n,"d","M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z")},m(t,e){T(t,n,e)},p:t,d(t){t&&_(n)}}}function wn(t){let e,s;const o=[{viewBox:"0 0 512 512"},t[0]];let r={$$slots:{default:[yn]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new ln({props:r}),{c(){At(e.$$.fragment)},m(t,n){Rt(e,t,n),s=!0},p(t,[n]){const s=1&n?qt(o,[o[0],It(t[0])]):{};2&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(St(e.$$.fragment,t),s=!0)},o(t){kt(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function $n(t,e,s){return t.$$set=t=>{s(0,e=n(n({},e),g(t)))},[e=g(e)]}class xn extends Nt{constructor(t){super(),Ut(this,t,$n,wn,a,{})}}function vn(e){let n;return{c(){n=I("path"),N(n,"d","M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z")},m(t,e){T(t,n,e)},p:t,d(t){t&&_(n)}}}function Cn(t){let e,s;const o=[{viewBox:"0 0 448 512"},t[0]];let r={$$slots:{default:[vn]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new ln({props:r}),{c(){At(e.$$.fragment)},m(t,n){Rt(e,t,n),s=!0},p(t,[n]){const s=1&n?qt(o,[o[0],It(t[0])]):{};2&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(St(e.$$.fragment,t),s=!0)},o(t){kt(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function Sn(t,e,s){return t.$$set=t=>{s(0,e=n(n({},e),g(t)))},[e=g(e)]}class kn extends Nt{constructor(t){super(),Ut(this,t,Sn,Cn,a,{})}}function Pn(e){let n,s,o,r,i,a,c,l,u,d,h,p,f,m,b,g,y,w,$,x,v,C,S,P,O,E,I,A,L,j,U,D,M,B,F,W,H,z,G,K,V,J,Y,Q,X,Z,tt,et,nt,st,ot;return g=new pn({}),P=new gn({}),D=new xn({}),K=new kn({}),{c(){n=q("div"),s=q("div"),o=q("h1"),o.textContent=`Welcome to Grably, ${e[0]}`,r=R(),i=q("p"),i.textContent="Fueling AI Innovation with Highly-Specific, Off-the-Shelf Datasets",a=R(),c=q("button"),c.textContent="Explore Datasets",l=R(),u=q("section"),d=q("div"),h=q("h2"),h.textContent="Why Choose Grably?",p=R(),f=q("div"),m=q("div"),b=q("div"),At(g.$$.fragment),y=R(),w=q("h3"),w.textContent="Vast Data Library",$=R(),x=q("p"),x.textContent="Access 2,500TB of image data, 4.5 trillion dialog messages, and more.",v=R(),C=q("div"),S=q("div"),At(P.$$.fragment),O=R(),E=q("h3"),E.textContent="AI-Ready Datasets",I=R(),A=q("p"),A.textContent="Tailored for AI products and ML research, our data fuels innovation.",L=R(),j=q("div"),U=q("div"),At(D.$$.fragment),M=R(),B=q("h3"),B.textContent="Diverse & High-Quality",F=R(),W=q("p"),W.textContent="Millions of tags and labels ensure real-world data diversity.",H=R(),z=q("div"),G=q("div"),At(K.$$.fragment),V=R(),J=q("h3"),J.textContent="Ethical Sourcing",Y=R(),Q=q("p"),Q.textContent="Full transparency and rights assurance for all our datasets.",X=R(),Z=q("section"),Z.innerHTML='<div class="container mx-auto px-4"><h2 class="text-3xl font-bold mb-8 text-center">Empowering AI Across Industries</h2> <div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="bg-blue-100 p-6 rounded-lg"><h3 class="text-2xl font-semibold mb-4">For AI Products</h3> <p class="mb-4">Bridge the gap between concept and reality with our extensive real-world datasets. Grably provides the data you need to make your AI product work efficiently and accurately.</p> <button class="text-blue-600 font-semibold hover:underline">Learn More →</button></div> <div class="bg-purple-100 p-6 rounded-lg"><h3 class="text-2xl font-semibold mb-4">For AI/ML Researchers</h3> <p class="mb-4">Don&#39;t let a lack of data hold back your groundbreaking ideas. Grably offers diverse, high-quality datasets to fuel your research and push the boundaries of AI.</p> <button class="text-purple-600 font-semibold hover:underline">Explore Opportunities →</button></div></div></div>',tt=R(),et=q("section"),et.innerHTML='<div class="container mx-auto px-4 text-center"><h2 class="text-3xl font-bold mb-8">Ready to Supercharge Your AI?</h2> <p class="text-xl mb-8">Join thousands of companies and researchers already benefiting from Grably&#39;s datasets.</p> <button class="bg-white text-blue-600 px-8 py-3 rounded-full font-bold hover:bg-blue-100 transition duration-300">Get Started Now</button></div>',nt=R(),st=q("section"),st.innerHTML='<div class="container mx-auto px-4"><h2 class="text-3xl font-bold mb-8 text-center">What Our Clients Say</h2> <div class="grid grid-cols-1 md:grid-cols-3 gap-8"><div class="bg-gray-100 p-6 rounded-lg"><p class="mb-4">&quot;Grably&#39;s datasets have been instrumental in improving our AI model&#39;s accuracy by 40%. Their diverse data is unparalleled.&quot;</p> <p class="font-semibold">- John Doe, AI Research Lead at TechCorp</p></div> <div class="bg-gray-100 p-6 rounded-lg"><p class="mb-4">&quot;The speed at which we can access specific datasets through Grably has accelerated our development process significantly.&quot;</p> <p class="font-semibold">- Jane Smith, CTO at InnovateAI</p></div> <div class="bg-gray-100 p-6 rounded-lg"><p class="mb-4">&quot;As a researcher, having access to Grably&#39;s ethically sourced data has been a game-changer for my work in natural language processing.&quot;</p> <p class="font-semibold">- Dr. Alex Johnson, ML Researcher</p></div></div></div>',N(o,"class","text-5xl font-bold mb-6"),N(i,"class","text-2xl mb-8"),N(c,"class","bg-white text-blue-600 px-6 py-3 rounded-full font-bold hover:bg-blue-100 transition duration-300"),N(s,"class","container mx-auto px-4 py-16"),N(n,"class","bg-gradient-to-r from-blue-500 to-purple-600 text-white"),N(h,"class","text-3xl font-bold mb-8 text-center"),N(b,"class","text-blue-500 w-12 h-12 mb-4"),N(w,"class","text-xl font-semibold mb-2"),N(m,"class","bg-white p-6 rounded-lg shadow-md"),N(S,"class","text-blue-500 w-12 h-12 mb-4"),N(E,"class","text-xl font-semibold mb-2"),N(C,"class","bg-white p-6 rounded-lg shadow-md"),N(U,"class","text-blue-500 w-12 h-12 mb-4"),N(B,"class","text-xl font-semibold mb-2"),N(j,"class","bg-white p-6 rounded-lg shadow-md"),N(G,"class","text-blue-500 w-12 h-12 mb-4"),N(J,"class","text-xl font-semibold mb-2"),N(z,"class","bg-white p-6 rounded-lg shadow-md"),N(f,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"),N(d,"class","container mx-auto px-4"),N(u,"class","py-16 bg-gray-100"),N(Z,"class","py-16"),N(et,"class","py-16 bg-gray-800 text-white"),N(st,"class","py-16")},m(t,e){T(t,n,e),k(n,s),k(s,o),k(s,r),k(s,i),k(s,a),k(s,c),T(t,l,e),T(t,u,e),k(u,d),k(d,h),k(d,p),k(d,f),k(f,m),k(m,b),Rt(g,b,null),k(m,y),k(m,w),k(m,$),k(m,x),k(f,v),k(f,C),k(C,S),Rt(P,S,null),k(C,O),k(C,E),k(C,I),k(C,A),k(f,L),k(f,j),k(j,U),Rt(D,U,null),k(j,M),k(j,B),k(j,F),k(j,W),k(f,H),k(f,z),k(z,G),Rt(K,G,null),k(z,V),k(z,J),k(z,Y),k(z,Q),T(t,X,e),T(t,Z,e),T(t,tt,e),T(t,et,e),T(t,nt,e),T(t,st,e),ot=!0},p:t,i(t){ot||(St(g.$$.fragment,t),St(P.$$.fragment,t),St(D.$$.fragment,t),St(K.$$.fragment,t),ot=!0)},o(t){kt(g.$$.fragment,t),kt(P.$$.fragment,t),kt(D.$$.fragment,t),kt(K.$$.fragment,t),ot=!1},d(t){t&&(_(n),_(l),_(u),_(X),_(Z),_(tt),_(et),_(nt),_(st)),Lt(g),Lt(P),Lt(D),Lt(K)}}}function On(t){return[on.authStore.model?.name||"Guest"]}class Tn extends Nt{constructor(t){super(),Ut(this,t,On,Pn,a,{})}}function _n(t){let e,n,s,o,r,i,a,c,l,u,d,h,p,f=t[0].description+"",m=In(t[0].deadline)+"",b=t[0].price_per_point+"";return h=new te({props:{to:`/contract/${t[0].id}`,class:"text-blue-500 hover:underline",$$slots:{default:[En]},$$scope:{ctx:t}}}),{c(){e=q("div"),n=q("p"),s=R(),o=q("p"),r=A("Deadline: "),i=A(m),a=R(),c=q("p"),l=A("Price Per Point: $"),u=A(b),d=R(),At(h.$$.fragment),N(n,"class","mb-2"),N(o,"class","mb-2"),N(c,"class","mb-2"),N(e,"class","mt-4")},m(t,m){T(t,e,m),k(e,n),n.innerHTML=f,k(e,s),k(e,o),k(o,r),k(o,i),k(e,a),k(e,c),k(c,l),k(c,u),k(e,d),Rt(h,e,null),p=!0},p(t,e){(!p||1&e)&&f!==(f=t[0].description+"")&&(n.innerHTML=f),(!p||1&e)&&m!==(m=In(t[0].deadline)+"")&&F(i,m),(!p||1&e)&&b!==(b=t[0].price_per_point+"")&&F(u,b);const s={};1&e&&(s.to=`/contract/${t[0].id}`),256&e&&(s.$$scope={dirty:e,ctx:t}),h.$set(s)},i(t){p||(St(h.$$.fragment,t),p=!0)},o(t){kt(h.$$.fragment,t),p=!1},d(t){t&&_(e),Lt(h)}}}function En(t){let e;return{c(){e=A("View Details")},m(t,n){T(t,e,n)},d(t){t&&_(e)}}}function qn(t){let e,n,s,o,i,a,c,u,d,h,p,f,m,b,g,y,w,$,x,v,C,S,P,O,E=t[0].title+"",I=t[0].status+"",L=(t[0].total_collected||0)+"",U=t[0].amount_requested+"",D=t[1]&&_n(t);return{c(){e=q("div"),n=q("div"),s=q("img"),i=R(),a=q("div"),c=q("h2"),u=A(E),d=R(),h=q("p"),p=A(I),f=R(),m=q("div"),b=q("div"),g=R(),y=q("p"),w=A("Progress: $"),$=A(L),x=A(" / $"),v=A(U),C=R(),D&&D.c(),l(s.src,o=t[5](t[0]))||N(s,"src",o),N(s,"alt","Contract thumbnail"),N(s,"class","w-20 h-20 object-cover rounded mr-4"),N(c,"class","text-xl font-semibold mb-2"),N(h,"class","text-gray-600 mb-2"),N(b,"class","bg-blue-600 h-2.5 rounded-full"),H(b,"width",t[2]+"%"),N(m,"class","w-full bg-gray-200 rounded-full h-2.5"),N(y,"class","text-sm text-gray-500 mt-1"),N(a,"class","flex-grow"),N(n,"class","flex items-start"),N(e,"class","bg-white shadow-md rounded-lg p-4 cursor-pointer"),N(e,"tabindex","0"),N(e,"role","button"),N(e,"aria-expanded",t[1])},m(o,r){T(o,e,r),k(e,n),k(n,s),k(n,i),k(n,a),k(a,c),k(c,u),k(a,d),k(a,h),k(h,p),k(a,f),k(a,m),k(m,b),k(a,g),k(a,y),k(y,w),k(y,$),k(y,x),k(y,v),k(e,C),D&&D.m(e,null),S=!0,P||(O=[j(e,"click",t[3]),j(e,"keydown",t[4])],P=!0)},p(t,[n]){(!S||1&n&&!l(s.src,o=t[5](t[0])))&&N(s,"src",o),(!S||1&n)&&E!==(E=t[0].title+"")&&F(u,E),(!S||1&n)&&I!==(I=t[0].status+"")&&F(p,I),(!S||4&n)&&H(b,"width",t[2]+"%"),(!S||1&n)&&L!==(L=(t[0].total_collected||0)+"")&&F($,L),(!S||1&n)&&U!==(U=t[0].amount_requested+"")&&F(v,U),t[1]?D?(D.p(t,n),2&n&&St(D,1)):(D=_n(t),D.c(),St(D,1),D.m(e,null)):D&&(vt(),kt(D,1,1,(()=>{D=null})),Ct()),(!S||2&n)&&N(e,"aria-expanded",t[1])},i(t){S||(St(D),S=!0)},o(t){kt(D),S=!1},d(t){t&&_(e),D&&D.d(),P=!1,r(O)}}}function In(t){return new Date(t).toLocaleDateString()}function An(t,e,n){let s,{contract:o}=e,r=!1;function i(){n(1,r=!r)}return on.authStore.model,st(),t.$$set=t=>{"contract"in t&&n(0,o=t.contract)},t.$$.update=()=>{1&t.$$.dirty&&n(2,s=o.total_collected/o.amount_requested*100||0)},[o,r,s,i,function(t){"Enter"!==t.key&&" "!==t.key||i()},function(t){return t.thumbnail?on.files.getUrl(t,t.thumbnail):"my-grably-app/public/icon.webp"}]}class Rn extends Nt{constructor(t){super(),Ut(this,t,An,qn,a,{contract:0})}}function Ln(t,e,n){const s=t.slice();return s[4]=e[n],s}function jn(t){let e,n,s=[],o=new Map,i=_t(t[0]);const a=t=>t[4].id;for(let e=0;e<i.length;e+=1){let n=Ln(t,i,e),r=a(n);o.set(r,s[e]=Mn(r,n))}return{c(){e=q("div");for(let t=0;t<s.length;t+=1)s[t].c();N(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(t,o){T(t,e,o);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);n=!0},p(t,n){1&n&&(i=_t(t[0]),vt(),s=function(t,e,n,s,o,i,a,c,l,u,d,h){let p=t.length,f=i.length,m=p;const b={};for(;m--;)b[t[m].key]=m;const g=[],y=new Map,w=new Map,$=[];for(m=f;m--;){const t=h(o,i,m),r=n(t);let c=a.get(r);c?s&&$.push((()=>c.p(t,e))):(c=u(r,t),c.c()),y.set(r,g[m]=c),r in b&&w.set(r,Math.abs(m-b[r]))}const x=new Set,v=new Set;function C(t){St(t,1),t.m(c,d),a.set(t.key,t),d=t.first,f--}for(;p&&f;){const e=g[f-1],n=t[p-1],s=e.key,o=n.key;e===n?(d=e.first,p--,f--):y.has(o)?!a.has(s)||x.has(s)?C(e):v.has(o)?p--:w.get(s)>w.get(o)?(v.add(s),C(e)):(x.add(o),p--):(l(n,a),p--)}for(;p--;){const e=t[p];y.has(e.key)||l(e,a)}for(;f;)C(g[f-1]);return r($),g}(s,n,a,1,t,i,o,e,Et,Mn,null,Ln),Ct())},i(t){if(!n){for(let t=0;t<i.length;t+=1)St(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)kt(s[t]);n=!1},d(t){t&&_(e);for(let t=0;t<s.length;t+=1)s[t].d()}}}function Un(e){let n;return{c(){n=q("p"),n.textContent="No contracts found.",N(n,"class","text-center")},m(t,e){T(t,n,e)},p:t,i:t,o:t,d(t){t&&_(n)}}}function Nn(e){let n,s;return{c(){n=q("p"),s=A(e[2]),N(n,"class","text-red-500 text-center")},m(t,e){T(t,n,e),k(n,s)},p(t,e){4&e&&F(s,t[2])},i:t,o:t,d(t){t&&_(n)}}}function Dn(e){let n;return{c(){n=q("p"),n.textContent="Loading contracts...",N(n,"class","text-center")},m(t,e){T(t,n,e)},p:t,i:t,o:t,d(t){t&&_(n)}}}function Mn(t,e){let n,s,o;return s=new Rn({props:{contract:e[4]}}),{key:t,first:null,c(){n=L(),At(s.$$.fragment),this.first=n},m(t,e){T(t,n,e),Rt(s,t,e),o=!0},p(t,n){e=t;const o={};1&n&&(o.contract=e[4]),s.$set(o)},i(t){o||(St(s.$$.fragment,t),o=!0)},o(t){kt(s.$$.fragment,t),o=!1},d(t){t&&_(n),Lt(s,t)}}}function Bn(t){let e,n,s,o,r,i;const a=[Dn,Nn,Un,jn],c=[];function l(t,e){return t[1]?0:t[2]?1:0===t[0].length?2:3}return o=l(t),r=c[o]=a[o](t),{c(){e=q("div"),n=q("h1"),n.textContent="Contracts",s=R(),r.c(),N(n,"class","text-3xl font-bold mb-6"),N(e,"class","container mx-auto px-4")},m(t,r){T(t,e,r),k(e,n),k(e,s),c[o].m(e,null),i=!0},p(t,[n]){let s=o;o=l(t),o===s?c[o].p(t,n):(vt(),kt(c[s],1,1,(()=>{c[s]=null})),Ct(),r=c[o],r?r.p(t,n):(r=c[o]=a[o](t),r.c()),St(r,1),r.m(e,null))},i(t){i||(St(r),i=!0)},o(t){kt(r),i=!1},d(t){t&&_(e),c[o].d()}}}function Fn(t,e,n){let s=[],o=!0,r=null;return nt((async()=>{on.authStore.model;try{const t=await on.collection("Contract").getList(1,50,{sort:"-created",expand:"creator"});n(0,s=t.items)}catch(t){n(2,r=t.message)}finally{n(1,o=!1)}})),[s,o,r]}class Wn extends Nt{constructor(t){super(),Ut(this,t,Fn,Bn,a,{})}}function Hn(t){let e,n;return{c(){e=q("p"),n=A(t[2]),N(e,"class","text-red-500 mb-4")},m(t,s){T(t,e,s),k(e,n)},p(t,e){4&e&&F(n,t[2])},d(t){t&&_(e)}}}function zn(e){let n,s,o,i,a,c,l,u,d,h,p,f,m,b,g,y,w,$=e[2]&&Hn(e);return{c(){n=q("h2"),n.textContent="Login to Grably",s=R(),$&&$.c(),o=R(),i=q("form"),a=q("div"),c=q("label"),c.textContent="Email",l=R(),u=q("input"),d=R(),h=q("div"),p=q("label"),p.textContent="Password",f=R(),m=q("input"),b=R(),g=q("button"),g.textContent="Login",N(n,"class","text-2xl mb-4 font-bold text-center"),N(c,"for","email"),N(c,"class","block mb-2"),N(u,"id","email"),N(u,"type","text"),N(u,"class","w-full p-2 border rounded"),u.required=!0,N(a,"class","mb-4"),N(p,"for","password"),N(p,"class","block mb-2"),N(m,"id","password"),N(m,"type","password"),N(m,"class","w-full p-2 border rounded"),m.required=!0,N(h,"class","mb-4"),N(g,"type","submit"),N(g,"class","w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600")},m(t,r){T(t,n,r),T(t,s,r),$&&$.m(t,r),T(t,o,r),T(t,i,r),k(i,a),k(a,c),k(a,l),k(a,u),W(u,e[0]),k(i,d),k(i,h),k(h,p),k(h,f),k(h,m),W(m,e[1]),k(i,b),k(i,g),y||(w=[j(u,"input",e[4]),j(m,"input",e[5]),j(i,"submit",U(e[3]))],y=!0)},p(t,[e]){t[2]?$?$.p(t,e):($=Hn(t),$.c(),$.m(o.parentNode,o)):$&&($.d(1),$=null),1&e&&u.value!==t[0]&&W(u,t[0]),2&e&&m.value!==t[1]&&W(m,t[1])},i:t,o:t,d(t){t&&(_(n),_(s),_(o),_(i)),$&&$.d(t),y=!1,r(w)}}}function Gn(t,e,n){let s="",o="",r="";return[s,o,r,async function(){try{await on.collection("users").authWithPassword(s,o),ge("/")}catch(t){n(2,r=t.message)}},function(){s=this.value,n(0,s)},function(){o=this.value,n(1,o)}]}class Kn extends Nt{constructor(t){super(),Ut(this,t,Gn,zn,a,{})}}function Vn(t){let e,n;return{c(){e=q("p"),n=A(t[4]),N(e,"class","text-red-500 mb-4")},m(t,s){T(t,e,s),k(e,n)},p(t,e){16&e&&F(n,t[4])},d(t){t&&_(e)}}}function Jn(e){let n,s,o,i,a,c,l,u,d,h,p,f,m,b,g,y,w,$,x,v,C,S,P,O,E,I,A,L,D,M,B,F,H,G,K=e[4]&&Vn(e);return{c(){n=q("h2"),n.textContent="Sign Up for Grably",s=R(),K&&K.c(),o=R(),i=q("form"),a=q("div"),c=q("label"),c.textContent="Name",l=R(),u=q("input"),d=R(),h=q("div"),p=q("label"),p.textContent="Email",f=R(),m=q("input"),b=R(),g=q("div"),y=q("label"),y.textContent="Password",w=R(),$=q("input"),x=R(),v=q("div"),C=q("label"),C.textContent="Confirm Password",S=R(),P=q("input"),O=R(),E=q("div"),I=q("label"),I.textContent="Role",A=R(),L=q("select"),D=q("option"),D.textContent="Customer",M=q("option"),M.textContent="DataProvider",B=R(),F=q("button"),F.textContent="Sign Up",N(n,"class","text-2xl mb-4 font-bold text-center"),N(c,"for","name"),N(c,"class","block mb-2"),N(u,"id","name"),N(u,"type","text"),N(u,"class","w-full p-2 border rounded"),u.required=!0,N(a,"class","mb-4"),N(p,"for","email"),N(p,"class","block mb-2"),N(m,"id","email"),N(m,"type","email"),N(m,"class","w-full p-2 border rounded"),m.required=!0,N(h,"class","mb-4"),N(y,"for","password"),N(y,"class","block mb-2"),N($,"id","password"),N($,"type","password"),N($,"class","w-full p-2 border rounded"),$.required=!0,N(g,"class","mb-4"),N(C,"for","confirmPassword"),N(C,"class","block mb-2"),N(P,"id","confirmPassword"),N(P,"type","password"),N(P,"class","w-full p-2 border rounded"),P.required=!0,N(v,"class","mb-4"),N(I,"for","role"),N(I,"class","block mb-2"),D.__value="user",W(D,D.__value),M.__value="admin",W(M,M.__value),N(L,"id","role"),N(L,"class","w-full p-2 border rounded"),void 0===e[5]&&ht((()=>e[11].call(L))),N(E,"class","mb-4"),N(F,"type","submit"),N(F,"class","w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600")},m(t,r){T(t,n,r),T(t,s,r),K&&K.m(t,r),T(t,o,r),T(t,i,r),k(i,a),k(a,c),k(a,l),k(a,u),W(u,e[0]),k(i,d),k(i,h),k(h,p),k(h,f),k(h,m),W(m,e[1]),k(i,b),k(i,g),k(g,y),k(g,w),k(g,$),W($,e[2]),k(i,x),k(i,v),k(v,C),k(v,S),k(v,P),W(P,e[3]),k(i,O),k(i,E),k(E,I),k(E,A),k(E,L),k(L,D),k(L,M),z(L,e[5],!0),k(i,B),k(i,F),H||(G=[j(u,"input",e[7]),j(m,"input",e[8]),j($,"input",e[9]),j(P,"input",e[10]),j(L,"change",e[11]),j(i,"submit",U(e[6]))],H=!0)},p(t,[e]){t[4]?K?K.p(t,e):(K=Vn(t),K.c(),K.m(o.parentNode,o)):K&&(K.d(1),K=null),1&e&&u.value!==t[0]&&W(u,t[0]),2&e&&m.value!==t[1]&&W(m,t[1]),4&e&&$.value!==t[2]&&W($,t[2]),8&e&&P.value!==t[3]&&W(P,t[3]),32&e&&z(L,t[5])},i:t,o:t,d(t){t&&(_(n),_(s),_(o),_(i)),K&&K.d(t),H=!1,r(G)}}}function Yn(t,e,n){let s="",o="",r="",i="",a="",c="";return[s,o,r,i,a,c,async function(){if(r===i)try{const t={name:s,email:o,password:r,passwordConfirm:i,role:c};await on.collection("users").create(t),await on.collection("users").authWithPassword(o,r),ge("/contracts")}catch(t){n(4,a=t.message)}else n(4,a="Passwords don't match")},function(){s=this.value,n(0,s)},function(){o=this.value,n(1,o)},function(){r=this.value,n(2,r)},function(){i=this.value,n(3,i)},function(){c=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),n(5,c)}]}class Qn extends Nt{constructor(t){super(),Ut(this,t,Yn,Jn,a,{})}}function Xn(t){let e,n;return{c(){e=q("p"),n=A(t[2]),N(e,"class","text-red-500 mb-4")},m(t,s){T(t,e,s),k(e,n)},p(t,e){4&e&&F(n,t[2])},d(t){t&&_(e)}}}function Zn(t){let e,n;return{c(){e=q("p"),n=A(t[1]),N(e,"class","text-green-500 mb-4")},m(t,s){T(t,e,s),k(e,n)},p(t,e){2&e&&F(n,t[1])},d(t){t&&_(e)}}}function ts(e){let n,s,o,i,a,c,l,u,d,h,p,f,m,b=e[2]&&Xn(e),g=e[1]&&Zn(e);return{c(){n=q("h2"),n.textContent="Reset Password",s=R(),b&&b.c(),o=R(),g&&g.c(),i=R(),a=q("form"),c=q("div"),l=q("label"),l.textContent="Email",u=R(),d=q("input"),h=R(),p=q("button"),p.textContent="Reset Password",N(n,"class","text-2xl mb-4 font-bold text-center"),N(l,"for","email"),N(l,"class","block mb-2"),N(d,"id","email"),N(d,"type","email"),N(d,"class","w-full p-2 border rounded"),d.required=!0,N(c,"class","mb-4"),N(p,"type","submit"),N(p,"class","w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600")},m(t,r){T(t,n,r),T(t,s,r),b&&b.m(t,r),T(t,o,r),g&&g.m(t,r),T(t,i,r),T(t,a,r),k(a,c),k(c,l),k(c,u),k(c,d),W(d,e[0]),k(a,h),k(a,p),f||(m=[j(d,"input",e[4]),j(a,"submit",U(e[3]))],f=!0)},p(t,[e]){t[2]?b?b.p(t,e):(b=Xn(t),b.c(),b.m(o.parentNode,o)):b&&(b.d(1),b=null),t[1]?g?g.p(t,e):(g=Zn(t),g.c(),g.m(i.parentNode,i)):g&&(g.d(1),g=null),1&e&&d.value!==t[0]&&W(d,t[0])},i:t,o:t,d(t){t&&(_(n),_(s),_(o),_(i),_(a)),b&&b.d(t),g&&g.d(t),f=!1,r(m)}}}function es(t,e,n){let s="",o="",r="";return[s,o,r,async function(){try{await on.collection("users").requestPasswordReset(s),n(1,o="Password reset email sent. Please check your inbox."),n(2,r="")}catch(t){n(2,r=t.message),n(1,o="")}},function(){s=this.value,n(0,s)}]}class ns extends Nt{constructor(t){super(),Ut(this,t,es,ts,a,{})}}function ss(e){let n,s,o,r,i,a,c;return n=new ns({}),{c(){At(n.$$.fragment),s=R(),o=q("div"),r=q("button"),r.textContent="Back to login",N(r,"class","text-blue-500 hover:underline"),N(o,"class","mt-4 text-center")},m(t,l){Rt(n,t,l),T(t,s,l),T(t,o,l),k(o,r),i=!0,a||(c=j(r,"click",e[5]),a=!0)},p:t,i(t){i||(St(n.$$.fragment,t),i=!0)},o(t){kt(n.$$.fragment,t),i=!1},d(t){t&&(_(s),_(o)),Lt(n,t),a=!1,c()}}}function os(e){let n,s,o,r,i,a,c;return n=new Qn({}),{c(){At(n.$$.fragment),s=R(),o=q("div"),r=q("button"),r.textContent="Already have an account? Log in",N(r,"class","text-blue-500 hover:underline"),N(o,"class","mt-4 text-center")},m(t,l){Rt(n,t,l),T(t,s,l),T(t,o,l),k(o,r),i=!0,a||(c=j(r,"click",e[4]),a=!0)},p:t,i(t){i||(St(n.$$.fragment,t),i=!0)},o(t){kt(n.$$.fragment,t),i=!1},d(t){t&&(_(s),_(o)),Lt(n,t),a=!1,c()}}}function rs(e){let n,s,o,i,a,c,l,u,d,h,p;return n=new Kn({}),{c(){At(n.$$.fragment),s=R(),o=q("div"),i=q("button"),i.textContent="Create an account",a=R(),c=q("span"),c.textContent="|",l=R(),u=q("button"),u.textContent="Forgot password?",N(i,"class","text-blue-500 hover:underline"),N(c,"class","mx-2"),N(u,"class","text-blue-500 hover:underline"),N(o,"class","mt-4 text-center")},m(t,r){Rt(n,t,r),T(t,s,r),T(t,o,r),k(o,i),k(o,a),k(o,c),k(o,l),k(o,u),d=!0,h||(p=[j(i,"click",e[2]),j(u,"click",e[3])],h=!0)},p:t,i(t){d||(St(n.$$.fragment,t),d=!0)},o(t){kt(n.$$.fragment,t),d=!1},d(t){t&&(_(s),_(o)),Lt(n,t),h=!1,r(p)}}}function is(t){let e,n,s,o,r;const i=[rs,os,ss],a=[];function c(t,e){return"login"===t[0]?0:"signup"===t[0]?1:"reset"===t[0]?2:-1}return~(s=c(t))&&(o=a[s]=i[s](t)),{c(){e=q("div"),n=q("div"),o&&o.c(),N(n,"class","bg-white p-8 rounded shadow-md w-full max-w-md"),N(e,"class","flex items-center justify-center min-h-screen bg-gray-100")},m(t,o){T(t,e,o),k(e,n),~s&&a[s].m(n,null),r=!0},p(t,[e]){let r=s;s=c(t),s===r?~s&&a[s].p(t,e):(o&&(vt(),kt(a[r],1,1,(()=>{a[r]=null})),Ct()),~s?(o=a[s],o?o.p(t,e):(o=a[s]=i[s](t),o.c()),St(o,1),o.m(n,null)):o=null)},i(t){r||(St(o),r=!0)},o(t){kt(o),r=!1},d(t){t&&_(e),~s&&a[s].d()}}}function as(t,e,n){let s="login";function o(t){n(0,s=t)}return[s,o,()=>o("signup"),()=>o("reset"),()=>o("login"),()=>o("login")]}class cs extends Nt{constructor(t){super(),Ut(this,t,as,is,a,{})}}function ls(t){let e,n;return{c(){e=q("p"),n=A(t[5]),N(e,"class","text-red-500 mb-4")},m(t,s){T(t,e,s),k(e,n)},p(t,e){32&e&&F(n,t[5])},d(t){t&&_(e)}}}function us(e){let n,s,o,i,a,c,l,u,d,h,p,f,m,b,g,y,w,$,x,v,C,S,P,O,E,I,A,L,D,M,F,H,z,G=e[5]&&ls(e);return{c(){n=q("div"),s=q("h1"),s.textContent="New Contract",o=R(),i=q("form"),G&&G.c(),a=R(),c=q("div"),l=q("label"),l.textContent="Title",u=R(),d=q("input"),h=R(),p=q("div"),f=q("label"),f.textContent="Description",m=R(),b=q("textarea"),g=R(),y=q("div"),w=q("label"),w.textContent="Amount Requested",$=R(),x=q("input"),v=R(),C=q("div"),S=q("label"),S.textContent="Price Per Point",P=R(),O=q("input"),E=R(),I=q("div"),A=q("label"),A.textContent="Deadline",L=R(),D=q("input"),M=R(),F=q("button"),F.textContent="Submit Contract",N(s,"class","text-3xl font-bold mb-6"),N(l,"for","title"),N(l,"class","block mb-2 font-semibold"),N(d,"id","title"),N(d,"type","text"),N(d,"class","w-full p-2 border rounded"),d.required=!0,N(c,"class","mb-4"),N(f,"for","description"),N(f,"class","block mb-2 font-semibold"),N(b,"id","description"),N(b,"class","w-full p-2 border rounded"),N(b,"rows","4"),b.required=!0,N(p,"class","mb-4"),N(w,"for","amount_requested"),N(w,"class","block mb-2 font-semibold"),N(x,"id","amount_requested"),N(x,"type","number"),N(x,"min","1"),N(x,"class","w-full p-2 border rounded"),x.required=!0,N(y,"class","mb-4"),N(S,"for","price_per_point"),N(S,"class","block mb-2 font-semibold"),N(O,"id","price_per_point"),N(O,"type","number"),N(O,"min","0"),N(O,"step","0.01"),N(O,"class","w-full p-2 border rounded"),O.required=!0,N(C,"class","mb-4"),N(A,"for","deadline"),N(A,"class","block mb-2 font-semibold"),N(D,"id","deadline"),N(D,"type","date"),N(D,"class","w-full p-2 border rounded"),D.required=!0,N(I,"class","mb-4"),N(F,"type","submit"),N(F,"class","w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition duration-300"),N(i,"class","bg-white p-6 rounded shadow-md"),N(n,"class","container mx-auto max-w-2xl px-4")},m(t,r){T(t,n,r),k(n,s),k(n,o),k(n,i),G&&G.m(i,null),k(i,a),k(i,c),k(c,l),k(c,u),k(c,d),W(d,e[0]),k(i,h),k(i,p),k(p,f),k(p,m),k(p,b),W(b,e[1]),k(i,g),k(i,y),k(y,w),k(y,$),k(y,x),W(x,e[2]),k(i,v),k(i,C),k(C,S),k(C,P),k(C,O),W(O,e[3]),k(i,E),k(i,I),k(I,A),k(I,L),k(I,D),W(D,e[4]),k(i,M),k(i,F),H||(z=[j(d,"input",e[7]),j(b,"input",e[8]),j(x,"input",e[9]),j(O,"input",e[10]),j(D,"input",e[11]),j(i,"submit",U(e[6]))],H=!0)},p(t,[e]){t[5]?G?G.p(t,e):(G=ls(t),G.c(),G.m(i,a)):G&&(G.d(1),G=null),1&e&&d.value!==t[0]&&W(d,t[0]),2&e&&W(b,t[1]),4&e&&B(x.value)!==t[2]&&W(x,t[2]),8&e&&B(O.value)!==t[3]&&W(O,t[3]),16&e&&W(D,t[4])},i:t,o:t,d(t){t&&_(n),G&&G.d(),H=!1,r(z)}}}function ds(t,e,n){let s="",o="",r=0,i=0,a="",c="";return nt((()=>{"Customer"!==on.authStore.model?.role&&"Admin"!==on.authStore.model?.role&&ge("/")})),[s,o,r,i,a,c,async function(){try{const t={title:s,description:o,amount_requested:r,price_per_point:i,deadline:a,status:"Draft",creator:on.authStore.model.id};console.log("Submitting data:",t);const e=await on.collection("Contract").create(t);console.log("Created record:",e),ge("/contracts")}catch(t){console.error("Error creating contract:",t),n(5,c=t.message)}},function(){s=this.value,n(0,s)},function(){o=this.value,n(1,o)},function(){r=B(this.value),n(2,r)},function(){i=B(this.value),n(3,i)},function(){a=this.value,n(4,a)}]}class hs extends Nt{constructor(t){super(),Ut(this,t,ds,us,a,{})}}function ps(t,e,n){const s=t.slice();return s[15]=e[n],s}function fs(t,e,n){const s=t.slice();return s[18]=e[n],s}function ms(e){let n;return{c(){n=q("p"),n.textContent="Loading contract details..."},m(t,e){T(t,n,e)},p:t,d(t){t&&_(n)}}}function bs(t){let e,n,s,o,r,i,a,c,u,d,h,p,f,m,b,g,y,w,$,x,v,C,S,P,O,I,L,U,D,M,B,W,z,G,K,V,J,Y,Q,X,Z,tt,et,nt,st,ot,rt,it,at,ct,lt,ut,dt,ht,pt,ft,mt,bt,gt,yt,wt,$t,xt,vt,Ct,St,kt,Pt,Ot,Tt,Et,qt,It,At,Rt,Lt,jt,Ut,Nt,Dt,Mt,Bt,Ft,Wt,Ht,zt,Gt,Kt,Vt,Jt,Yt=t[0].title+"",Qt=t[0].description+"",Xt=t[0].status+"",Zt=vs(t[0].deadline)+"",te=t[0].amount_requested+"",ee=t[0].price_per_point+"",ne=t[0].expand.creator.name+"",se=t[0].amount_requested+"",oe=t[8].toFixed(2)+"",re=Cs(t[5])+"",ie=Cs(t[6])+"",ae=t[9].length>0&&function(t){let e,n,s,o,r=_t(t[9]),i=[];for(let e=0;e<r.length;e+=1)i[e]=gs(fs(t,r,e));return{c(){e=q("div"),n=q("h3"),n.textContent="Upload Errors:",s=R(),o=q("ul");for(let t=0;t<i.length;t+=1)i[t].c();N(n,"class","text-lg font-semibold mb-2"),N(o,"class","list-disc pl-5"),N(e,"class","mt-4")},m(t,r){T(t,e,r),k(e,n),k(e,s),k(e,o);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(o,null)},p(t,e){if(512&e){let n;for(r=_t(t[9]),n=0;n<r.length;n+=1){const s=fs(t,r,n);i[n]?i[n].p(s,e):(i[n]=gs(s),i[n].c(),i[n].m(o,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}},d(t){t&&_(e),E(i,t)}}}(t);function ce(t,e){return t[3].length>0?ws:ys}let le=ce(t),ue=le(t);return{c(){e=q("div"),n=q("img"),o=R(),r=q("h1"),i=A(Yt),a=R(),c=q("div"),u=q("p"),d=R(),h=q("p"),p=q("strong"),p.textContent="Status:",f=R(),m=A(Xt),b=R(),g=q("p"),y=q("strong"),y.textContent="Deadline:",w=R(),$=A(Zt),x=R(),v=q("p"),C=q("strong"),C.textContent="Amount Requested:",S=A(" $"),P=A(te),O=R(),I=q("p"),L=q("strong"),L.textContent="Price Per Point:",U=A(" $"),D=A(ee),M=R(),B=q("p"),W=q("strong"),W.textContent="Creator:",z=R(),G=A(ne),K=R(),V=q("div"),J=q("h2"),J.textContent="Contract Progress",Y=R(),Q=q("div"),X=q("div"),Z=R(),tt=q("p"),et=A(t[1]),nt=A(" / "),st=A(se),ot=A(" files uploaded ("),rt=A(oe),it=A("%)"),at=R(),ct=q("div"),lt=q("div"),ut=q("h3"),ut.textContent="Your Contributions",dt=R(),ht=q("p"),pt=A(t[4]),ft=A(" files uploaded"),mt=R(),bt=q("div"),gt=q("h3"),gt.textContent="Remaining",yt=R(),wt=q("p"),$t=A(t[7]),xt=A(" files needed"),vt=R(),Ct=q("div"),St=q("h3"),St.textContent="Largest File",kt=R(),Pt=q("p"),Ot=A(re),Tt=R(),Et=q("div"),qt=q("h3"),qt.textContent="Total Data Size",It=R(),At=q("p"),Rt=A(ie),Lt=R(),jt=q("h2"),jt.textContent="Upload Files",Ut=R(),Nt=q("input"),Dt=R(),Mt=q("button"),Mt.textContent="Upload Files",Bt=R(),Ft=R(),Wt=R(),ae&&ae.c(),Ht=R(),zt=q("div"),Gt=q("h2"),Gt.textContent="Uploaded Batches",Kt=R(),ue.c(),l(n.src,s=t[11](t[0]))||N(n,"src",s),N(n,"alt","Contract thumbnail"),N(n,"class","w-24 h-24 object-cover rounded-full mr-4"),N(r,"class","text-3xl font-bold"),N(e,"class","flex items-center mb-6"),N(u,"class","mb-4"),N(h,"class","mb-2"),N(g,"class","mb-2"),N(v,"class","mb-2"),N(I,"class","mb-2"),N(B,"class","mb-2"),N(J,"class","text-xl font-semibold mb-4"),N(X,"class","bg-blue-600 h-4 rounded-full"),H(X,"width",t[8]+"%"),N(Q,"class","w-full bg-gray-200 rounded-full h-4 mb-2"),N(tt,"class","text-sm text-gray-600 mb-4"),N(ut,"class","font-semibold mb-2"),N(lt,"class","bg-gray-100 p-4 rounded-lg"),N(gt,"class","font-semibold mb-2"),N(bt,"class","bg-gray-100 p-4 rounded-lg"),N(St,"class","font-semibold mb-2"),N(Ct,"class","bg-gray-100 p-4 rounded-lg"),N(qt,"class","font-semibold mb-2"),N(Et,"class","bg-gray-100 p-4 rounded-lg"),N(ct,"class","grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"),N(jt,"class","text-xl font-semibold mb-4"),N(Nt,"type","file"),Nt.multiple=!0,N(Nt,"accept",".txt,.jpg,.mp4,.mp3,.wav"),N(Nt,"class","mb-4"),N(Mt,"class","bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"),N(V,"class","mt-6"),N(c,"class","bg-white shadow-md rounded-lg p-6 mb-6"),N(Gt,"class","text-xl font-semibold mb-4"),N(zt,"class","bg-white shadow-md rounded-lg p-6")},m(s,l){T(s,e,l),k(e,n),k(e,o),k(e,r),k(r,i),T(s,a,l),T(s,c,l),k(c,u),u.innerHTML=Qt,k(c,d),k(c,h),k(h,p),k(h,f),k(h,m),k(c,b),k(c,g),k(g,y),k(g,w),k(g,$),k(c,x),k(c,v),k(v,C),k(v,S),k(v,P),k(c,O),k(c,I),k(I,L),k(I,U),k(I,D),k(c,M),k(c,B),k(B,W),k(B,z),k(B,G),k(c,K),k(c,V),k(V,J),k(V,Y),k(V,Q),k(Q,X),k(V,Z),k(V,tt),k(tt,et),k(tt,nt),k(tt,st),k(tt,ot),k(tt,rt),k(tt,it),k(V,at),k(V,ct),k(ct,lt),k(lt,ut),k(lt,dt),k(lt,ht),k(ht,pt),k(ht,ft),k(ct,mt),k(ct,bt),k(bt,gt),k(bt,yt),k(bt,wt),k(wt,$t),k(wt,xt),k(ct,vt),k(ct,Ct),k(Ct,St),k(Ct,kt),k(Ct,Pt),k(Pt,Ot),k(ct,Tt),k(ct,Et),k(Et,qt),k(Et,It),k(Et,At),k(At,Rt),k(V,Lt),k(V,jt),k(V,Ut),k(V,Nt),t[13](Nt),k(V,Dt),k(V,Mt),k(V,Bt),k(V,Ft),k(V,Wt),ae&&ae.m(V,null),T(s,Ht,l),T(s,zt,l),k(zt,Gt),k(zt,Kt),ue.m(zt,null),Vt||(Jt=j(Mt,"click",t[10]),Vt=!0)},p(t,e){1&e&&!l(n.src,s=t[11](t[0]))&&N(n,"src",s),1&e&&Yt!==(Yt=t[0].title+"")&&F(i,Yt),1&e&&Qt!==(Qt=t[0].description+"")&&(u.innerHTML=Qt),1&e&&Xt!==(Xt=t[0].status+"")&&F(m,Xt),1&e&&Zt!==(Zt=vs(t[0].deadline)+"")&&F($,Zt),1&e&&te!==(te=t[0].amount_requested+"")&&F(P,te),1&e&&ee!==(ee=t[0].price_per_point+"")&&F(D,ee),1&e&&ne!==(ne=t[0].expand.creator.name+"")&&F(G,ne),256&e&&H(X,"width",t[8]+"%"),2&e&&F(et,t[1]),1&e&&se!==(se=t[0].amount_requested+"")&&F(st,se),256&e&&oe!==(oe=t[8].toFixed(2)+"")&&F(rt,oe),16&e&&F(pt,t[4]),128&e&&F($t,t[7]),32&e&&re!==(re=Cs(t[5])+"")&&F(Ot,re),64&e&&ie!==(ie=Cs(t[6])+"")&&F(Rt,ie),t[9].length>0&&ae.p(t,e),le===(le=ce(t))&&ue?ue.p(t,e):(ue.d(1),ue=le(t),ue&&(ue.c(),ue.m(zt,null)))},d(n){n&&(_(e),_(a),_(c),_(Ht),_(zt)),t[13](null),ae&&ae.d(),ue.d(),Vt=!1,Jt()}}}function gs(e){let n;return{c(){n=q("li"),n.textContent=`${e[18]}`,N(n,"class","text-red-500")},m(t,e){T(t,n,e)},p:t,d(t){t&&_(n)}}}function ys(e){let n;return{c(){n=q("p"),n.textContent="No data batches uploaded yet."},m(t,e){T(t,n,e)},p:t,d(t){t&&_(n)}}}function ws(t){let e,n=_t(t[3]),s=[];for(let e=0;e<n.length;e+=1)s[e]=$s(ps(t,n,e));return{c(){e=q("ul");for(let t=0;t<s.length;t+=1)s[t].c();N(e,"class","space-y-4")},m(t,n){T(t,e,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null)},p(t,o){if(8&o){let r;for(n=_t(t[3]),r=0;r<n.length;r+=1){const i=ps(t,n,r);s[r]?s[r].p(i,o):(s[r]=$s(i),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},d(t){t&&_(e),E(s,t)}}}function $s(t){let e,n,s,o,r,i,a,c,l,u,d,h,p,f,m,b,g,y,w,$,x,v,C,S,P,O,E=t[15].id+"",I=t[15].status+"",L=t[15].description+"",j=vs(t[15].created)+"",U=(t[15].expand.DataPoint_via_batch?.length||0)+"";return{c(){e=q("li"),n=q("p"),s=q("strong"),s.textContent="Batch ID:",o=R(),r=A(E),i=R(),a=q("p"),c=q("strong"),c.textContent="Status:",l=R(),u=A(I),d=R(),h=q("p"),p=q("strong"),p.textContent="Description:",f=R(),m=A(L),b=R(),g=q("p"),y=q("strong"),y.textContent="Created:",w=R(),$=A(j),x=R(),v=q("p"),C=q("strong"),C.textContent="Files in Batch:",S=R(),P=A(U),O=R(),N(e,"class","border-b pb-4")},m(t,_){T(t,e,_),k(e,n),k(n,s),k(n,o),k(n,r),k(e,i),k(e,a),k(a,c),k(a,l),k(a,u),k(e,d),k(e,h),k(h,p),k(h,f),k(h,m),k(e,b),k(e,g),k(g,y),k(g,w),k(g,$),k(e,x),k(e,v),k(v,C),k(v,S),k(v,P),k(e,O)},p(t,e){8&e&&E!==(E=t[15].id+"")&&F(r,E),8&e&&I!==(I=t[15].status+"")&&F(u,I),8&e&&L!==(L=t[15].description+"")&&F(m,L),8&e&&j!==(j=vs(t[15].created)+"")&&F($,j),8&e&&U!==(U=(t[15].expand.DataPoint_via_batch?.length||0)+"")&&F(P,U)},d(t){t&&_(e)}}}function xs(e){let n;function s(t,e){return t[0]?bs:ms}let o=s(e),r=o(e);return{c(){n=q("div"),r.c(),N(n,"class","container mx-auto px-4 py-8")},m(t,e){T(t,n,e),r.m(n,null)},p(t,[e]){o===(o=s(t))&&r?r.p(t,e):(r.d(1),r=o(t),r&&(r.c(),r.m(n,null)))},i:t,o:t,d(t){t&&_(n),r.d()}}}function vs(t){return new Date(t).toLocaleDateString()}function Cs(t){if(0===t)return"0 Bytes";const e=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,e)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][e]}function Ss(t,e,n){let s,o,r,{id:i}=e,a=null,c=[],l=0,u=0,d=0,h=0;function p(){n(1,l=0),n(4,u=0),n(5,d=0),n(6,h=0),c.forEach((t=>{t.expand.DataPoint_via_batch&&t.expand.DataPoint_via_batch.forEach((t=>{n(1,l++,l),t.owner===on.authStore.model.id&&n(4,u++,u);const e=t.data?t.data.size:0;n(5,d=Math.max(d,e)),n(6,h+=e)}))}))}return nt((async()=>{try{n(0,a=await on.collection("Contract").getOne(i,{expand:"creator,DataBatch_via_contract.DataPoint_via_batch"})),a.expand.DataBatch_via_contract&&(n(3,c=a.expand.DataBatch_via_contract),p())}catch(t){console.error("Error fetching contract:",t)}})),t.$$set=t=>{"id"in t&&n(12,i=t.id)},t.$$.update=()=>{3&t.$$.dirty&&n(8,s=l/a?.amount_requested*100||0),3&t.$$.dirty&&n(7,o=a?.amount_requested-l||0)},[a,l,r,c,u,d,h,o,s,[],async function(){p()},function(t){return t.thumbnail?on.files.getUrl(t,t.thumbnail):"my-grably-app/public/icon.webp"},i,function(t){at[t?"unshift":"push"]((()=>{r=t,n(2,r)}))}]}class ks extends Nt{constructor(t){super(),Ut(this,t,Ss,xs,a,{id:12})}}function Ps(e){let n,s,o,i,a,c,u,d,h,p,f,m,b,g,y,w,$,x,v,C,S,P,O,E,I,L,U,D,M=e[0].name+"",B=e[0].email+"",W=e[0].role+"",H=e[1].toFixed(2)+"";return{c(){n=q("div"),s=q("div"),o=q("h2"),o.textContent="User Profile",i=R(),a=q("div"),c=q("img"),d=R(),h=q("div"),p=q("p"),f=A(M),m=R(),b=q("p"),g=A(B),y=R(),w=q("p"),$=A("Role: "),x=A(W),v=R(),C=q("p"),S=A("Wallet Balance: $"),P=A(H),O=R(),E=q("button"),E.textContent="Logout",I=R(),L=q("button"),L.textContent="Close",N(o,"class","text-2xl font-bold mb-4"),l(c.src,u=e[4](e[0]))||N(c,"src",u),N(c,"alt","User avatar"),N(c,"class","w-20 h-20 rounded-full mr-4 bg-gray-200"),N(p,"class","font-semibold text-xl"),N(b,"class","text-gray-600"),N(a,"class","flex items-center mb-4"),N(w,"class","mb-4"),N(C,"class","mb-4"),N(E,"class","bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 mr-2"),N(L,"class","bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400"),N(s,"class","bg-white rounded-lg p-8 max-w-md w-full"),N(n,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(t,r){T(t,n,r),k(n,s),k(s,o),k(s,i),k(s,a),k(a,c),k(a,d),k(a,h),k(h,p),k(p,f),k(h,m),k(h,b),k(b,g),k(s,y),k(s,w),k(w,$),k(w,x),k(s,v),k(s,C),k(C,S),k(C,P),k(s,O),k(s,E),k(s,I),k(s,L),U||(D=[j(E,"click",e[3]),j(L,"click",e[2])],U=!0)},p(t,[e]){1&e&&!l(c.src,u=t[4](t[0]))&&N(c,"src",u),1&e&&M!==(M=t[0].name+"")&&F(f,M),1&e&&B!==(B=t[0].email+"")&&F(g,B),1&e&&W!==(W=t[0].role+"")&&F(x,W),2&e&&H!==(H=t[1].toFixed(2)+"")&&F(P,H)},i:t,o:t,d(t){t&&_(n),U=!1,r(D)}}}function Os(t,e,n){let{user:s}=e,{walletBalance:o}=e;const r=st();return t.$$set=t=>{"user"in t&&n(0,s=t.user),"walletBalance"in t&&n(1,o=t.walletBalance)},[s,o,function(){r("close")},async function(){on.authStore.clear(),window.location.href="/login"},function(t){return t.avatar?on.files.getUrl(t,t.avatar):`data:image/svg+xml,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" /></svg>')}`}]}class Ts extends Nt{constructor(t){super(),Ut(this,t,Os,Ps,a,{user:0,walletBalance:1})}}function _s(e){let n;return{c(){n=q("p"),n.textContent="Loading..."},m(t,e){T(t,n,e)},p:t,d(t){t&&_(n)}}}function Es(t){let e;function n(t,e){return t[0]?Is:qs}let s=n(t),o=s(t);return{c(){o.c(),e=L()},m(t,n){o.m(t,n),T(t,e,n)},p(t,r){s===(s=n(t))&&o?o.p(t,r):(o.d(1),o=s(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){t&&_(e),o.d(t)}}}function qs(e){let n;return{c(){n=q("p"),n.textContent="Not logged in"},m(t,e){T(t,n,e)},p:t,d(t){t&&_(n)}}}function Is(t){let e,n,s,o,i,a,c,u,d,h,p,f,m,b,g=(t[0].name||"User")+"",y=t[1].toFixed(2)+"";return{c(){e=q("div"),n=q("button"),s=q("img"),i=R(),a=q("div"),c=q("p"),u=A(g),d=R(),h=q("p"),p=A("Balance: $"),f=A(y),l(s.src,o=t[6](t[0]))||N(s,"src",o),N(s,"alt","User avatar"),N(s,"class","w-10 h-10 rounded-full mr-2 bg-white"),N(c,"class","font-semibold"),N(h,"class","text-sm"),N(n,"type","button"),N(n,"class","flex items-center cursor-pointer bg-transparent border-none text-white"),N(n,"aria-haspopup","true"),N(n,"aria-expanded",t[2])},m(o,r){T(o,e,r),k(e,n),k(n,s),k(n,i),k(n,a),k(a,c),k(c,u),k(a,d),k(a,h),k(h,p),k(h,f),m||(b=[j(n,"click",t[4]),j(n,"keydown",t[5])],m=!0)},p(t,e){1&e&&!l(s.src,o=t[6](t[0]))&&N(s,"src",o),1&e&&g!==(g=(t[0].name||"User")+"")&&F(u,g),2&e&&y!==(y=t[1].toFixed(2)+"")&&F(f,y),4&e&&N(n,"aria-expanded",t[2])},d(t){t&&_(e),m=!1,r(b)}}}function As(t){let e,n;return e=new Ts({props:{user:t[0],walletBalance:t[1]}}),e.$on("close",t[7]),{c(){At(e.$$.fragment)},m(t,s){Rt(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.user=t[0]),2&n&&(s.walletBalance=t[1]),e.$set(s)},i(t){n||(St(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function Rs(t){let e,n,s,o,r,i,a;function c(t,e){return t[3]?_s:Es}let l=c(t),u=l(t),d=t[2]&&As(t);return{c(){e=q("header"),n=q("div"),s=q("h1"),s.textContent="Grably",o=R(),u.c(),r=R(),d&&d.c(),i=L(),N(s,"class","text-2xl font-bold"),N(n,"class","container mx-auto flex justify-between items-center"),N(e,"class","bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-b-lg shadow-lg")},m(t,c){T(t,e,c),k(e,n),k(n,s),k(n,o),u.m(n,null),T(t,r,c),d&&d.m(t,c),T(t,i,c),a=!0},p(t,[e]){l===(l=c(t))&&u?u.p(t,e):(u.d(1),u=l(t),u&&(u.c(),u.m(n,null))),t[2]?d?(d.p(t,e),4&e&&St(d,1)):(d=As(t),d.c(),St(d,1),d.m(i.parentNode,i)):d&&(vt(),kt(d,1,1,(()=>{d=null})),Ct())},i(t){a||(St(d),a=!0)},o(t){kt(d),a=!1},d(t){t&&(_(e),_(r),_(i)),u.d(),d&&d.d(t)}}}function Ls(t,e,n){let s=null,o=0,r=!1,i=!0,a=null;function c(){n(2,r=!r)}nt((async()=>{if(on.authStore.isValid&&(n(0,s=on.authStore.model),a=JSON.parse(JSON.stringify(on.authStore.model)),s.wallet))try{const t=await on.collection("Wallet").getOne(s.wallet);n(1,o=t.token_balance)}catch(t){console.error("Error fetching wallet:",t)}n(3,i=!1),console.log("Auth Store Model:",a)}));return[s,o,r,i,c,function(t){"Enter"!==t.key&&" "!==t.key||c()},function(t){return t?.avatar?on.files.getUrl(t,t.avatar):`data:image/svg+xml,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" /></svg>')}`},()=>n(2,r=!1)]}class js extends Nt{constructor(t){super(),Ut(this,t,Ls,Rs,a,{})}}function Us(t){let e;return{c(){e=A("Terms and Conditions")},m(t,n){T(t,e,n)},d(t){t&&_(e)}}}function Ns(t){let e;return{c(){e=A("Privacy Policy")},m(t,n){T(t,e,n)},d(t){t&&_(e)}}}function Ds(t){let e,n,s,o,r,i,a,c,l;return i=new te({props:{to:"/terms",class:"text-blue-300 hover:underline mx-2",$$slots:{default:[Us]},$$scope:{ctx:t}}}),c=new te({props:{to:"/privacy",class:"text-blue-300 hover:underline mx-2",$$slots:{default:[Ns]},$$scope:{ctx:t}}}),{c(){e=q("footer"),n=q("div"),s=q("p"),s.textContent="© 2024 Grably. All rights reserved.",o=R(),r=q("div"),At(i.$$.fragment),a=R(),At(c.$$.fragment),N(r,"class","mt-2"),N(n,"class","container mx-auto text-center"),N(e,"class","bg-gray-800 text-white p-4")},m(t,u){T(t,e,u),k(e,n),k(n,s),k(n,o),k(n,r),Rt(i,r,null),k(r,a),Rt(c,r,null),l=!0},p(t,[e]){const n={};1&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const s={};1&e&&(s.$$scope={dirty:e,ctx:t}),c.$set(s)},i(t){l||(St(i.$$.fragment,t),St(c.$$.fragment,t),l=!0)},o(t){kt(i.$$.fragment,t),kt(c.$$.fragment,t),l=!1},d(t){t&&_(e),Lt(i),Lt(c)}}}class Ms extends Nt{constructor(t){super(),Ut(this,t,null,Ds,a,{})}}function Bs(e){let n;return{c(){n=q("div"),n.innerHTML='<h1 class="text-3xl font-bold mb-6">Terms and Conditions</h1> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">1. Acceptance of Terms</h2> <p>By accessing or using Grably, you agree to be bound by these Terms and Conditions and all applicable laws and regulations.</p></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">2. Use of Service</h2> <p>You may use our service only for lawful purposes and in accordance with these Terms. You agree not to use our service:</p> <ul class="list-disc pl-5 mt-2"><li>In any way that violates any applicable federal, state, local, or international law or regulation</li> <li>To transmit, or procure the sending of, any advertising or promotional material, including any &quot;junk mail&quot;, &quot;chain letter,&quot; &quot;spam,&quot; or any other similar solicitation</li> <li>To impersonate or attempt to impersonate Grably, a Grably employee, another user, or any other person or entity</li></ul></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">3. Intellectual Property</h2> <p>The Service and its original content, features, and functionality are and will remain the exclusive property of Grably and its licensors.</p></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">4. Termination</h2> <p>We may terminate or suspend your account and bar access to the Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of the Terms.</p></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">5. Limitation of Liability</h2> <p>In no event shall Grably, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your access to or use of or inability to access or use the Service.</p></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">6. Changes to Terms</h2> <p>We reserve the right, at our sole discretion, to modify or replace these Terms at any time. What constitutes a material change will be determined at our sole discretion.</p></section> <section><h2 class="text-2xl font-semibold mb-4">7. Contact Us</h2> <p>If you have any questions about these Terms, please contact us at: <a href="mailto:legal@grably.us" class="text-blue-600 hover:underline">legal@grably.us</a></p></section>',N(n,"class","container mx-auto px-4 py-8")},m(t,e){T(t,n,e)},p:t,i:t,o:t,d(t){t&&_(n)}}}class Fs extends Nt{constructor(t){super(),Ut(this,t,null,Bs,a,{})}}function Ws(e){let n;return{c(){n=q("div"),n.innerHTML='<h1 class="text-3xl font-bold mb-6">Privacy Policy</h1> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">1. Introduction</h2> <p>Welcome to Grably. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service.</p></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">2. Information We Collect</h2> <p>We collect information that you provide directly to us, such as when you create an account, upload data, or communicate with us. This may include:</p> <ul class="list-disc pl-5 mt-2"><li>Personal information (e.g., name, email address)</li> <li>Account information</li> <li>Transaction information</li> <li>Usage information</li></ul></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">3. How We Use Your Information</h2> <p>We use the information we collect to:</p> <ul class="list-disc pl-5 mt-2"><li>Provide, maintain, and improve our services</li> <li>Process transactions and send related information</li> <li>Send you technical notices, updates, security alerts, and support messages</li> <li>Respond to your comments, questions, and customer service requests</li></ul></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">4. Data Security</h2> <p>We implement appropriate technical and organizational measures to protect the security of your personal information.</p></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">5. Changes to This Privacy Policy</h2> <p>We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page.</p></section> <section><h2 class="text-2xl font-semibold mb-4">6. Contact Us</h2> <p>If you have any questions about this Privacy Policy, please contact us at: <a href="mailto:privacy@grably.us" class="text-blue-600 hover:underline">privacy@grably.us</a></p></section>',N(n,"class","container mx-auto px-4 py-8")},m(t,e){T(t,n,e)},p:t,i:t,o:t,d(t){t&&_(n)}}}class Hs extends Nt{constructor(t){super(),Ut(this,t,null,Ws,a,{})}}function zs(e){let n;return{c(){n=I("path"),N(n,"d","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z")},m(t,e){T(t,n,e)},p:t,d(t){t&&_(n)}}}function Gs(t){let e,s;const o=[{viewBox:"0 0 384 512"},t[0]];let r={$$slots:{default:[zs]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new ln({props:r}),{c(){At(e.$$.fragment)},m(t,n){Rt(e,t,n),s=!0},p(t,[n]){const s=1&n?qt(o,[o[0],It(t[0])]):{};2&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(St(e.$$.fragment,t),s=!0)},o(t){kt(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function Ks(t,e,s){return t.$$set=t=>{s(0,e=n(n({},e),g(t)))},[e=g(e)]}class Vs extends Nt{constructor(t){super(),Ut(this,t,Ks,Gs,a,{})}}function Js(e){let n;return{c(){n=I("path"),N(n,"d","M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z")},m(t,e){T(t,n,e)},p:t,d(t){t&&_(n)}}}function Ys(t){let e,s;const o=[{viewBox:"0 0 576 512"},t[0]];let r={$$slots:{default:[Js]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new ln({props:r}),{c(){At(e.$$.fragment)},m(t,n){Rt(e,t,n),s=!0},p(t,[n]){const s=1&n?qt(o,[o[0],It(t[0])]):{};2&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(St(e.$$.fragment,t),s=!0)},o(t){kt(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function Qs(t,e,s){return t.$$set=t=>{s(0,e=n(n({},e),g(t)))},[e=g(e)]}class Xs extends Nt{constructor(t){super(),Ut(this,t,Qs,Ys,a,{})}}function Zs(e){let n;return{c(){n=I("path"),N(n,"d","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z")},m(t,e){T(t,n,e)},p:t,d(t){t&&_(n)}}}function to(t){let e,s;const o=[{viewBox:"0 0 512 512"},t[0]];let r={$$slots:{default:[Zs]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new ln({props:r}),{c(){At(e.$$.fragment)},m(t,n){Rt(e,t,n),s=!0},p(t,[n]){const s=1&n?qt(o,[o[0],It(t[0])]):{};2&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(St(e.$$.fragment,t),s=!0)},o(t){kt(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function eo(t,e,s){return t.$$set=t=>{s(0,e=n(n({},e),g(t)))},[e=g(e)]}class no extends Nt{constructor(t){super(),Ut(this,t,eo,to,a,{})}}function so(e){let n,s;return n=new de({props:{path:"*",component:cs}}),{c(){At(n.$$.fragment)},m(t,e){Rt(n,t,e),s=!0},p:t,i(t){s||(St(n.$$.fragment,t),s=!0)},o(t){kt(n.$$.fragment,t),s=!1},d(t){Lt(n,t)}}}function oo(t){let e,n,s,o,i,a,c,l,u,d,h,p,f,m,b,g,y,w,$,x,v,C,S,P,O,E,I,A,L,U;n=new js({}),l=new te({props:{to:"/",class:"flex items-center p-2 rounded hover:bg-white hover:bg-opacity-50 w-full",$$slots:{default:[ro]},$$scope:{ctx:t}}}),h=new te({props:{to:"/contracts",class:"flex items-center p-2 rounded hover:bg-white hover:bg-opacity-50 w-full",$$slots:{default:[io]},$$scope:{ctx:t}}});let D=("Customer"===t[2]||"Admin"===t[2])&&ao(t);return b=new de({props:{path:"/",component:Tn}}),y=new de({props:{path:"/contracts",component:Wn}}),$=new de({props:{path:"/contract/:id",component:ks}}),v=new de({props:{path:"/new-contract",component:hs}}),S=new de({props:{path:"/terms",component:Fs}}),O=new de({props:{path:"/privacy",component:Hs}}),I=new Ms({}),{c(){e=q("div"),At(n.$$.fragment),s=R(),o=q("div"),i=q("nav"),a=q("ul"),c=q("li"),At(l.$$.fragment),u=R(),d=q("li"),At(h.$$.fragment),p=R(),D&&D.c(),f=R(),m=q("main"),At(b.$$.fragment),g=R(),At(y.$$.fragment),w=R(),At($.$$.fragment),x=R(),At(v.$$.fragment),C=R(),At(S.$$.fragment),P=R(),At(O.$$.fragment),E=R(),At(I.$$.fragment),N(a,"class","space-y-8"),N(i,"class","fixed left-0 top-16 bottom-16 z-10 bg-gradient-to-r from-gray-100 to-transparent transition-all duration-500 ease-in-out overflow-hidden flex flex-col justify-center"),G(i,"w-32",t[3]),G(i,"w-16",!t[3]),N(m,"class","flex-grow p-4 bg-gray-50 ml-16 mt-16 mb-16"),N(o,"class","flex flex-grow"),N(e,"class","flex flex-grow pt-16 pb-16")},m(r,_){T(r,e,_),Rt(n,e,null),k(e,s),k(e,o),k(o,i),k(i,a),k(a,c),Rt(l,c,null),k(a,u),k(a,d),Rt(h,d,null),k(a,p),D&&D.m(a,null),k(o,f),k(o,m),Rt(b,m,null),k(m,g),Rt(y,m,null),k(m,w),Rt($,m,null),k(m,x),Rt(v,m,null),k(m,C),Rt(S,m,null),k(m,P),Rt(O,m,null),k(e,E),Rt(I,e,null),A=!0,L||(U=[j(i,"mouseenter",t[4]),j(i,"mouseleave",t[5])],L=!0)},p(t,e){const n={};72&e&&(n.$$scope={dirty:e,ctx:t}),l.$set(n);const s={};72&e&&(s.$$scope={dirty:e,ctx:t}),h.$set(s),"Customer"===t[2]||"Admin"===t[2]?D?(D.p(t,e),4&e&&St(D,1)):(D=ao(t),D.c(),St(D,1),D.m(a,null)):D&&(vt(),kt(D,1,1,(()=>{D=null})),Ct()),(!A||8&e)&&G(i,"w-32",t[3]),(!A||8&e)&&G(i,"w-16",!t[3])},i(t){A||(St(n.$$.fragment,t),St(l.$$.fragment,t),St(h.$$.fragment,t),St(D),St(b.$$.fragment,t),St(y.$$.fragment,t),St($.$$.fragment,t),St(v.$$.fragment,t),St(S.$$.fragment,t),St(O.$$.fragment,t),St(I.$$.fragment,t),A=!0)},o(t){kt(n.$$.fragment,t),kt(l.$$.fragment,t),kt(h.$$.fragment,t),kt(D),kt(b.$$.fragment,t),kt(y.$$.fragment,t),kt($.$$.fragment,t),kt(v.$$.fragment,t),kt(S.$$.fragment,t),kt(O.$$.fragment,t),kt(I.$$.fragment,t),A=!1},d(t){t&&_(e),Lt(n),Lt(l),Lt(h),D&&D.d(),Lt(b),Lt(y),Lt($),Lt(v),Lt(S),Lt(O),Lt(I),L=!1,r(U)}}}function ro(t){let e,n,s,o,r,i;return n=new Xs({}),{c(){e=q("div"),At(n.$$.fragment),s=R(),o=q("span"),o.textContent="Home",N(e,"class","w-8 h-8 flex-shrink-0 mx-auto"),N(o,"class","ml-4 whitespace-nowrap overflow-hidden"),G(o,"w-0",!t[3]),G(o,"w-auto",t[3])},m(t,r){T(t,e,r),Rt(n,e,null),T(t,s,r),T(t,o,r),i=!0},p(t,e){(!i||8&e)&&G(o,"w-0",!t[3]),(!i||8&e)&&G(o,"w-auto",t[3])},i(t){i||(St(n.$$.fragment,t),t&&ht((()=>{i&&(r||(r=Ot(o,_e,{duration:500,axis:"x"},!0)),r.run(1))})),i=!0)},o(t){kt(n.$$.fragment,t),t&&(r||(r=Ot(o,_e,{duration:500,axis:"x"},!1)),r.run(0)),i=!1},d(t){t&&(_(e),_(s),_(o)),Lt(n),t&&r&&r.end()}}}function io(t){let e,n,s,o,r,i;return n=new Vs({}),{c(){e=q("div"),At(n.$$.fragment),s=R(),o=q("span"),o.textContent="Contracts",N(e,"class","w-8 h-8 flex-shrink-0 mx-auto"),N(o,"class","ml-4 whitespace-nowrap overflow-hidden"),G(o,"w-0",!t[3]),G(o,"w-auto",t[3])},m(t,r){T(t,e,r),Rt(n,e,null),T(t,s,r),T(t,o,r),i=!0},p(t,e){(!i||8&e)&&G(o,"w-0",!t[3]),(!i||8&e)&&G(o,"w-auto",t[3])},i(t){i||(St(n.$$.fragment,t),t&&ht((()=>{i&&(r||(r=Ot(o,_e,{duration:500,axis:"x"},!0)),r.run(1))})),i=!0)},o(t){kt(n.$$.fragment,t),t&&(r||(r=Ot(o,_e,{duration:500,axis:"x"},!1)),r.run(0)),i=!1},d(t){t&&(_(e),_(s),_(o)),Lt(n),t&&r&&r.end()}}}function ao(t){let e,n,s;return n=new te({props:{to:"/new-contract",class:"flex items-center p-2 rounded hover:bg-white hover:bg-opacity-50 w-full",$$slots:{default:[co]},$$scope:{ctx:t}}}),{c(){e=q("li"),At(n.$$.fragment)},m(t,o){T(t,e,o),Rt(n,e,null),s=!0},p(t,e){const s={};72&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){s||(St(n.$$.fragment,t),s=!0)},o(t){kt(n.$$.fragment,t),s=!1},d(t){t&&_(e),Lt(n)}}}function co(t){let e,n,s,o,r,i;return n=new no({}),{c(){e=q("div"),At(n.$$.fragment),s=R(),o=q("span"),o.textContent="New Contract",N(e,"class","w-8 h-8 flex-shrink-0 mx-auto"),N(o,"class","ml-4 whitespace-nowrap overflow-hidden"),G(o,"w-0",!t[3]),G(o,"w-auto",t[3])},m(t,r){T(t,e,r),Rt(n,e,null),T(t,s,r),T(t,o,r),i=!0},p(t,e){(!i||8&e)&&G(o,"w-0",!t[3]),(!i||8&e)&&G(o,"w-auto",t[3])},i(t){i||(St(n.$$.fragment,t),t&&ht((()=>{i&&(r||(r=Ot(o,_e,{duration:500,axis:"x"},!0)),r.run(1))})),i=!0)},o(t){kt(n.$$.fragment,t),t&&(r||(r=Ot(o,_e,{duration:500,axis:"x"},!1)),r.run(0)),i=!1},d(t){t&&(_(e),_(s),_(o)),Lt(n),t&&r&&r.end()}}}function lo(t){let e,n,s,o;const r=[oo,so],i=[];function a(t,e){return t[1]?0:1}return e=a(t),n=i[e]=r[e](t),{c(){n.c(),s=L()},m(t,n){i[e].m(t,n),T(t,s,n),o=!0},p(t,o){let c=e;e=a(t),e===c?i[e].p(t,o):(vt(),kt(i[c],1,1,(()=>{i[c]=null})),Ct(),n=i[e],n?n.p(t,o):(n=i[e]=r[e](t),n.c()),St(n,1),n.m(s.parentNode,s))},i(t){o||(St(n),o=!0)},o(t){kt(n),o=!1},d(t){t&&_(s),i[e].d(t)}}}function uo(t){let e,n;return e=new Oe({props:{url:t[0],basepath:ho,$$slots:{default:[lo]},$$scope:{ctx:t}}}),{c(){At(e.$$.fragment)},m(t,s){Rt(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.url=t[0]),78&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(St(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}const ho="";function po(t,e,n){let{url:s=""}=e,o=on.authStore.isValid,r=on.authStore.model?.role||"",i=!1;on.authStore.onChange((()=>{n(1,o=on.authStore.isValid),n(2,r=on.authStore.model?.role||"")}));return t.$$set=t=>{"url"in t&&n(0,s=t.url)},[s,o,r,i,()=>n(3,i=!0),()=>n(3,i=!1)]}return new class extends Nt{constructor(t){super(),Ut(this,t,po,uo,a,{url:0})}}({target:document.body,props:{url:window.location.pathname}})}();
//# sourceMappingURL=bundle.js.map
