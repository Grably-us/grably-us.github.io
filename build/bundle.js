var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(s)}function i(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a;function l(t,e){return t===e||(a||(a=document.createElement("a")),a.href=e,t===a.href)}function u(e,...n){if(null==e){for(const t of n)t(void 0);return t}const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function d(t,e,n){t.$$.on_destroy.push(u(e,n))}function h(t,e,n,s){if(t){const o=p(t,e,n,s);return t[0](o)}}function p(t,e,s,o){return t[1]&&o?n(s.ctx.slice(),t[1](o(e))):s.ctx}function f(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|o[s];return t}return e.dirty|o}return e.dirty}function m(t,e,n,s,o,r){if(o){const i=p(e,n,s,r);t.p(i,o)}}function b(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function g(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function y(t,e){const n={};e=new Set(e);for(const s in t)e.has(s)||"$"===s[0]||(n[s]=t[s]);return n}const w="undefined"!=typeof window;let $=w?()=>window.performance.now():()=>Date.now(),v=w?t=>requestAnimationFrame(t):t;const x=new Set;function C(t){x.forEach((e=>{e.c(t)||(x.delete(e),e.f())})),0!==x.size&&v(C)}function S(t){let e;return 0===x.size&&v(C),{promise:new Promise((n=>{x.add(e={c:t,f:n})})),abort(){x.delete(e)}}}function k(t,e){t.appendChild(e)}function P(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function O(t){const e=A("style");return e.textContent="/* empty */",function(t,e){k(t.head||t,e),e.sheet}(P(t),e),e.sheet}function T(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function A(t){return document.createElement(t)}function q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function I(t){return document.createTextNode(t)}function R(){return I(" ")}function _(){return I("")}function j(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function L(t){return function(e){return e.preventDefault(),t.call(this,e)}}function N(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const U=["width","height"];function D(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const s in e)null==e[s]?t.removeAttribute(s):"style"===s?t.style.cssText=e[s]:"__value"===s?t.value=t[s]=e[s]:n[s]&&n[s].set&&-1===U.indexOf(s)?t[s]=e[s]:N(t,s,e[s])}function F(t){return""===t?null:+t}function W(t,e){e=""+e,t.data!==e&&(t.data=e)}function B(t,e){t.value=null==e?"":e}function M(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}class K{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(t=!1){this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.is_svg?this.e=q(e.nodeName):this.e=A(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)T(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(E)}}function H(t,e){return new t(e)}const G=new Map;let z,V=0;function J(t,e,n,s,o,r,i,c=0){const a=16.666/s;let l="{\n";for(let t=0;t<=1;t+=a){const s=e+(n-e)*r(t);l+=100*t+`%{${i(s,1-s)}}\n`}const u=l+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,h=P(t),{stylesheet:p,rules:f}=G.get(h)||function(t,e){const n={stylesheet:O(e),rules:{}};return G.set(t,n),n}(h,t);f[d]||(f[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${d} ${s}ms linear ${o}ms 1 both`,V+=1,d}function Q(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-s.length;o&&(t.style.animation=s.join(", "),V-=o,V||v((()=>{V||(G.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&E(e)})),G.clear())})))}function Y(t){z=t}function X(){if(!z)throw new Error("Function called outside component initialization");return z}function Z(t){X().$$.on_mount.push(t)}function tt(){const t=X();return(e,n,{cancelable:s=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=M(e,n,{cancelable:s});return o.slice().forEach((e=>{e.call(t,r)})),!r.defaultPrevented}return!0}}function et(t,e){return X().$$.context.set(t,e),e}function nt(t){return X().$$.context.get(t)}const st=[],ot=[];let rt=[];const it=[],ct=Promise.resolve();let at=!1;function lt(t){rt.push(t)}const ut=new Set;let dt,ht=0;function pt(){if(0!==ht)return;const t=z;do{try{for(;ht<st.length;){const t=st[ht];ht++,Y(t),ft(t.$$)}}catch(t){throw st.length=0,ht=0,t}for(Y(null),st.length=0,ht=0;ot.length;)ot.pop()();for(let t=0;t<rt.length;t+=1){const e=rt[t];ut.has(e)||(ut.add(e),e())}rt.length=0}while(st.length);for(;it.length;)it.pop()();at=!1,ut.clear(),Y(t)}function ft(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}function mt(){return dt||(dt=Promise.resolve(),dt.then((()=>{dt=null}))),dt}function bt(t,e,n){t.dispatchEvent(M(`${e?"intro":"outro"}${n}`))}const gt=new Set;let yt;function wt(){yt={r:0,c:[],p:yt}}function $t(){yt.r||r(yt.c),yt=yt.p}function vt(t,e){t&&t.i&&(gt.delete(t),t.i(e))}function xt(t,e,n,s){if(t&&t.o){if(gt.has(t))return;gt.add(t),yt.c.push((()=>{gt.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}else s&&s()}const Ct={duration:0};function St(t,e){const n=e.token={};function s(t,s,o,r){if(e.token!==n)return;e.resolved=r;let i=e.ctx;void 0!==o&&(i=i.slice(),i[o]=r);const c=t&&(e.current=t)(i);let a=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==s&&t&&(wt(),xt(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),$t())})):e.block.d(1),c.c(),vt(c,1),c.m(e.mount(),e.anchor),a=!0),e.block=c,e.blocks&&(e.blocks[s]=c),a&&pt()}if(!(o=t)||"object"!=typeof o&&"function"!=typeof o||"function"!=typeof o.then){if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}else{const n=X();if(t.then((t=>{Y(n),s(e.then,1,e.value,t),Y(null)}),(t=>{if(Y(n),s(e.catch,2,e.error,t),Y(null),!e.hasCatch)throw t})),e.current!==e.pending)return s(e.pending,0),!0}var o}function kt(t){return void 0!==t?.length?t:Array.from(t)}function Pt(t,e){xt(t,1,1,(()=>{e.delete(t.key)}))}function Ot(t,e){const n={},s={},o={$$scope:1};let r=t.length;for(;r--;){const i=t[r],c=e[r];if(c){for(const t in i)t in c||(s[t]=1);for(const t in c)o[t]||(n[t]=c[t],o[t]=1);t[r]=c}else for(const t in i)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}function Tt(t){return"object"==typeof t&&null!==t?t:{}}function Et(t){t&&t.c()}function At(t,e,n){const{fragment:o,after_update:c}=t.$$;o&&o.m(e,n),lt((()=>{const e=t.$$.on_mount.map(s).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),c.forEach(lt)}function qt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];rt.forEach((s=>-1===t.indexOf(s)?e.push(s):n.push(s))),n.forEach((t=>t())),rt=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function It(t,e){-1===t.$$.dirty[0]&&(st.push(t),at||(at=!0,ct.then(pt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Rt(e,n,s,i,c,a,l=null,u=[-1]){const d=z;Y(e);const h=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};l&&l(h.root);let p=!1;if(h.ctx=s?s(e,n.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),p&&It(e,t)),n})):[],h.update(),p=!0,r(h.before_update),h.fragment=!!i&&i(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(E)}else h.fragment&&h.fragment.c();n.intro&&vt(e.$$.fragment),At(e,n.target,n.anchor),pt()}Y(d)}class _t{$$=void 0;$$set=void 0;$destroy(){qt(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const jt={},Lt={},Nt={},Ut=/^:(.+)/,Dt=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),Ft=t=>t.replace(/(^\/+|\/+$)/g,""),Wt=(t,e)=>({route:t,score:t.default?0:Dt(t.path).reduce(((t,e)=>(t+=4,""===e?t+=1:Ut.test(e)?t+=2:"*"===e[0]?t-=5:t+=3,t)),0),index:e}),Bt=(t,e)=>{let n,s;const[o]=e.split("?"),r=Dt(o),i=""===r[0],c=(t=>t.map(Wt).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index)))(t);for(let t=0,o=c.length;t<o;t++){const o=c[t].route;let a=!1;if(o.default){s={route:o,params:{},uri:e};continue}const l=Dt(o.path),u={},d=Math.max(r.length,l.length);let h=0;for(;h<d;h++){const t=l[h],e=r[h];if(t&&"*"===t[0]){u["*"===t?"*":t.slice(1)]=r.slice(h).map(decodeURIComponent).join("/");break}if(void 0===e){a=!0;break}const n=Ut.exec(t);if(n&&!i){const t=decodeURIComponent(e);u[n[1]]=t}else if(t!==e){a=!0;break}}if(!a){n={route:o,params:u,uri:"/"+r.slice(0,h).join("/")};break}}return n||s||null},Mt=(t,e)=>t+(e?`?${e}`:""),Kt=(t,e)=>`${Ft("/"===e?t:`${Ft(t)}/${Ft(e)}`)}/`,Ht=()=>"undefined"!=typeof window&&"document"in window&&"location"in window,Gt=t=>({active:4&t}),zt=t=>({active:!!t[2]});function Vt(t){let e,s,o,r;const i=t[17].default,c=h(i,t,t[16],zt);let a=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],l={};for(let t=0;t<a.length;t+=1)l=n(l,a[t]);return{c(){e=A("a"),c&&c.c(),D(e,l)},m(n,i){T(n,e,i),c&&c.m(e,null),s=!0,o||(r=j(e,"click",t[5]),o=!0)},p(t,[n]){c&&c.p&&(!s||65540&n)&&m(c,i,t,t[16],s?f(i,t[16],n,Gt):b(t[16]),zt),D(e,l=Ot(a,[(!s||1&n)&&{href:t[0]},(!s||4&n)&&{"aria-current":t[2]},2&n&&t[1],64&n&&t[6]]))},i(t){s||(vt(c,t),s=!0)},o(t){xt(c,t),s=!1},d(t){t&&E(e),c&&c.d(t),o=!1,r()}}}function Jt(t,e,s){let o;const r=["to","replace","state","getProps","preserveScroll"];let i,c,a=y(e,r),{$$slots:l={},$$scope:u}=e,{to:h="#"}=e,{replace:p=!1}=e,{state:f={}}=e,{getProps:m=()=>({})}=e,{preserveScroll:b=!1}=e;const w=nt(jt);d(t,w,(t=>s(14,i=t)));const{base:$}=nt(Lt);d(t,$,(t=>s(15,c=t)));const{navigate:v}=nt(Nt),x=tt();let C,S,k,P;return t.$$set=t=>{e=n(n({},e),g(t)),s(6,a=y(e,r)),"to"in t&&s(7,h=t.to),"replace"in t&&s(8,p=t.replace),"state"in t&&s(9,f=t.state),"getProps"in t&&s(10,m=t.getProps),"preserveScroll"in t&&s(11,b=t.preserveScroll),"$$scope"in t&&s(16,u=t.$$scope)},t.$$.update=()=>{32896&t.$$.dirty&&s(0,C=((t,e)=>{if(t.startsWith("/"))return t;const[n,s]=t.split("?"),[o]=e.split("?"),r=Dt(n),i=Dt(o);if(""===r[0])return Mt(o,s);if(!r[0].startsWith(".")){const t=i.concat(r).join("/");return Mt(("/"===o?"":"/")+t,s)}const c=i.concat(r),a=[];return c.forEach((t=>{".."===t?a.pop():"."!==t&&a.push(t)})),Mt("/"+a.join("/"),s)})(h,c.uri)),16385&t.$$.dirty&&s(12,S=i.pathname.startsWith(C)),16385&t.$$.dirty&&s(13,k=C===i.pathname),8192&t.$$.dirty&&s(2,o=k?"page":void 0),s(1,P=m({location:i,href:C,isPartiallyCurrent:S,isCurrent:k,existingProps:a}))},[C,P,o,w,$,t=>{if(x("click",t),(t=>!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey))(t)){t.preventDefault();const e=i.pathname===C||p;v(C,{state:f,replace:e,preserveScroll:b})}},a,h,p,f,m,b,S,k,i,c,u,l]}class Qt extends _t{constructor(t){super(),Rt(this,t,Jt,Vt,c,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const Yt=t=>({params:4&t}),Xt=t=>({params:t[2]});function Zt(t){let e,n,s,o;const r=[ee,te],i=[];function c(t,e){return t[0]?0:1}return e=c(t),n=i[e]=r[e](t),{c(){n.c(),s=_()},m(t,n){i[e].m(t,n),T(t,s,n),o=!0},p(t,o){let a=e;e=c(t),e===a?i[e].p(t,o):(wt(),xt(i[a],1,1,(()=>{i[a]=null})),$t(),n=i[e],n?n.p(t,o):(n=i[e]=r[e](t),n.c()),vt(n,1),n.m(s.parentNode,s))},i(t){o||(vt(n),o=!0)},o(t){xt(n),o=!1},d(t){t&&E(s),i[e].d(t)}}}function te(t){let e;const n=t[8].default,s=h(n,t,t[7],Xt);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,o){s&&s.p&&(!e||132&o)&&m(s,n,t,t[7],e?f(n,t[7],o,Yt):b(t[7]),Xt)},i(t){e||(vt(s,t),e=!0)},o(t){xt(s,t),e=!1},d(t){s&&s.d(t)}}}function ee(t){let e,n,s,o={ctx:t,current:null,token:null,hasCatch:!1,pending:oe,then:se,catch:ne,value:12,blocks:[,,,]};return St(n=t[0],o),{c(){e=_(),o.block.c()},m(t,n){T(t,e,n),o.block.m(t,o.anchor=n),o.mount=()=>e.parentNode,o.anchor=e,s=!0},p(e,s){t=e,o.ctx=t,1&s&&n!==(n=t[0])&&St(n,o)||function(t,e,n){const s=e.slice(),{resolved:o}=t;t.current===t.then&&(s[t.value]=o),t.current===t.catch&&(s[t.error]=o),t.block.p(s,n)}(o,t,s)},i(t){s||(vt(o.block),s=!0)},o(t){for(let t=0;t<3;t+=1){xt(o.blocks[t])}s=!1},d(t){t&&E(e),o.block.d(t),o.token=null,o=null}}}function ne(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function se(t){let e,s,o;const r=[t[2],t[3]];var i=t[12]?.default||t[12];function c(t,e){let s={};for(let t=0;t<r.length;t+=1)s=n(s,r[t]);return void 0!==e&&12&e&&(s=n(s,Ot(r,[4&e&&Tt(t[2]),8&e&&Tt(t[3])]))),{props:s}}return i&&(e=H(i,c(t))),{c(){e&&Et(e.$$.fragment),s=_()},m(t,n){e&&At(e,t,n),T(t,s,n),o=!0},p(t,n){if(1&n&&i!==(i=t[12]?.default||t[12])){if(e){wt();const t=e;xt(t.$$.fragment,1,0,(()=>{qt(t,1)})),$t()}i?(e=H(i,c(t,n)),Et(e.$$.fragment),vt(e.$$.fragment,1),At(e,s.parentNode,s)):e=null}else if(i){const s=12&n?Ot(r,[4&n&&Tt(t[2]),8&n&&Tt(t[3])]):{};e.$set(s)}},i(t){o||(e&&vt(e.$$.fragment,t),o=!0)},o(t){e&&xt(e.$$.fragment,t),o=!1},d(t){t&&E(s),e&&qt(e,t)}}}function oe(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function re(t){let e,n,s=t[1]&&t[1].route===t[5]&&Zt(t);return{c(){s&&s.c(),e=_()},m(t,o){s&&s.m(t,o),T(t,e,o),n=!0},p(t,[n]){t[1]&&t[1].route===t[5]?s?(s.p(t,n),2&n&&vt(s,1)):(s=Zt(t),s.c(),vt(s,1),s.m(e.parentNode,e)):s&&(wt(),xt(s,1,1,(()=>{s=null})),$t())},i(t){n||(vt(s),n=!0)},o(t){xt(s),n=!1},d(t){t&&E(e),s&&s.d(t)}}}function ie(t,e,s){let o,{$$slots:r={},$$scope:i}=e,{path:c=""}=e,{component:a=null}=e,l={},u={};const{registerRoute:h,unregisterRoute:p,activeRoute:f}=nt(Lt);d(t,f,(t=>s(1,o=t)));const m={path:c,default:""===c};var b;return h(m),b=()=>{p(m)},X().$$.on_destroy.push(b),t.$$set=t=>{s(11,e=n(n({},e),g(t))),"path"in t&&s(6,c=t.path),"component"in t&&s(0,a=t.component),"$$scope"in t&&s(7,i=t.$$scope)},t.$$.update=()=>{if(o&&o.route===m){s(2,l=o.params);const{component:t,path:n,...r}=e;s(3,u=r),t&&(t.toString().startsWith("class ")?s(0,a=t):s(0,a=t())),Ht()&&!o.preserveScroll&&window?.scrollTo(0,0)}},e=g(e),[a,o,l,u,f,m,c,i,r]}class ce extends _t{constructor(t){super(),Rt(this,t,ie,re,c,{path:6,component:0})}}const ae=[];function le(e,n=t){let s;const o=new Set;function r(t){if(c(e,t)&&(e=t,s)){const t=!ae.length;for(const t of o)t[1](),ae.push(t,e);if(t){for(let t=0;t<ae.length;t+=2)ae[t][0](ae[t+1]);ae.length=0}}}function i(t){r(t(e))}return{set:r,update:i,subscribe:function(c,a=t){const l=[c,a];return o.add(l),1===o.size&&(s=n(r,i)||t),c(e),()=>{o.delete(l),0===o.size&&s&&(s(),s=null)}}}}function ue(e,n,s){const o=!Array.isArray(e),c=o?[e]:e;if(!c.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=n.length<2;return l=(e,s)=>{let l=!1;const d=[];let h=0,p=t;const f=()=>{if(h)return;p();const r=n(o?d[0]:d,e,s);a?e(r):p=i(r)?r:t},m=c.map(((t,e)=>u(t,(t=>{d[e]=t,h&=~(1<<e),l&&f()}),(()=>{h|=1<<e}))));return l=!0,f(),function(){r(m),p(),l=!1}},{subscribe:le(s,l).subscribe};var l}const de=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),he=(t=>{const e=[];let n=de(t);return{get location(){return n},listen(s){e.push(s);const o=()=>{n=de(t),s({location:n,action:"POP"})};return t.addEventListener("popstate",o),()=>{t.removeEventListener("popstate",o);const n=e.indexOf(s);e.splice(n,1)}},navigate(s,{state:o,replace:r=!1,preserveScroll:i=!1,blurActiveElement:c=!0}={}){o={...o,key:Date.now()+""};try{r?t.history.replaceState(o,"",s):t.history.pushState(o,"",s)}catch(e){t.location[r?"replace":"assign"](s)}n=de(t),e.forEach((t=>t({location:n,action:"PUSH",preserveScroll:i}))),c&&document.activeElement.blur()}}})(Ht()?window:((t="/")=>{let e=0;const n=[{pathname:t,search:""}],s=[];return{get location(){return n[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return n},get index(){return e},get state(){return s[e]},pushState(t,o,r){const[i,c=""]=r.split("?");e++,n.push({pathname:i,search:c}),s.push(t)},replaceState(t,o,r){const[i,c=""]=r.split("?");n[e]={pathname:i,search:c},s[e]=t}}}})()),{navigate:pe}=he,fe=t=>({route:4&t,location:2&t}),me=t=>({route:t[2]&&t[2].uri,location:t[1]}),be=t=>({route:4&t,location:2&t}),ge=t=>({route:t[2]&&t[2].uri,location:t[1]});function ye(t){let e;const n=t[15].default,s=h(n,t,t[14],me);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,o){s&&s.p&&(!e||16390&o)&&m(s,n,t,t[14],e?f(n,t[14],o,fe):b(t[14]),me)},i(t){e||(vt(s,t),e=!0)},o(t){xt(s,t),e=!1},d(t){s&&s.d(t)}}}function we(e){let n,s,o=e[1].pathname,r=$e(e);return{c(){r.c(),n=_()},m(t,e){r.m(t,e),T(t,n,e),s=!0},p(e,s){2&s&&c(o,o=e[1].pathname)?(wt(),xt(r,1,1,t),$t(),r=$e(e),r.c(),vt(r,1),r.m(n.parentNode,n)):r.p(e,s)},i(t){s||(vt(r),s=!0)},o(t){xt(r),s=!1},d(t){t&&E(n),r.d(t)}}}function $e(n){let s,o,c,a;const l=n[15].default,u=h(l,n,n[14],ge);return{c(){s=A("div"),u&&u.c()},m(t,e){T(t,s,e),u&&u.m(s,null),a=!0},p(t,e){u&&u.p&&(!a||16390&e)&&m(u,l,t,t[14],a?f(l,t[14],e,be):b(t[14]),ge)},i(r){a||(vt(u,r),r&&lt((()=>{a&&(c&&c.end(1),o=function(n,s,o){const r={direction:"in"};let c,a,l=s(n,o,r),u=!1,d=0;function h(){c&&Q(n,c)}function p(){const{delay:s=0,duration:o=300,easing:r=e,tick:i=t,css:p}=l||Ct;p&&(c=J(n,0,1,o,s,r,p,d++)),i(0,1);const f=$()+s,m=f+o;a&&a.abort(),u=!0,lt((()=>bt(n,!0,"start"))),a=S((t=>{if(u){if(t>=m)return i(1,0),bt(n,!0,"end"),h(),u=!1;if(t>=f){const e=r((t-f)/o);i(e,1-e)}}return u}))}let f=!1;return{start(){f||(f=!0,Q(n),i(l)?(l=l(r),mt().then(p)):p())},invalidate(){f=!1},end(){u&&(h(),u=!1)}}}(s,n[3],{}),o.start())})),a=!0)},o(l){xt(u,l),o&&o.invalidate(),l&&(c=function(n,s,o){const c={direction:"out"};let a,l=s(n,o,c),u=!0;const d=yt;let h;function p(){const{delay:s=0,duration:o=300,easing:i=e,tick:c=t,css:p}=l||Ct;p&&(a=J(n,1,0,o,s,i,p));const f=$()+s,m=f+o;lt((()=>bt(n,!1,"start"))),"inert"in n&&(h=n.inert,n.inert=!0),S((t=>{if(u){if(t>=m)return c(0,1),bt(n,!1,"end"),--d.r||r(d.c),!1;if(t>=f){const e=i((t-f)/o);c(1-e,e)}}return u}))}return d.r+=1,i(l)?mt().then((()=>{l=l(c),p()})):p(),{end(t){t&&"inert"in n&&(n.inert=h),t&&l.tick&&l.tick(1,0),u&&(a&&Q(n,a),u=!1)}}}(s,n[3],{})),a=!1},d(t){t&&E(s),u&&u.d(t),t&&c&&c.end()}}}function ve(t){let e,n,s,o;const r=[we,ye],i=[];function c(t,e){return t[0]?0:1}return e=c(t),n=i[e]=r[e](t),{c(){n.c(),s=_()},m(t,n){i[e].m(t,n),T(t,s,n),o=!0},p(t,[o]){let a=e;e=c(t),e===a?i[e].p(t,o):(wt(),xt(i[a],1,1,(()=>{i[a]=null})),$t(),n=i[e],n?n.p(t,o):(n=i[e]=r[e](t),n.c()),vt(n,1),n.m(s.parentNode,s))},i(t){o||(vt(n),o=!0)},o(t){xt(n),o=!1},d(t){t&&E(s),i[e].d(t)}}}function xe(t,e,n){let s,o,r,i,{$$slots:c={},$$scope:a}=e,{basepath:l="/"}=e,{url:u=null}=e,{viewtransition:h=null}=e,{history:p=he}=e;et(Nt,p);const f=nt(jt),m=nt(Lt),b=le([]);d(t,b,(t=>n(12,o=t)));const g=le(null);d(t,g,(t=>n(2,i=t)));let y=!1;const w=f||le(u?{pathname:u}:p.location);d(t,w,(t=>n(1,s=t)));const $=m?m.routerBase:le({path:l,uri:l});d(t,$,(t=>n(13,r=t)));const v=ue([$,g],(([t,e])=>{if(!e)return t;const{path:n}=t,{route:s,uri:o}=e;return{path:s.default?n:s.path.replace(/\*.*$/,""),uri:o}}));let x=!1;return f||(Z((()=>p.listen((t=>{n(11,x=t.preserveScroll||!1),w.set(t.location)})))),et(jt,w)),et(Lt,{activeRoute:g,base:$,routerBase:v,registerRoute:t=>{const{path:e}=r;let{path:n}=t;if(t._path=n,t.path=Kt(e,n),"undefined"==typeof window){if(y)return;const e=Bt([t],s.pathname);e&&(g.set(e),y=!0)}else b.update((e=>[...e,t]))},unregisterRoute:t=>{b.update((e=>e.filter((e=>e!==t))))}}),t.$$set=t=>{"basepath"in t&&n(8,l=t.basepath),"url"in t&&n(9,u=t.url),"viewtransition"in t&&n(0,h=t.viewtransition),"history"in t&&n(10,p=t.history),"$$scope"in t&&n(14,a=t.$$scope)},t.$$.update=()=>{if(8192&t.$$.dirty){const{path:t}=r;b.update((e=>e.map((e=>Object.assign(e,{path:Kt(t,e._path)})))))}if(6146&t.$$.dirty){const t=Bt(o,s.pathname);g.set(t?{...t,preserveScroll:x}:t)}},[h,s,i,(t,e,n)=>{const s=h(n);return"function"==typeof s?.fn?s.fn(t,s):s},b,g,w,$,l,u,p,x,o,r,a,c]}class Ce extends _t{constructor(t){super(),Rt(this,t,xe,ve,c,{basepath:8,url:9,viewtransition:0,history:10})}}class Se extends Error{constructor(t){super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,Se.prototype),null!==t&&"object"==typeof t&&(this.url="string"==typeof t.url?t.url:"",this.status="number"==typeof t.status?t.status:0,this.isAbort=!!t.isAbort,this.originalError=t.originalError,null!==t.response&&"object"==typeof t.response?this.response=t.response:null!==t.data&&"object"==typeof t.data?this.response=t.data:this.response={}),this.originalError||t instanceof Se||(this.originalError=t),"undefined"!=typeof DOMException&&t instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=this.response?.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":this.originalError?.cause?.message?.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const ke=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Pe(t,e,n){const s=Object.assign({},n||{}),o=s.encode||Te;if(!ke.test(t))throw new TypeError("argument name is invalid");const r=o(e);if(r&&!ke.test(r))throw new TypeError("argument val is invalid");let i=t+"="+r;if(null!=s.maxAge){const t=s.maxAge-0;if(isNaN(t)||!isFinite(t))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(t)}if(s.domain){if(!ke.test(s.domain))throw new TypeError("option domain is invalid");i+="; Domain="+s.domain}if(s.path){if(!ke.test(s.path))throw new TypeError("option path is invalid");i+="; Path="+s.path}if(s.expires){if(!function(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}(s.expires)||isNaN(s.expires.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(i+="; HttpOnly"),s.secure&&(i+="; Secure"),s.priority)switch("string"==typeof s.priority?s.priority.toLowerCase():s.priority){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}function Oe(t){return-1!==t.indexOf("%")?decodeURIComponent(t):t}function Te(t){return encodeURIComponent(t)}const Ee="undefined"!=typeof navigator&&"ReactNative"===navigator.product||"undefined"!=typeof global&&global.HermesInternal;let Ae;function qe(t){if(t)try{const e=decodeURIComponent(Ae(t.split(".")[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(e)||{}}catch(t){}return{}}function Ie(t,e=0){let n=qe(t);return!(Object.keys(n).length>0&&(!n.exp||n.exp-e>Date.now()/1e3))}Ae="function"!=typeof atob||Ee?t=>{let e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,s,o=0,r=0,i="";s=e.charAt(r++);~s&&(n=o%4?64*n+s:s,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return i}:atob;const Re="pb_auth";class _e{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!Ie(this.token)}get isAdmin(){return"admin"===qe(this.token).type}get isAuthRecord(){return"authRecord"===qe(this.token).type}save(t,e){this.baseToken=t||"",this.baseModel=e||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(t,e=Re){const n=function(t,e){const n={};if("string"!=typeof t)return n;const s=Object.assign({},e||{}).decode||Oe;let o=0;for(;o<t.length;){const e=t.indexOf("=",o);if(-1===e)break;let r=t.indexOf(";",o);if(-1===r)r=t.length;else if(r<e){o=t.lastIndexOf(";",e-1)+1;continue}const i=t.slice(o,e).trim();if(void 0===n[i]){let o=t.slice(e+1,r).trim();34===o.charCodeAt(0)&&(o=o.slice(1,-1));try{n[i]=s(o)}catch(t){n[i]=o}}o=r+1}return n}(t||"")[e]||"";let s={};try{s=JSON.parse(n),(null===typeof s||"object"!=typeof s||Array.isArray(s))&&(s={})}catch(t){}this.save(s.token||"",s.model||null)}exportToCookie(t,e=Re){const n={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=qe(this.token);n.expires=s?.exp?new Date(1e3*s.exp):new Date("1970-01-01"),t=Object.assign({},n,t);const o={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let r=Pe(e,JSON.stringify(o),t);const i="undefined"!=typeof Blob?new Blob([r]).size:r.length;if(o.model&&i>4096){o.model={id:o?.model?.id,email:o?.model?.email};const n=["collectionId","username","verified"];for(const t in this.model)n.includes(t)&&(o.model[t]=this.model[t]);r=Pe(e,JSON.stringify(o),t)}return r}onChange(t,e=!1){return this._onChangeCallbacks.push(t),e&&t(this.token,this.model),()=>{for(let e=this._onChangeCallbacks.length-1;e>=0;e--)if(this._onChangeCallbacks[e]==t)return delete this._onChangeCallbacks[e],void this._onChangeCallbacks.splice(e,1)}}triggerChange(){for(const t of this._onChangeCallbacks)t&&t(this.token,this.model)}}class je extends _e{constructor(t="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=t,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(t,e){this._storageSet(this.storageKey,{token:t,model:e}),super.save(t,e)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(t){if("undefined"!=typeof window&&window?.localStorage){const e=window.localStorage.getItem(t)||"";try{return JSON.parse(e)}catch(t){return e}}return this.storageFallback[t]}_storageSet(t,e){if("undefined"!=typeof window&&window?.localStorage){let n=e;"string"!=typeof e&&(n=JSON.stringify(e)),window.localStorage.setItem(t,n)}else this.storageFallback[t]=e}_storageRemove(t){"undefined"!=typeof window&&window?.localStorage&&window.localStorage?.removeItem(t),delete this.storageFallback[t]}_bindStorageEvent(){"undefined"!=typeof window&&window?.localStorage&&window.addEventListener&&window.addEventListener("storage",(t=>{if(t.key!=this.storageKey)return;const e=this._storageGet(this.storageKey)||{};super.save(e.token||"",e.model||null)}))}}class Le{constructor(t){this.client=t}}class Ne extends Le{async getAll(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/settings",t)}async update(t,e){return e=Object.assign({method:"PATCH",body:t},e),this.client.send("/api/settings",e)}async testS3(t="storage",e){return e=Object.assign({method:"POST",body:{filesystem:t}},e),this.client.send("/api/settings/test/s3",e).then((()=>!0))}async testEmail(t,e,n){return n=Object.assign({method:"POST",body:{email:t,template:e}},n),this.client.send("/api/settings/test/email",n).then((()=>!0))}async generateAppleClientSecret(t,e,n,s,o,r){return r=Object.assign({method:"POST",body:{clientId:t,teamId:e,keyId:n,privateKey:s,duration:o}},r),this.client.send("/api/settings/apple/generate-client-secret",r)}}class Ue extends Le{decode(t){return t}async getFullList(t,e){if("number"==typeof t)return this._getFullList(t,e);let n=500;return(e=Object.assign({},t,e)).batch&&(n=e.batch,delete e.batch),this._getFullList(n,e)}async getList(t=1,e=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:t,perPage:e},n.query),this.client.send(this.baseCrudPath,n).then((t=>(t.items=t.items?.map((t=>this.decode(t)))||[],t)))}async getFirstListItem(t,e){return(e=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+t},e)).query=Object.assign({filter:t,skipTotal:1},e.query),this.getList(1,1,e).then((t=>{if(!t?.items?.length)throw new Se({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return t.items[0]}))}async getOne(t,e){if(!t)throw new Se({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),e).then((t=>this.decode(t)))}async create(t,e){return e=Object.assign({method:"POST",body:t},e),this.client.send(this.baseCrudPath,e).then((t=>this.decode(t)))}async update(t,e,n){return n=Object.assign({method:"PATCH",body:e},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),n).then((t=>this.decode(t)))}async delete(t,e){return e=Object.assign({method:"DELETE"},e),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),e).then((()=>!0))}_getFullList(t=500,e){(e=e||{}).query=Object.assign({skipTotal:1},e.query);let n=[],s=async o=>this.getList(o,t||500,e).then((t=>{const e=t.items;return n=n.concat(e),e.length==t.perPage?s(o+1):n}));return s(1)}}function De(t,e,n,s){const o=void 0!==s;return o||void 0!==n?o?(console.warn(t),e.body=Object.assign({},e.body,n),e.query=Object.assign({},e.query,s),e):Object.assign(e,n):e}function Fe(t){t._resetAutoRefresh?.()}class We extends Ue{get baseCrudPath(){return"/api/admins"}async update(t,e,n){return super.update(t,e,n).then((t=>(this.client.authStore.model?.id===t.id&&void 0===this.client.authStore.model?.collectionId&&this.client.authStore.save(this.client.authStore.token,t),t)))}async delete(t,e){return super.delete(t,e).then((e=>(e&&this.client.authStore.model?.id===t&&void 0===this.client.authStore.model?.collectionId&&this.client.authStore.clear(),e)))}authResponse(t){const e=this.decode(t?.admin||{});return t?.token&&t?.admin&&this.client.authStore.save(t.token,e),Object.assign({},t,{token:t?.token||"",admin:e})}async authWithPassword(t,e,n,s){let o={method:"POST",body:{identity:t,password:e}};o=De("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",o,n,s);const r=o.autoRefreshThreshold;delete o.autoRefreshThreshold,o.autoRefresh||Fe(this.client);let i=await this.client.send(this.baseCrudPath+"/auth-with-password",o);return i=this.authResponse(i),r&&function(t,e,n,s){Fe(t);const o=t.beforeSend,r=t.authStore.model,i=t.authStore.onChange(((e,n)=>{(!e||n?.id!=r?.id||(n?.collectionId||r?.collectionId)&&n?.collectionId!=r?.collectionId)&&Fe(t)}));t._resetAutoRefresh=function(){i(),t.beforeSend=o,delete t._resetAutoRefresh},t.beforeSend=async(r,i)=>{const c=t.authStore.token;if(i.query?.autoRefresh)return o?o(r,i):{url:r,sendOptions:i};let a=t.authStore.isValid;if(a&&Ie(t.authStore.token,e))try{await n()}catch(t){a=!1}a||await s();const l=i.headers||{};for(let e in l)if("authorization"==e.toLowerCase()&&c==l[e]&&t.authStore.token){l[e]=t.authStore.token;break}return i.headers=l,o?o(r,i):{url:r,sendOptions:i}}}(this.client,r,(()=>this.authRefresh({autoRefresh:!0})),(()=>this.authWithPassword(t,e,Object.assign({autoRefresh:!0},o)))),i}async authRefresh(t,e){let n={method:"POST"};return n=De("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,t,e),this.client.send(this.baseCrudPath+"/auth-refresh",n).then(this.authResponse.bind(this))}async requestPasswordReset(t,e,n){let s={method:"POST",body:{email:t}};return s=De("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,e,n),this.client.send(this.baseCrudPath+"/request-password-reset",s).then((()=>!0))}async confirmPasswordReset(t,e,n,s,o){let r={method:"POST",body:{token:t,password:e,passwordConfirm:n}};return r=De("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",r,s,o),this.client.send(this.baseCrudPath+"/confirm-password-reset",r).then((()=>!0))}}const Be=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Me(t){if(t){t.query=t.query||{};for(let e in t)Be.includes(e)||(t.query[e]=t[e],delete t[e])}}class Ke extends Le{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(t,e,n){if(!t)throw new Error("topic must be set.");let s=t;if(n){Me(n);const t="options="+encodeURIComponent(JSON.stringify({query:n.query,headers:n.headers}));s+=(s.includes("?")?"&":"?")+t}const o=function(t){const n=t;let s;try{s=JSON.parse(n?.data)}catch{}e(s||{})};return this.subscriptions[s]||(this.subscriptions[s]=[]),this.subscriptions[s].push(o),this.isConnected?1===this.subscriptions[s].length?await this.submitSubscriptions():this.eventSource?.addEventListener(s,o):await this.connect(),async()=>this.unsubscribeByTopicAndListener(t,o)}async unsubscribe(t){let e=!1;if(t){const n=this.getSubscriptionsByTopic(t);for(let t in n)if(this.hasSubscriptionListeners(t)){for(let e of this.subscriptions[t])this.eventSource?.removeEventListener(t,e);delete this.subscriptions[t],e||(e=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?e&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(t){let e=!1;for(let n in this.subscriptions)if((n+"?").startsWith(t)){e=!0;for(let t of this.subscriptions[n])this.eventSource?.removeEventListener(n,t);delete this.subscriptions[n]}e&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(t,e){let n=!1;const s=this.getSubscriptionsByTopic(t);for(let t in s){if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)continue;let s=!1;for(let n=this.subscriptions[t].length-1;n>=0;n--)this.subscriptions[t][n]===e&&(s=!0,delete this.subscriptions[t][n],this.subscriptions[t].splice(n,1),this.eventSource?.removeEventListener(t,e));s&&(this.subscriptions[t].length||delete this.subscriptions[t],n||this.hasSubscriptionListeners(t)||(n=!0))}this.hasSubscriptionListeners()?n&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(t){if(this.subscriptions=this.subscriptions||{},t)return!!this.subscriptions[t]?.length;for(let t in this.subscriptions)if(this.subscriptions[t]?.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch((t=>{if(!t?.isAbort)throw t}))}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(t){const e={};t=t.includes("?")?t:t+"?";for(let n in this.subscriptions)(n+"?").startsWith(t)&&(e[n]=this.subscriptions[n]);return e}getNonEmptySubscriptionKeys(){const t=[];for(let e in this.subscriptions)this.subscriptions[e].length&&t.push(e);return t}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let t in this.subscriptions)for(let e of this.subscriptions[t])this.eventSource.addEventListener(t,e)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let t in this.subscriptions)for(let e of this.subscriptions[t])this.eventSource.removeEventListener(t,e)}async connect(){if(!(this.reconnectAttempts>0))return new Promise(((t,e)=>{this.pendingConnects.push({resolve:t,reject:e}),this.pendingConnects.length>1||this.initConnect()}))}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout((()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))}),this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=t=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",(t=>{const e=t;this.clientId=e?.lastEventId,this.submitSubscriptions().then((async()=>{let t=3;for(;this.hasUnsentSubscriptions()&&t>0;)t--,await this.submitSubscriptions()})).then((()=>{for(let t of this.pendingConnects)t.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const e=this.getSubscriptionsByTopic("PB_CONNECT");for(let n in e)for(let s of e[n])s(t)})).catch((t=>{this.clientId="",this.connectErrorHandler(t)}))}))}hasUnsentSubscriptions(){const t=this.getNonEmptySubscriptionKeys();if(t.length!=this.lastSentSubscriptions.length)return!0;for(const e of t)if(!this.lastSentSubscriptions.includes(e))return!0;return!1}connectErrorHandler(t){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let e of this.pendingConnects)e.reject(new Se(t));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const e=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout((()=>{this.initConnect()}),e)}disconnect(t=!1){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),this.eventSource?.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(let t of this.pendingConnects)t.resolve();this.pendingConnects=[]}}}class He extends Ue{constructor(t,e){super(t),this.collectionIdOrName=e}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(t,e,n){if(!t)throw new Error("Missing topic.");if(!e)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,e,n)}async unsubscribe(t){return t?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(t,e){if("number"==typeof t)return super.getFullList(t,e);const n=Object.assign({},t,e);return super.getFullList(n)}async getList(t=1,e=30,n){return super.getList(t,e,n)}async getFirstListItem(t,e){return super.getFirstListItem(t,e)}async getOne(t,e){return super.getOne(t,e)}async create(t,e){return super.create(t,e)}async update(t,e,n){return super.update(t,e,n).then((t=>(this.client.authStore.model?.id!==t?.id||this.client.authStore.model?.collectionId!==this.collectionIdOrName&&this.client.authStore.model?.collectionName!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,t),t)))}async delete(t,e){return super.delete(t,e).then((e=>(!e||this.client.authStore.model?.id!==t||this.client.authStore.model?.collectionId!==this.collectionIdOrName&&this.client.authStore.model?.collectionName!==this.collectionIdOrName||this.client.authStore.clear(),e)))}authResponse(t){const e=this.decode(t?.record||{});return this.client.authStore.save(t?.token,e),Object.assign({},t,{token:t?.token||"",record:e})}async listAuthMethods(t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCollectionPath+"/auth-methods",t).then((t=>Object.assign({},t,{usernamePassword:!!t?.usernamePassword,emailPassword:!!t?.emailPassword,authProviders:Array.isArray(t?.authProviders)?t?.authProviders:[]})))}async authWithPassword(t,e,n,s){let o={method:"POST",body:{identity:t,password:e}};return o=De("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",o,n,s),this.client.send(this.baseCollectionPath+"/auth-with-password",o).then((t=>this.authResponse(t)))}async authWithOAuth2Code(t,e,n,s,o,r,i){let c={method:"POST",body:{provider:t,code:e,codeVerifier:n,redirectUrl:s,createData:o}};return c=De("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",c,r,i),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",c).then((t=>this.authResponse(t)))}async authWithOAuth2(...t){if(t.length>1||"string"==typeof t?.[0])return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code(t?.[0]||"",t?.[1]||"",t?.[2]||"",t?.[3]||"",t?.[4]||{},t?.[5]||{},t?.[6]||{});const e=t?.[0]||{},n=(await this.listAuthMethods()).authProviders.find((t=>t.name===e.provider));if(!n)throw new Se(new Error(`Missing or invalid provider "${e.provider}".`));const s=this.client.buildUrl("/api/oauth2-redirect"),o=new Ke(this.client);let r=null;function i(){r?.close(),o.unsubscribe()}return e.urlCallback||(r=Ge(void 0)),new Promise((async(t,c)=>{try{await o.subscribe("@oauth2",(async r=>{const a=o.clientId;try{if(!r.state||a!==r.state)throw new Error("State parameters don't match.");if(r.error||!r.code)throw new Error("OAuth2 redirect error or missing code: "+r.error);const o=Object.assign({},e);delete o.provider,delete o.scopes,delete o.createData,delete o.urlCallback;const i=await this.authWithOAuth2Code(n.name,r.code,n.codeVerifier,s,e.createData,o);t(i)}catch(t){c(new Se(t))}i()}));const a={state:o.clientId};e.scopes?.length&&(a.scope=e.scopes.join(" "));const l=this._replaceQueryParams(n.authUrl+s,a);let u=e.urlCallback||function(t){r?r.location.href=t:r=Ge(t)};await u(l)}catch(t){i(),c(new Se(t))}}))}async authRefresh(t,e){let n={method:"POST"};return n=De("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,t,e),this.client.send(this.baseCollectionPath+"/auth-refresh",n).then((t=>this.authResponse(t)))}async requestPasswordReset(t,e,n){let s={method:"POST",body:{email:t}};return s=De("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,e,n),this.client.send(this.baseCollectionPath+"/request-password-reset",s).then((()=>!0))}async confirmPasswordReset(t,e,n,s,o){let r={method:"POST",body:{token:t,password:e,passwordConfirm:n}};return r=De("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",r,s,o),this.client.send(this.baseCollectionPath+"/confirm-password-reset",r).then((()=>!0))}async requestVerification(t,e,n){let s={method:"POST",body:{email:t}};return s=De("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",s,e,n),this.client.send(this.baseCollectionPath+"/request-verification",s).then((()=>!0))}async confirmVerification(t,e,n){let s={method:"POST",body:{token:t}};return s=De("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",s,e,n),this.client.send(this.baseCollectionPath+"/confirm-verification",s).then((()=>{const e=qe(t),n=this.client.authStore.model;return n&&!n.verified&&n.id===e.id&&n.collectionId===e.collectionId&&(n.verified=!0,this.client.authStore.save(this.client.authStore.token,n)),!0}))}async requestEmailChange(t,e,n){let s={method:"POST",body:{newEmail:t}};return s=De("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",s,e,n),this.client.send(this.baseCollectionPath+"/request-email-change",s).then((()=>!0))}async confirmEmailChange(t,e,n,s){let o={method:"POST",body:{token:t,password:e}};return o=De("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",o,n,s),this.client.send(this.baseCollectionPath+"/confirm-email-change",o).then((()=>{const e=qe(t),n=this.client.authStore.model;return n&&n.id===e.id&&n.collectionId===e.collectionId&&this.client.authStore.clear(),!0}))}async listExternalAuths(t,e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",e)}async unlinkExternalAuth(t,e,n){return n=Object.assign({method:"DELETE"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(e),n).then((()=>!0))}_replaceQueryParams(t,e={}){let n=t,s="";t.indexOf("?")>=0&&(n=t.substring(0,t.indexOf("?")),s=t.substring(t.indexOf("?")+1));const o={},r=s.split("&");for(const t of r){if(""==t)continue;const e=t.split("=");o[decodeURIComponent(e[0].replace(/\+/g," "))]=decodeURIComponent((e[1]||"").replace(/\+/g," "))}for(let t in e)e.hasOwnProperty(t)&&(null==e[t]?delete o[t]:o[t]=e[t]);s="";for(let t in o)o.hasOwnProperty(t)&&(""!=s&&(s+="&"),s+=encodeURIComponent(t.replace(/%20/g,"+"))+"="+encodeURIComponent(o[t].replace(/%20/g,"+")));return""!=s?n+"?"+s:n}}function Ge(t){if("undefined"==typeof window||!window?.open)throw new Se(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,n=768,s=window.innerWidth,o=window.innerHeight;e=e>s?s:e,n=n>o?o:n;let r=s/2-e/2,i=o/2-n/2;return window.open(t,"popup_window","width="+e+",height="+n+",top="+i+",left="+r+",resizable,menubar=no")}class ze extends Ue{get baseCrudPath(){return"/api/collections"}async import(t,e=!1,n){return n=Object.assign({method:"PUT",body:{collections:t,deleteMissing:e}},n),this.client.send(this.baseCrudPath+"/import",n).then((()=>!0))}}class Ve extends Le{async getList(t=1,e=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:t,perPage:e},n.query),this.client.send("/api/logs",n)}async getOne(t,e){if(!t)throw new Se({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/"+encodeURIComponent(t),e)}async getStats(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/stats",t)}}class Je extends Le{async check(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/health",t)}}class Qe extends Le{getUrl(t,e,n={}){if(!e||!t?.id||!t?.collectionId&&!t?.collectionName)return"";const s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(t.collectionId||t.collectionName)),s.push(encodeURIComponent(t.id)),s.push(encodeURIComponent(e));let o=this.client.buildUrl(s.join("/"));if(Object.keys(n).length){!1===n.download&&delete n.download;const t=new URLSearchParams(n);o+=(o.includes("?")?"&":"?")+t}return o}async getToken(t){return t=Object.assign({method:"POST"},t),this.client.send("/api/files/token",t).then((t=>t?.token||""))}}class Ye extends Le{async getFullList(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/backups",t)}async create(t,e){return e=Object.assign({method:"POST",body:{name:t}},e),this.client.send("/api/backups",e).then((()=>!0))}async upload(t,e){return e=Object.assign({method:"POST",body:t},e),this.client.send("/api/backups/upload",e).then((()=>!0))}async delete(t,e){return e=Object.assign({method:"DELETE"},e),this.client.send(`/api/backups/${encodeURIComponent(t)}`,e).then((()=>!0))}async restore(t,e){return e=Object.assign({method:"POST"},e),this.client.send(`/api/backups/${encodeURIComponent(t)}/restore`,e).then((()=>!0))}getDownloadUrl(t,e){return this.client.buildUrl(`/api/backups/${encodeURIComponent(e)}?token=${encodeURIComponent(t)}`)}}const Xe=new class{constructor(t="/",e,n="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=n,this.authStore=e||new je,this.admins=new We(this),this.collections=new ze(this),this.files=new Qe(this),this.logs=new Ve(this),this.settings=new Ne(this),this.realtime=new Ke(this),this.health=new Je(this),this.backups=new Ye(this)}collection(t){return this.recordServices[t]||(this.recordServices[t]=new He(this,t)),this.recordServices[t]}autoCancellation(t){return this.enableAutoCancellation=!!t,this}cancelRequest(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this}cancelAllRequests(){for(let t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this}filter(t,e){if(!e)return t;for(let n in e){let s=e[n];switch(typeof s){case"boolean":case"number":s=""+s;break;case"string":s="'"+s.replace(/'/g,"\\'")+"'";break;default:s=null===s?"null":s instanceof Date?"'"+s.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(s).replace(/'/g,"\\'")+"'"}t=t.replaceAll("{:"+n+"}",s)}return t}getFileUrl(t,e,n={}){return this.files.getUrl(t,e,n)}buildUrl(t){let e=this.baseUrl;return"undefined"==typeof window||!window.location||e.startsWith("https://")||e.startsWith("http://")||(e=window.location.origin?.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(e+=window.location.pathname||"/",e+=e.endsWith("/")?"":"/"),e+=this.baseUrl),t&&(e+=e.endsWith("/")?"":"/",e+=t.startsWith("/")?t.substring(1):t),e}async send(t,e){e=this.initSendOptions(t,e);let n=this.buildUrl(t);if(this.beforeSend){const t=Object.assign({},await this.beforeSend(n,e));void 0!==t.url||void 0!==t.options?(n=t.url||n,e=t.options||e):Object.keys(t).length&&(e=t,console?.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(void 0!==e.query){const t=this.serializeQueryParams(e.query);t&&(n+=(n.includes("?")?"&":"?")+t),delete e.query}return"application/json"==this.getHeader(e.headers,"Content-Type")&&e.body&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body)),(e.fetch||fetch)(n,e).then((async t=>{let e={};try{e=await t.json()}catch(t){}if(this.afterSend&&(e=await this.afterSend(t,e)),t.status>=400)throw new Se({url:t.url,status:t.status,data:e});return e})).catch((t=>{throw new Se(t)}))}initSendOptions(t,e){if((e=Object.assign({method:"GET"},e)).body=this.convertToFormDataIfNeeded(e.body),Me(e),e.query=Object.assign({},e.params,e.query),void 0===e.requestKey&&(!1===e.$autoCancel||!1===e.query.$autoCancel?e.requestKey=null:(e.$cancelKey||e.query.$cancelKey)&&(e.requestKey=e.$cancelKey||e.query.$cancelKey)),delete e.$autoCancel,delete e.query.$autoCancel,delete e.$cancelKey,delete e.query.$cancelKey,null!==this.getHeader(e.headers,"Content-Type")||this.isFormData(e.body)||(e.headers=Object.assign({},e.headers,{"Content-Type":"application/json"})),null===this.getHeader(e.headers,"Accept-Language")&&(e.headers=Object.assign({},e.headers,{"Accept-Language":this.lang})),this.authStore.token&&null===this.getHeader(e.headers,"Authorization")&&(e.headers=Object.assign({},e.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&null!==e.requestKey){const n=e.requestKey||(e.method||"GET")+t;delete e.requestKey,this.cancelRequest(n);const s=new AbortController;this.cancelControllers[n]=s,e.signal=s.signal}return e}convertToFormDataIfNeeded(t){if("undefined"==typeof FormData||void 0===t||"object"!=typeof t||null===t||this.isFormData(t)||!this.hasBlobField(t))return t;const e=new FormData;for(const n in t){const s=t[n];if("object"!=typeof s||this.hasBlobField({data:s})){const t=Array.isArray(s)?s:[s];for(let s of t)e.append(n,s)}else{let t={};t[n]=s,e.append("@jsonPayload",JSON.stringify(t))}}return e}hasBlobField(t){for(const e in t){const n=Array.isArray(t[e])?t[e]:[t[e]];for(const t of n)if("undefined"!=typeof Blob&&t instanceof Blob||"undefined"!=typeof File&&t instanceof File)return!0}return!1}getHeader(t,e){t=t||{},e=e.toLowerCase();for(let n in t)if(n.toLowerCase()==e)return t[n];return null}isFormData(t){return t&&("FormData"===t.constructor.name||"undefined"!=typeof FormData&&t instanceof FormData)}serializeQueryParams(t){const e=[];for(const n in t){if(null===t[n])continue;const s=t[n],o=encodeURIComponent(n);if(Array.isArray(s))for(const t of s)e.push(o+"="+encodeURIComponent(t));else s instanceof Date?e.push(o+"="+encodeURIComponent(s.toISOString())):null!==typeof s&&"object"==typeof s?e.push(o+"="+encodeURIComponent(JSON.stringify(s))):e.push(o+"="+encodeURIComponent(s))}return e.join("&")}}("http://127.0.0.1:8090");function Ze(t){let e;return{c(){e=I("contracts")},m(t,n){T(t,e,n)},d(t){t&&E(e)}}}function tn(t){let e;return{c(){e=I("orders")},m(t,n){T(t,e,n)},d(t){t&&E(e)}}}function en(t){let e;return{c(){e=I("documents")},m(t,n){T(t,e,n)},d(t){t&&E(e)}}}function nn(t){let e;return{c(){e=I("Create a new contract")},m(t,n){T(t,e,n)},d(t){t&&E(e)}}}function sn(t){let e,n,s,o,r,i,c,a,l,u,d,h,p,f,m,b,g,y,w,$,v,x,C,S;return u=new Qt({props:{to:"/contracts",class:"text-blue-600 hover:underline",$$slots:{default:[Ze]},$$scope:{ctx:t}}}),f=new Qt({props:{to:"/orders",class:"text-blue-600 hover:underline",$$slots:{default:[tn]},$$scope:{ctx:t}}}),y=new Qt({props:{to:"/documents",class:"text-blue-600 hover:underline",$$slots:{default:[en]},$$scope:{ctx:t}}}),v=new Qt({props:{to:"/new-contract",class:"text-blue-600 hover:underline",$$slots:{default:[nn]},$$scope:{ctx:t}}}),{c(){e=A("div"),n=A("h1"),n.textContent=`Welcome to Grably, ${t[0]}!`,s=R(),o=A("div"),r=A("h2"),r.textContent="Quick Start",i=R(),c=A("ul"),a=A("li"),l=I("View and manage your "),Et(u.$$.fragment),d=R(),h=A("li"),p=I("Check your "),Et(f.$$.fragment),m=R(),b=A("li"),g=I("Access important "),Et(y.$$.fragment),w=R(),$=A("li"),Et(v.$$.fragment),x=R(),C=A("div"),C.innerHTML='<h2 class="text-2xl font-semibold mb-4">About Grably</h2> <p class="mb-4">Highly-Specific, \n        Off-the-Shelf Datasets. \n        Instant access to diverse datasets sourced directly from data owners.  \n        With Grably, you get access to 2,500TB of image data, 4.5 trillion dialog text messages,  \n        730M email exchanges, 1.6M hours of video clips, and billions of other specific data points.</p> <p>Need help? Contact our support team at <a href="mailto:hello@grably.us" class="text-blue-600 hover:underline">hello@grably.us</a>.</p>',N(n,"class","text-3xl font-bold mb-6"),N(r,"class","text-2xl font-semibold mb-4"),N(c,"class","list-disc pl-5 space-y-2"),N(o,"class","bg-white shadow-md rounded-lg p-6 mb-6"),N(C,"class","bg-gray-100 rounded-lg p-6"),N(e,"class","container mx-auto px-4 py-8")},m(t,P){T(t,e,P),k(e,n),k(e,s),k(e,o),k(o,r),k(o,i),k(o,c),k(c,a),k(a,l),At(u,a,null),k(c,d),k(c,h),k(h,p),At(f,h,null),k(c,m),k(c,b),k(b,g),At(y,b,null),k(c,w),k(c,$),At(v,$,null),k(e,x),k(e,C),S=!0},p(t,[e]){const n={};2&e&&(n.$$scope={dirty:e,ctx:t}),u.$set(n);const s={};2&e&&(s.$$scope={dirty:e,ctx:t}),f.$set(s);const o={};2&e&&(o.$$scope={dirty:e,ctx:t}),y.$set(o);const r={};2&e&&(r.$$scope={dirty:e,ctx:t}),v.$set(r)},i(t){S||(vt(u.$$.fragment,t),vt(f.$$.fragment,t),vt(y.$$.fragment,t),vt(v.$$.fragment,t),S=!0)},o(t){xt(u.$$.fragment,t),xt(f.$$.fragment,t),xt(y.$$.fragment,t),xt(v.$$.fragment,t),S=!1},d(t){t&&E(e),qt(u),qt(f),qt(y),qt(v)}}}function on(t){return[Xe.authStore.model?.name||"Guest"]}class rn extends _t{constructor(t){super(),Rt(this,t,on,sn,c,{})}}function cn(t){let e,n,s,o,r,i,c,a,l,u,d,h,p,f,m,b,g=t[0].description+"",y=new Date(t[0].deadline).toLocaleDateString()+"",w=t[0].amount_requested+"",$=t[0].price_per_point+"";function v(t,e){return t[1]?ln:an}let x=v(t),C=x(t);return{c(){e=A("div"),n=new K(!1),s=R(),o=A("p"),r=I("Deadline: "),i=I(y),c=R(),a=A("p"),l=I("Amount Requested: "),u=I(w),d=R(),h=A("p"),p=I("Price Per Point: "),f=I($),m=R(),b=A("div"),C.c(),n.a=s,N(b,"class","mt-4"),N(e,"class","mt-4")},m(t,y){T(t,e,y),n.m(g,e),k(e,s),k(e,o),k(o,r),k(o,i),k(e,c),k(e,a),k(a,l),k(a,u),k(e,d),k(e,h),k(h,p),k(h,f),k(e,m),k(e,b),C.m(b,null)},p(t,e){1&e&&g!==(g=t[0].description+"")&&n.p(g),1&e&&y!==(y=new Date(t[0].deadline).toLocaleDateString()+"")&&W(i,y),1&e&&w!==(w=t[0].amount_requested+"")&&W(u,w),1&e&&$!==($=t[0].price_per_point+"")&&W(f,$),x===(x=v(t))&&C?C.p(t,e):(C.d(1),C=x(t),C&&(C.c(),C.m(b,null)))},d(t){t&&E(e),C.d()}}}function an(e){let n;return{c(){n=A("p"),n.textContent="You don't have permission to upload files to this contract."},m(t,e){T(t,n,e)},p:t,d(t){t&&E(n)}}}function ln(t){let e,n,s,o,i,c,a,l=t[4]&&un(t);return{c(){e=A("input"),n=R(),s=A("button"),s.textContent="Upload File",o=R(),l&&l.c(),i=_(),N(e,"type","file"),N(e,"accept",".csv,.json,.txt,.image/*"),N(s,"class","mt-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600")},m(r,u){var d;T(r,e,u),T(r,n,u),T(r,s,u),T(r,o,u),l&&l.m(r,u),T(r,i,u),c||(a=[j(e,"change",t[10]),j(s,"click",(d=t[6],function(t){return t.stopPropagation(),d.call(this,t)}))],c=!0)},p(t,e){t[4]?l?l.p(t,e):(l=un(t),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(t){t&&(E(e),E(n),E(s),E(o),E(i)),l&&l.d(t),c=!1,r(a)}}}function un(t){let e,n,s;return{c(){e=A("p"),n=I(t[4]),N(e,"class",s=t[4].includes("Error")?"text-red-500":"text-green-500")},m(t,s){T(t,e,s),k(e,n)},p(t,o){16&o&&W(n,t[4]),16&o&&s!==(s=t[4].includes("Error")?"text-red-500":"text-green-500")&&N(e,"class",s)},d(t){t&&E(e)}}}function dn(e){let n,s,o,i,c,a,u,d,h,p,f,m,b,g,y=e[0].title+"",w=e[0].status+"",$=e[2]&&cn(e);return{c(){n=A("div"),s=A("div"),o=A("img"),c=R(),a=A("div"),u=A("h2"),d=I(y),h=R(),p=A("p"),f=I(w),m=R(),$&&$.c(),l(o.src,i=e[8](e[0]))||N(o,"src",i),N(o,"alt","Contract thumbnail"),N(o,"class","w-20 h-20 object-cover rounded mr-4"),N(u,"class","text-xl font-semibold mb-2"),N(p,"class","text-gray-600"),N(s,"class","flex items-start"),N(n,"class","bg-white shadow-md rounded-lg p-4 cursor-pointer"),N(n,"tabindex","0"),N(n,"role","button"),N(n,"aria-expanded",e[2])},m(t,r){T(t,n,r),k(n,s),k(s,o),k(s,c),k(s,a),k(a,u),k(u,d),k(a,h),k(a,p),k(p,f),k(n,m),$&&$.m(n,null),b||(g=[j(n,"click",e[5]),j(n,"keydown",e[7])],b=!0)},p(t,[e]){1&e&&!l(o.src,i=t[8](t[0]))&&N(o,"src",i),1&e&&y!==(y=t[0].title+"")&&W(d,y),1&e&&w!==(w=t[0].status+"")&&W(f,w),t[2]?$?$.p(t,e):($=cn(t),$.c(),$.m(n,null)):$&&($.d(1),$=null),4&e&&N(n,"aria-expanded",t[2])},i:t,o:t,d(t){t&&E(n),$&&$.d(),b=!1,r(g)}}}function hn(t,e,n){let s,o,{contract:r}=e,{isAdmin:i}=e,c=!1,a="",l=Xe.authStore.model?.role||"";const u=tt();function d(){n(2,c=!c)}return console.log("ContractCard: isAdmin =",i),console.log("ContractCard: userRole =",l),t.$$set=t=>{"contract"in t&&n(0,r=t.contract),"isAdmin"in t&&n(9,i=t.isAdmin)},t.$$.update=()=>{512&t.$$.dirty&&n(1,s=i||"DataProvider"===l),2&t.$$.dirty&&console.log("canUpload:",s)},[r,s,c,o,a,d,async function(){if(o){n(4,a="Uploading..."),console.log("Attempting to upload file:",o[0].name);try{const t=new FormData;t.append("data",o[0]),t.append("contract",r.id),t.append("owner",Xe.authStore.model.id),console.log("FormData:",t);const e=await Xe.collection("DataPoint").create(t);console.log("DataPoint created:",e),n(4,a="File uploaded successfully!"),u("fileUploaded",{dataPoint:e}),n(3,o=null)}catch(t){console.error("Error uploading file:",t),n(4,a=`Error uploading file: ${t.message}`)}}else n(4,a="Please select a file first.")},function(t){"Enter"!==t.key&&" "!==t.key||d()},function(t){return t.thumbnail?Xe.files.getUrl(t,t.thumbnail):"path/to/default/thumbnail.jpg"},i,function(){o=this.files,n(3,o)}]}class pn extends _t{constructor(t){super(),Rt(this,t,hn,dn,c,{contract:0,isAdmin:9})}}function fn(t,e,n){const s=t.slice();return s[4]=e[n],s}function mn(t){let e,n,s=[],o=new Map,i=kt(t[0]);const c=t=>t[4].id;for(let e=0;e<i.length;e+=1){let n=fn(t,i,e),r=c(n);o.set(r,s[e]=wn(r,n))}return{c(){e=A("div");for(let t=0;t<s.length;t+=1)s[t].c();N(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(t,o){T(t,e,o);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);n=!0},p(t,n){9&n&&(i=kt(t[0]),wt(),s=function(t,e,n,s,o,i,c,a,l,u,d,h){let p=t.length,f=i.length,m=p;const b={};for(;m--;)b[t[m].key]=m;const g=[],y=new Map,w=new Map,$=[];for(m=f;m--;){const t=h(o,i,m),r=n(t);let a=c.get(r);a?s&&$.push((()=>a.p(t,e))):(a=u(r,t),a.c()),y.set(r,g[m]=a),r in b&&w.set(r,Math.abs(m-b[r]))}const v=new Set,x=new Set;function C(t){vt(t,1),t.m(a,d),c.set(t.key,t),d=t.first,f--}for(;p&&f;){const e=g[f-1],n=t[p-1],s=e.key,o=n.key;e===n?(d=e.first,p--,f--):y.has(o)?!c.has(s)||v.has(s)?C(e):x.has(o)?p--:w.get(s)>w.get(o)?(x.add(s),C(e)):(v.add(o),p--):(l(n,c),p--)}for(;p--;){const e=t[p];y.has(e.key)||l(e,c)}for(;f;)C(g[f-1]);return r($),g}(s,n,c,1,t,i,o,e,Pt,wn,null,fn),$t())},i(t){if(!n){for(let t=0;t<i.length;t+=1)vt(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)xt(s[t]);n=!1},d(t){t&&E(e);for(let t=0;t<s.length;t+=1)s[t].d()}}}function bn(e){let n;return{c(){n=A("p"),n.textContent="No contracts found.",N(n,"class","text-center")},m(t,e){T(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}function gn(e){let n,s;return{c(){n=A("p"),s=I(e[2]),N(n,"class","text-red-500 text-center")},m(t,e){T(t,n,e),k(n,s)},p(t,e){4&e&&W(s,t[2])},i:t,o:t,d(t){t&&E(n)}}}function yn(e){let n;return{c(){n=A("p"),n.textContent="Loading contracts...",N(n,"class","text-center")},m(t,e){T(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}function wn(t,e){let n,s,o;return s=new pn({props:{contract:e[4],isAdmin:e[3]}}),s.$on("fileUploaded",vn),{key:t,first:null,c(){n=_(),Et(s.$$.fragment),this.first=n},m(t,e){T(t,n,e),At(s,t,e),o=!0},p(t,n){e=t;const o={};1&n&&(o.contract=e[4]),8&n&&(o.isAdmin=e[3]),s.$set(o)},i(t){o||(vt(s.$$.fragment,t),o=!0)},o(t){xt(s.$$.fragment,t),o=!1},d(t){t&&E(n),qt(s,t)}}}function $n(t){let e,n,s,o,r,i;const c=[yn,gn,bn,mn],a=[];function l(t,e){return t[1]?0:t[2]?1:0===t[0].length?2:3}return o=l(t),r=a[o]=c[o](t),{c(){e=A("div"),n=A("h1"),n.textContent="Contracts",s=R(),r.c(),N(n,"class","text-3xl font-bold mb-6"),N(e,"class","container mx-auto px-4")},m(t,r){T(t,e,r),k(e,n),k(e,s),a[o].m(e,null),i=!0},p(t,[n]){let s=o;o=l(t),o===s?a[o].p(t,n):(wt(),xt(a[s],1,1,(()=>{a[s]=null})),$t(),r=a[o],r?r.p(t,n):(r=a[o]=c[o](t),r.c()),vt(r,1),r.m(e,null))},i(t){i||(vt(r),i=!0)},o(t){xt(r),i=!1},d(t){t&&E(e),a[o].d()}}}function vn(t){console.log("File uploaded:",t.detail.dataPoint)}function xn(t,e,n){let s=[],o=!0,r=null,i=!1;return Z((async()=>{n(3,i="Admin"===Xe.authStore.model?.role);try{const t=await Xe.collection("Contract").getList(1,50,{sort:"-created",expand:"creator"});n(0,s=t.items)}catch(t){n(2,r=t.message)}finally{n(1,o=!1)}})),[s,o,r,i]}class Cn extends _t{constructor(t){super(),Rt(this,t,xn,$n,c,{})}}function Sn(t){let e,n;return{c(){e=A("p"),n=I(t[2]),N(e,"class","text-red-500 mb-4")},m(t,s){T(t,e,s),k(e,n)},p(t,e){4&e&&W(n,t[2])},d(t){t&&E(e)}}}function kn(e){let n,s,o,i,c,a,l,u,d,h,p,f,m,b,g,y,w,$=e[2]&&Sn(e);return{c(){n=A("h2"),n.textContent="Login to Grably",s=R(),$&&$.c(),o=R(),i=A("form"),c=A("div"),a=A("label"),a.textContent="Email",l=R(),u=A("input"),d=R(),h=A("div"),p=A("label"),p.textContent="Password",f=R(),m=A("input"),b=R(),g=A("button"),g.textContent="Login",N(n,"class","text-2xl mb-4 font-bold text-center"),N(a,"for","email"),N(a,"class","block mb-2"),N(u,"id","email"),N(u,"type","text"),N(u,"class","w-full p-2 border rounded"),u.required=!0,N(c,"class","mb-4"),N(p,"for","password"),N(p,"class","block mb-2"),N(m,"id","password"),N(m,"type","password"),N(m,"class","w-full p-2 border rounded"),m.required=!0,N(h,"class","mb-4"),N(g,"type","submit"),N(g,"class","w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600")},m(t,r){T(t,n,r),T(t,s,r),$&&$.m(t,r),T(t,o,r),T(t,i,r),k(i,c),k(c,a),k(c,l),k(c,u),B(u,e[0]),k(i,d),k(i,h),k(h,p),k(h,f),k(h,m),B(m,e[1]),k(i,b),k(i,g),y||(w=[j(u,"input",e[4]),j(m,"input",e[5]),j(i,"submit",L(e[3]))],y=!0)},p(t,[e]){t[2]?$?$.p(t,e):($=Sn(t),$.c(),$.m(o.parentNode,o)):$&&($.d(1),$=null),1&e&&u.value!==t[0]&&B(u,t[0]),2&e&&m.value!==t[1]&&B(m,t[1])},i:t,o:t,d(t){t&&(E(n),E(s),E(o),E(i)),$&&$.d(t),y=!1,r(w)}}}function Pn(t,e,n){let s="",o="",r="";return[s,o,r,async function(){try{await Xe.admins.authWithPassword(s,o),pe("/contracts")}catch(t){try{await Xe.collection("users").authWithPassword(s,o),pe("/contracts")}catch(t){n(2,r=t.message)}}},function(){s=this.value,n(0,s)},function(){o=this.value,n(1,o)}]}class On extends _t{constructor(t){super(),Rt(this,t,Pn,kn,c,{})}}function Tn(t){let e,n;return{c(){e=A("p"),n=I(t[4]),N(e,"class","text-red-500 mb-4")},m(t,s){T(t,e,s),k(e,n)},p(t,e){16&e&&W(n,t[4])},d(t){t&&E(e)}}}function En(e){let n,s,o,i,c,a,l,u,d,h,p,f,m,b,g,y,w,$,v,x,C,S,P,O,q,I,_,U=e[4]&&Tn(e);return{c(){n=A("h2"),n.textContent="Sign Up for Grably",s=R(),U&&U.c(),o=R(),i=A("form"),c=A("div"),a=A("label"),a.textContent="Name",l=R(),u=A("input"),d=R(),h=A("div"),p=A("label"),p.textContent="Email",f=R(),m=A("input"),b=R(),g=A("div"),y=A("label"),y.textContent="Password",w=R(),$=A("input"),v=R(),x=A("div"),C=A("label"),C.textContent="Confirm Password",S=R(),P=A("input"),O=R(),q=A("button"),q.textContent="Sign Up",N(n,"class","text-2xl mb-4 font-bold text-center"),N(a,"for","name"),N(a,"class","block mb-2"),N(u,"id","name"),N(u,"type","text"),N(u,"class","w-full p-2 border rounded"),u.required=!0,N(c,"class","mb-4"),N(p,"for","email"),N(p,"class","block mb-2"),N(m,"id","email"),N(m,"type","email"),N(m,"class","w-full p-2 border rounded"),m.required=!0,N(h,"class","mb-4"),N(y,"for","password"),N(y,"class","block mb-2"),N($,"id","password"),N($,"type","password"),N($,"class","w-full p-2 border rounded"),$.required=!0,N(g,"class","mb-4"),N(C,"for","confirmPassword"),N(C,"class","block mb-2"),N(P,"id","confirmPassword"),N(P,"type","password"),N(P,"class","w-full p-2 border rounded"),P.required=!0,N(x,"class","mb-4"),N(q,"type","submit"),N(q,"class","w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600")},m(t,r){T(t,n,r),T(t,s,r),U&&U.m(t,r),T(t,o,r),T(t,i,r),k(i,c),k(c,a),k(c,l),k(c,u),B(u,e[0]),k(i,d),k(i,h),k(h,p),k(h,f),k(h,m),B(m,e[1]),k(i,b),k(i,g),k(g,y),k(g,w),k(g,$),B($,e[2]),k(i,v),k(i,x),k(x,C),k(x,S),k(x,P),B(P,e[3]),k(i,O),k(i,q),I||(_=[j(u,"input",e[6]),j(m,"input",e[7]),j($,"input",e[8]),j(P,"input",e[9]),j(i,"submit",L(e[5]))],I=!0)},p(t,[e]){t[4]?U?U.p(t,e):(U=Tn(t),U.c(),U.m(o.parentNode,o)):U&&(U.d(1),U=null),1&e&&u.value!==t[0]&&B(u,t[0]),2&e&&m.value!==t[1]&&B(m,t[1]),4&e&&$.value!==t[2]&&B($,t[2]),8&e&&P.value!==t[3]&&B(P,t[3])},i:t,o:t,d(t){t&&(E(n),E(s),E(o),E(i)),U&&U.d(t),I=!1,r(_)}}}function An(t,e,n){let s="",o="",r="",i="",c="";return[s,o,r,i,c,async function(){if(r===i)try{const t={name:s,email:o,password:r,passwordConfirm:i,role:"DataProvider"};await Xe.collection("users").create(t),await Xe.collection("users").authWithPassword(o,r),pe("/contracts")}catch(t){n(4,c=t.message)}else n(4,c="Passwords don't match")},function(){s=this.value,n(0,s)},function(){o=this.value,n(1,o)},function(){r=this.value,n(2,r)},function(){i=this.value,n(3,i)}]}class qn extends _t{constructor(t){super(),Rt(this,t,An,En,c,{})}}function In(t){let e,n;return{c(){e=A("p"),n=I(t[2]),N(e,"class","text-red-500 mb-4")},m(t,s){T(t,e,s),k(e,n)},p(t,e){4&e&&W(n,t[2])},d(t){t&&E(e)}}}function Rn(t){let e,n;return{c(){e=A("p"),n=I(t[1]),N(e,"class","text-green-500 mb-4")},m(t,s){T(t,e,s),k(e,n)},p(t,e){2&e&&W(n,t[1])},d(t){t&&E(e)}}}function _n(e){let n,s,o,i,c,a,l,u,d,h,p,f,m,b=e[2]&&In(e),g=e[1]&&Rn(e);return{c(){n=A("h2"),n.textContent="Reset Password",s=R(),b&&b.c(),o=R(),g&&g.c(),i=R(),c=A("form"),a=A("div"),l=A("label"),l.textContent="Email",u=R(),d=A("input"),h=R(),p=A("button"),p.textContent="Reset Password",N(n,"class","text-2xl mb-4 font-bold text-center"),N(l,"for","email"),N(l,"class","block mb-2"),N(d,"id","email"),N(d,"type","email"),N(d,"class","w-full p-2 border rounded"),d.required=!0,N(a,"class","mb-4"),N(p,"type","submit"),N(p,"class","w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600")},m(t,r){T(t,n,r),T(t,s,r),b&&b.m(t,r),T(t,o,r),g&&g.m(t,r),T(t,i,r),T(t,c,r),k(c,a),k(a,l),k(a,u),k(a,d),B(d,e[0]),k(c,h),k(c,p),f||(m=[j(d,"input",e[4]),j(c,"submit",L(e[3]))],f=!0)},p(t,[e]){t[2]?b?b.p(t,e):(b=In(t),b.c(),b.m(o.parentNode,o)):b&&(b.d(1),b=null),t[1]?g?g.p(t,e):(g=Rn(t),g.c(),g.m(i.parentNode,i)):g&&(g.d(1),g=null),1&e&&d.value!==t[0]&&B(d,t[0])},i:t,o:t,d(t){t&&(E(n),E(s),E(o),E(i),E(c)),b&&b.d(t),g&&g.d(t),f=!1,r(m)}}}function jn(t,e,n){let s="",o="",r="";return[s,o,r,async function(){try{await Xe.collection("users").requestPasswordReset(s),n(1,o="Password reset email sent. Please check your inbox."),n(2,r="")}catch(t){n(2,r=t.message),n(1,o="")}},function(){s=this.value,n(0,s)}]}class Ln extends _t{constructor(t){super(),Rt(this,t,jn,_n,c,{})}}function Nn(e){let n,s,o,r,i,c,a;return n=new Ln({}),{c(){Et(n.$$.fragment),s=R(),o=A("div"),r=A("button"),r.textContent="Back to login",N(r,"class","text-blue-500 hover:underline"),N(o,"class","mt-4 text-center")},m(t,l){At(n,t,l),T(t,s,l),T(t,o,l),k(o,r),i=!0,c||(a=j(r,"click",e[5]),c=!0)},p:t,i(t){i||(vt(n.$$.fragment,t),i=!0)},o(t){xt(n.$$.fragment,t),i=!1},d(t){t&&(E(s),E(o)),qt(n,t),c=!1,a()}}}function Un(e){let n,s,o,r,i,c,a;return n=new qn({}),{c(){Et(n.$$.fragment),s=R(),o=A("div"),r=A("button"),r.textContent="Already have an account? Log in",N(r,"class","text-blue-500 hover:underline"),N(o,"class","mt-4 text-center")},m(t,l){At(n,t,l),T(t,s,l),T(t,o,l),k(o,r),i=!0,c||(a=j(r,"click",e[4]),c=!0)},p:t,i(t){i||(vt(n.$$.fragment,t),i=!0)},o(t){xt(n.$$.fragment,t),i=!1},d(t){t&&(E(s),E(o)),qt(n,t),c=!1,a()}}}function Dn(e){let n,s,o,i,c,a,l,u,d,h,p;return n=new On({}),{c(){Et(n.$$.fragment),s=R(),o=A("div"),i=A("button"),i.textContent="Create an account",c=R(),a=A("span"),a.textContent="|",l=R(),u=A("button"),u.textContent="Forgot password?",N(i,"class","text-blue-500 hover:underline"),N(a,"class","mx-2"),N(u,"class","text-blue-500 hover:underline"),N(o,"class","mt-4 text-center")},m(t,r){At(n,t,r),T(t,s,r),T(t,o,r),k(o,i),k(o,c),k(o,a),k(o,l),k(o,u),d=!0,h||(p=[j(i,"click",e[2]),j(u,"click",e[3])],h=!0)},p:t,i(t){d||(vt(n.$$.fragment,t),d=!0)},o(t){xt(n.$$.fragment,t),d=!1},d(t){t&&(E(s),E(o)),qt(n,t),h=!1,r(p)}}}function Fn(t){let e,n,s,o,r;const i=[Dn,Un,Nn],c=[];function a(t,e){return"login"===t[0]?0:"signup"===t[0]?1:"reset"===t[0]?2:-1}return~(s=a(t))&&(o=c[s]=i[s](t)),{c(){e=A("div"),n=A("div"),o&&o.c(),N(n,"class","bg-white p-8 rounded shadow-md w-full max-w-md"),N(e,"class","flex items-center justify-center min-h-screen bg-gray-100")},m(t,o){T(t,e,o),k(e,n),~s&&c[s].m(n,null),r=!0},p(t,[e]){let r=s;s=a(t),s===r?~s&&c[s].p(t,e):(o&&(wt(),xt(c[r],1,1,(()=>{c[r]=null})),$t()),~s?(o=c[s],o?o.p(t,e):(o=c[s]=i[s](t),o.c()),vt(o,1),o.m(n,null)):o=null)},i(t){r||(vt(o),r=!0)},o(t){xt(o),r=!1},d(t){t&&E(e),~s&&c[s].d()}}}function Wn(t,e,n){let s="login";function o(t){n(0,s=t)}return[s,o,()=>o("signup"),()=>o("reset"),()=>o("login"),()=>o("login")]}class Bn extends _t{constructor(t){super(),Rt(this,t,Wn,Fn,c,{})}}function Mn(t){let e,n;return{c(){e=A("p"),n=I(t[5]),N(e,"class","text-red-500 mb-4")},m(t,s){T(t,e,s),k(e,n)},p(t,e){32&e&&W(n,t[5])},d(t){t&&E(e)}}}function Kn(e){let n,s,o,i,c,a,l,u,d,h,p,f,m,b,g,y,w,$,v,x,C,S,P,O,q,I,_,U,D,W,M,K,H,G=e[5]&&Mn(e);return{c(){n=A("div"),s=A("h1"),s.textContent="New Contract",o=R(),i=A("form"),G&&G.c(),c=R(),a=A("div"),l=A("label"),l.textContent="Title",u=R(),d=A("input"),h=R(),p=A("div"),f=A("label"),f.textContent="Description",m=R(),b=A("textarea"),g=R(),y=A("div"),w=A("label"),w.textContent="Amount Requested",$=R(),v=A("input"),x=R(),C=A("div"),S=A("label"),S.textContent="Price Per Point",P=R(),O=A("input"),q=R(),I=A("div"),_=A("label"),_.textContent="Deadline",U=R(),D=A("input"),W=R(),M=A("button"),M.textContent="Submit Contract",N(s,"class","text-3xl font-bold mb-6"),N(l,"for","title"),N(l,"class","block mb-2 font-semibold"),N(d,"id","title"),N(d,"type","text"),N(d,"class","w-full p-2 border rounded"),d.required=!0,N(a,"class","mb-4"),N(f,"for","description"),N(f,"class","block mb-2 font-semibold"),N(b,"id","description"),N(b,"class","w-full p-2 border rounded"),N(b,"rows","4"),b.required=!0,N(p,"class","mb-4"),N(w,"for","amount_requested"),N(w,"class","block mb-2 font-semibold"),N(v,"id","amount_requested"),N(v,"type","number"),N(v,"min","1"),N(v,"class","w-full p-2 border rounded"),v.required=!0,N(y,"class","mb-4"),N(S,"for","price_per_point"),N(S,"class","block mb-2 font-semibold"),N(O,"id","price_per_point"),N(O,"type","number"),N(O,"min","0"),N(O,"step","0.01"),N(O,"class","w-full p-2 border rounded"),O.required=!0,N(C,"class","mb-4"),N(_,"for","deadline"),N(_,"class","block mb-2 font-semibold"),N(D,"id","deadline"),N(D,"type","date"),N(D,"class","w-full p-2 border rounded"),D.required=!0,N(I,"class","mb-4"),N(M,"type","submit"),N(M,"class","w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition duration-300"),N(i,"class","bg-white p-6 rounded shadow-md"),N(n,"class","container mx-auto max-w-2xl px-4")},m(t,r){T(t,n,r),k(n,s),k(n,o),k(n,i),G&&G.m(i,null),k(i,c),k(i,a),k(a,l),k(a,u),k(a,d),B(d,e[0]),k(i,h),k(i,p),k(p,f),k(p,m),k(p,b),B(b,e[1]),k(i,g),k(i,y),k(y,w),k(y,$),k(y,v),B(v,e[2]),k(i,x),k(i,C),k(C,S),k(C,P),k(C,O),B(O,e[3]),k(i,q),k(i,I),k(I,_),k(I,U),k(I,D),B(D,e[4]),k(i,W),k(i,M),K||(H=[j(d,"input",e[7]),j(b,"input",e[8]),j(v,"input",e[9]),j(O,"input",e[10]),j(D,"input",e[11]),j(i,"submit",L(e[6]))],K=!0)},p(t,[e]){t[5]?G?G.p(t,e):(G=Mn(t),G.c(),G.m(i,c)):G&&(G.d(1),G=null),1&e&&d.value!==t[0]&&B(d,t[0]),2&e&&B(b,t[1]),4&e&&F(v.value)!==t[2]&&B(v,t[2]),8&e&&F(O.value)!==t[3]&&B(O,t[3]),16&e&&B(D,t[4])},i:t,o:t,d(t){t&&E(n),G&&G.d(),K=!1,r(H)}}}function Hn(t,e,n){let s="",o="",r=0,i=0,c="",a="";return"Customer"!==Xe.authStore.model?.role&&pe("/"),[s,o,r,i,c,a,async function(){try{const t={title:s,description:o,amount_requested:r,price_per_point:i,deadline:c,status:"Draft",creator:Xe.authStore.model.id};console.log("Submitting data:",t);const e=await Xe.collection("Contract").create(t);console.log("Created record:",e),pe("/contracts")}catch(t){console.error("Error creating contract:",t),n(5,a=t.message)}},function(){s=this.value,n(0,s)},function(){o=this.value,n(1,o)},function(){r=F(this.value),n(2,r)},function(){i=F(this.value),n(3,i)},function(){c=this.value,n(4,c)}]}class Gn extends _t{constructor(t){super(),Rt(this,t,Hn,Kn,c,{})}}function zn(e){let n,s,o,i,c,a,u,d,h,p,f,m,b,g,y,w,$,v,x,C,S,P,O,q,_,L,U,D,F=e[0].name+"",B=e[0].email+"",M=e[0].role+"",K=e[1].toFixed(2)+"";return{c(){n=A("div"),s=A("div"),o=A("h2"),o.textContent="User Profile",i=R(),c=A("div"),a=A("img"),d=R(),h=A("div"),p=A("p"),f=I(F),m=R(),b=A("p"),g=I(B),y=R(),w=A("p"),$=I("Role: "),v=I(M),x=R(),C=A("p"),S=I("Wallet Balance: $"),P=I(K),O=R(),q=A("button"),q.textContent="Logout",_=R(),L=A("button"),L.textContent="Close",N(o,"class","text-2xl font-bold mb-4"),l(a.src,u=e[4](e[0]))||N(a,"src",u),N(a,"alt","User avatar"),N(a,"class","w-20 h-20 rounded-full mr-4 bg-gray-200"),N(p,"class","font-semibold text-xl"),N(b,"class","text-gray-600"),N(c,"class","flex items-center mb-4"),N(w,"class","mb-4"),N(C,"class","mb-4"),N(q,"class","bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 mr-2"),N(L,"class","bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400"),N(s,"class","bg-white rounded-lg p-8 max-w-md w-full"),N(n,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(t,r){T(t,n,r),k(n,s),k(s,o),k(s,i),k(s,c),k(c,a),k(c,d),k(c,h),k(h,p),k(p,f),k(h,m),k(h,b),k(b,g),k(s,y),k(s,w),k(w,$),k(w,v),k(s,x),k(s,C),k(C,S),k(C,P),k(s,O),k(s,q),k(s,_),k(s,L),U||(D=[j(q,"click",e[3]),j(L,"click",e[2])],U=!0)},p(t,[e]){1&e&&!l(a.src,u=t[4](t[0]))&&N(a,"src",u),1&e&&F!==(F=t[0].name+"")&&W(f,F),1&e&&B!==(B=t[0].email+"")&&W(g,B),1&e&&M!==(M=t[0].role+"")&&W(v,M),2&e&&K!==(K=t[1].toFixed(2)+"")&&W(P,K)},i:t,o:t,d(t){t&&E(n),U=!1,r(D)}}}function Vn(t,e,n){let{user:s}=e,{walletBalance:o}=e;const r=tt();return t.$$set=t=>{"user"in t&&n(0,s=t.user),"walletBalance"in t&&n(1,o=t.walletBalance)},[s,o,function(){r("close")},async function(){Xe.authStore.clear(),window.location.href="/login"},function(t){return t.avatar?Xe.files.getUrl(t,t.avatar):`data:image/svg+xml,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" /></svg>')}`}]}class Jn extends _t{constructor(t){super(),Rt(this,t,Vn,zn,c,{user:0,walletBalance:1})}}function Qn(e){let n;return{c(){n=A("p"),n.textContent="Loading..."},m(t,e){T(t,n,e)},p:t,d(t){t&&E(n)}}}function Yn(t){let e;function n(t,e){return t[0]?Zn:Xn}let s=n(t),o=s(t);return{c(){o.c(),e=_()},m(t,n){o.m(t,n),T(t,e,n)},p(t,r){s===(s=n(t))&&o?o.p(t,r):(o.d(1),o=s(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){t&&E(e),o.d(t)}}}function Xn(e){let n;return{c(){n=A("p"),n.textContent="Not logged in"},m(t,e){T(t,n,e)},p:t,d(t){t&&E(n)}}}function Zn(t){let e,n,s,o,i,c,a,u,d,h,p,f,m,b,g=(t[0].name||"User")+"",y=t[1].toFixed(2)+"";return{c(){e=A("div"),n=A("button"),s=A("img"),i=R(),c=A("div"),a=A("p"),u=I(g),d=R(),h=A("p"),p=I("Balance: $"),f=I(y),l(s.src,o=t[6](t[0]))||N(s,"src",o),N(s,"alt","User avatar"),N(s,"class","w-10 h-10 rounded-full mr-2 bg-white"),N(a,"class","font-semibold"),N(h,"class","text-sm"),N(n,"type","button"),N(n,"class","flex items-center cursor-pointer bg-transparent border-none text-white"),N(n,"aria-haspopup","true"),N(n,"aria-expanded",t[2])},m(o,r){T(o,e,r),k(e,n),k(n,s),k(n,i),k(n,c),k(c,a),k(a,u),k(c,d),k(c,h),k(h,p),k(h,f),m||(b=[j(n,"click",t[4]),j(n,"keydown",t[5])],m=!0)},p(t,e){1&e&&!l(s.src,o=t[6](t[0]))&&N(s,"src",o),1&e&&g!==(g=(t[0].name||"User")+"")&&W(u,g),2&e&&y!==(y=t[1].toFixed(2)+"")&&W(f,y),4&e&&N(n,"aria-expanded",t[2])},d(t){t&&E(e),m=!1,r(b)}}}function ts(t){let e,n;return e=new Jn({props:{user:t[0],walletBalance:t[1]}}),e.$on("close",t[7]),{c(){Et(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.user=t[0]),2&n&&(s.walletBalance=t[1]),e.$set(s)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){qt(e,t)}}}function es(t){let e,n,s,o,r,i,c;function a(t,e){return t[3]?Qn:Yn}let l=a(t),u=l(t),d=t[2]&&ts(t);return{c(){e=A("header"),n=A("div"),s=A("h1"),s.textContent="Grably",o=R(),u.c(),r=R(),d&&d.c(),i=_(),N(s,"class","text-2xl font-bold"),N(n,"class","container mx-auto flex justify-between items-center"),N(e,"class","bg-blue-600 text-white p-4")},m(t,a){T(t,e,a),k(e,n),k(n,s),k(n,o),u.m(n,null),T(t,r,a),d&&d.m(t,a),T(t,i,a),c=!0},p(t,[e]){l===(l=a(t))&&u?u.p(t,e):(u.d(1),u=l(t),u&&(u.c(),u.m(n,null))),t[2]?d?(d.p(t,e),4&e&&vt(d,1)):(d=ts(t),d.c(),vt(d,1),d.m(i.parentNode,i)):d&&(wt(),xt(d,1,1,(()=>{d=null})),$t())},i(t){c||(vt(d),c=!0)},o(t){xt(d),c=!1},d(t){t&&(E(e),E(r),E(i)),u.d(),d&&d.d(t)}}}function ns(t,e,n){let s=null,o=0,r=!1,i=!0,c=null;function a(){n(2,r=!r)}Z((async()=>{if(Xe.authStore.isValid&&(n(0,s=Xe.authStore.model),c=JSON.parse(JSON.stringify(Xe.authStore.model)),s.wallet))try{const t=await Xe.collection("Wallet").getOne(s.wallet);n(1,o=t.token_balance)}catch(t){console.error("Error fetching wallet:",t)}n(3,i=!1),console.log("Auth Store Model:",c)}));return[s,o,r,i,a,function(t){"Enter"!==t.key&&" "!==t.key||a()},function(t){return t?.avatar?Xe.files.getUrl(t,t.avatar):`data:image/svg+xml,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" /></svg>')}`},()=>n(2,r=!1)]}class ss extends _t{constructor(t){super(),Rt(this,t,ns,es,c,{})}}function os(t){let e;return{c(){e=I("Terms and Conditions")},m(t,n){T(t,e,n)},d(t){t&&E(e)}}}function rs(t){let e;return{c(){e=I("Privacy Policy")},m(t,n){T(t,e,n)},d(t){t&&E(e)}}}function is(t){let e,n,s,o,r,i,c,a,l;return i=new Qt({props:{to:"/terms",class:"text-blue-300 hover:underline mx-2",$$slots:{default:[os]},$$scope:{ctx:t}}}),a=new Qt({props:{to:"/privacy",class:"text-blue-300 hover:underline mx-2",$$slots:{default:[rs]},$$scope:{ctx:t}}}),{c(){e=A("footer"),n=A("div"),s=A("p"),s.textContent="© 2024 Grably. All rights reserved.",o=R(),r=A("div"),Et(i.$$.fragment),c=R(),Et(a.$$.fragment),N(r,"class","mt-2"),N(n,"class","container mx-auto text-center"),N(e,"class","bg-gray-800 text-white p-4")},m(t,u){T(t,e,u),k(e,n),k(n,s),k(n,o),k(n,r),At(i,r,null),k(r,c),At(a,r,null),l=!0},p(t,[e]){const n={};1&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const s={};1&e&&(s.$$scope={dirty:e,ctx:t}),a.$set(s)},i(t){l||(vt(i.$$.fragment,t),vt(a.$$.fragment,t),l=!0)},o(t){xt(i.$$.fragment,t),xt(a.$$.fragment,t),l=!1},d(t){t&&E(e),qt(i),qt(a)}}}class cs extends _t{constructor(t){super(),Rt(this,t,null,is,c,{})}}function as(e){let n;return{c(){n=A("div"),n.innerHTML='<h1 class="text-3xl font-bold mb-6">Terms and Conditions</h1> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">1. Acceptance of Terms</h2> <p>By accessing or using Grably, you agree to be bound by these Terms and Conditions and all applicable laws and regulations.</p></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">2. Use of Service</h2> <p>You may use our service only for lawful purposes and in accordance with these Terms. You agree not to use our service:</p> <ul class="list-disc pl-5 mt-2"><li>In any way that violates any applicable federal, state, local, or international law or regulation</li> <li>To transmit, or procure the sending of, any advertising or promotional material, including any &quot;junk mail&quot;, &quot;chain letter,&quot; &quot;spam,&quot; or any other similar solicitation</li> <li>To impersonate or attempt to impersonate Grably, a Grably employee, another user, or any other person or entity</li></ul></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">3. Intellectual Property</h2> <p>The Service and its original content, features, and functionality are and will remain the exclusive property of Grably and its licensors.</p></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">4. Termination</h2> <p>We may terminate or suspend your account and bar access to the Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of the Terms.</p></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">5. Limitation of Liability</h2> <p>In no event shall Grably, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your access to or use of or inability to access or use the Service.</p></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">6. Changes to Terms</h2> <p>We reserve the right, at our sole discretion, to modify or replace these Terms at any time. What constitutes a material change will be determined at our sole discretion.</p></section> <section><h2 class="text-2xl font-semibold mb-4">7. Contact Us</h2> <p>If you have any questions about these Terms, please contact us at: <a href="mailto:legal@grably.us" class="text-blue-600 hover:underline">legal@grably.us</a></p></section>',N(n,"class","container mx-auto px-4 py-8")},m(t,e){T(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}class ls extends _t{constructor(t){super(),Rt(this,t,null,as,c,{})}}function us(e){let n;return{c(){n=A("div"),n.innerHTML='<h1 class="text-3xl font-bold mb-6">Privacy Policy</h1> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">1. Introduction</h2> <p>Welcome to Grably. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service.</p></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">2. Information We Collect</h2> <p>We collect information that you provide directly to us, such as when you create an account, upload data, or communicate with us. This may include:</p> <ul class="list-disc pl-5 mt-2"><li>Personal information (e.g., name, email address)</li> <li>Account information</li> <li>Transaction information</li> <li>Usage information</li></ul></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">3. How We Use Your Information</h2> <p>We use the information we collect to:</p> <ul class="list-disc pl-5 mt-2"><li>Provide, maintain, and improve our services</li> <li>Process transactions and send related information</li> <li>Send you technical notices, updates, security alerts, and support messages</li> <li>Respond to your comments, questions, and customer service requests</li></ul></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">4. Data Security</h2> <p>We implement appropriate technical and organizational measures to protect the security of your personal information.</p></section> <section class="mb-8"><h2 class="text-2xl font-semibold mb-4">5. Changes to This Privacy Policy</h2> <p>We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page.</p></section> <section><h2 class="text-2xl font-semibold mb-4">6. Contact Us</h2> <p>If you have any questions about this Privacy Policy, please contact us at: <a href="mailto:privacy@grably.us" class="text-blue-600 hover:underline">privacy@grably.us</a></p></section>',N(n,"class","container mx-auto px-4 py-8")},m(t,e){T(t,n,e)},p:t,i:t,o:t,d(t){t&&E(n)}}}class ds extends _t{constructor(t){super(),Rt(this,t,null,us,c,{})}}function hs(t){let e,n;return{c(){e=q("title"),n=I(t[0])},m(t,s){T(t,e,s),k(e,n)},p(t,e){1&e&&W(n,t[0])},d(t){t&&E(e)}}}function ps(t){let e,n,s,o=t[0]&&hs(t);const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=q("svg"),o&&o.c(),n=_(),i&&i.c(),N(e,"xmlns","http://www.w3.org/2000/svg"),N(e,"viewBox",t[1]),N(e,"class","svelte-c8tyih")},m(t,r){T(t,e,r),o&&o.m(e,null),k(e,n),i&&i.m(e,null),s=!0},p(t,[c]){t[0]?o?o.p(t,c):(o=hs(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),i&&i.p&&(!s||4&c)&&m(i,r,t,t[2],s?f(r,t[2],c,null):b(t[2]),null),(!s||2&c)&&N(e,"viewBox",t[1])},i(t){s||(vt(i,t),s=!0)},o(t){xt(i,t),s=!1},d(t){t&&E(e),o&&o.d(),i&&i.d(t)}}}function fs(t,e,n){let{$$slots:s={},$$scope:o}=e,{title:r=null}=e,{viewBox:i}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title),"viewBox"in t&&n(1,i=t.viewBox),"$$scope"in t&&n(2,o=t.$$scope)},[r,i,o,s]}class ms extends _t{constructor(t){super(),Rt(this,t,fs,ps,c,{title:0,viewBox:1})}}function bs(e){let n;return{c(){n=q("path"),N(n,"d","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z")},m(t,e){T(t,n,e)},p:t,d(t){t&&E(n)}}}function gs(t){let e,s;const o=[{viewBox:"0 0 384 512"},t[0]];let r={$$slots:{default:[bs]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new ms({props:r}),{c(){Et(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(t,[n]){const s=1&n?Ot(o,[o[0],Tt(t[0])]):{};2&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(vt(e.$$.fragment,t),s=!0)},o(t){xt(e.$$.fragment,t),s=!1},d(t){qt(e,t)}}}function ys(t,e,s){return t.$$set=t=>{s(0,e=n(n({},e),g(t)))},[e=g(e)]}class ws extends _t{constructor(t){super(),Rt(this,t,ys,gs,c,{})}}function $s(e){let n;return{c(){n=q("path"),N(n,"d","M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z")},m(t,e){T(t,n,e)},p:t,d(t){t&&E(n)}}}function vs(t){let e,s;const o=[{viewBox:"0 0 576 512"},t[0]];let r={$$slots:{default:[$s]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new ms({props:r}),{c(){Et(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(t,[n]){const s=1&n?Ot(o,[o[0],Tt(t[0])]):{};2&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(vt(e.$$.fragment,t),s=!0)},o(t){xt(e.$$.fragment,t),s=!1},d(t){qt(e,t)}}}function xs(t,e,s){return t.$$set=t=>{s(0,e=n(n({},e),g(t)))},[e=g(e)]}class Cs extends _t{constructor(t){super(),Rt(this,t,xs,vs,c,{})}}function Ss(e){let n;return{c(){n=q("path"),N(n,"d","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z")},m(t,e){T(t,n,e)},p:t,d(t){t&&E(n)}}}function ks(t){let e,s;const o=[{viewBox:"0 0 512 512"},t[0]];let r={$$slots:{default:[Ss]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return e=new ms({props:r}),{c(){Et(e.$$.fragment)},m(t,n){At(e,t,n),s=!0},p(t,[n]){const s=1&n?Ot(o,[o[0],Tt(t[0])]):{};2&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(vt(e.$$.fragment,t),s=!0)},o(t){xt(e.$$.fragment,t),s=!1},d(t){qt(e,t)}}}function Ps(t,e,s){return t.$$set=t=>{s(0,e=n(n({},e),g(t)))},[e=g(e)]}class Os extends _t{constructor(t){super(),Rt(this,t,Ps,ks,c,{})}}function Ts(e){let n,s;return n=new ce({props:{path:"*",component:Bn}}),{c(){Et(n.$$.fragment)},m(t,e){At(n,t,e),s=!0},p:t,i(t){s||(vt(n.$$.fragment,t),s=!0)},o(t){xt(n.$$.fragment,t),s=!1},d(t){qt(n,t)}}}function Es(t){let e,n,s,o,r,i,c,a,l,u,d,h,p,f,m,b,g,y,w,$,v,x,C,S,P,O,q,I,_,j,L;n=new ss({}),l=new Cs({}),d=new Qt({props:{to:"/",class:"block hover:text-blue-600",$$slots:{default:[As]},$$scope:{ctx:t}}}),m=new ws({}),g=new Qt({props:{to:"/contracts",class:"block hover:text-blue-600",$$slots:{default:[qs]},$$scope:{ctx:t}}});let U="Customer"===t[2]&&Is(t);v=new ce({props:{path:"/",component:rn}}),C=new ce({props:{path:"/contracts",component:Cn}});let D="Customer"===t[2]&&_s();return O=new ce({props:{path:"/terms",component:ls}}),I=new ce({props:{path:"/privacy",component:ds}}),j=new cs({}),{c(){e=A("div"),Et(n.$$.fragment),s=R(),o=A("div"),r=A("nav"),i=A("ul"),c=A("li"),a=A("div"),Et(l.$$.fragment),u=R(),Et(d.$$.fragment),h=R(),p=A("li"),f=A("div"),Et(m.$$.fragment),b=R(),Et(g.$$.fragment),y=R(),U&&U.c(),w=R(),$=A("main"),Et(v.$$.fragment),x=R(),Et(C.$$.fragment),S=R(),D&&D.c(),P=R(),Et(O.$$.fragment),q=R(),Et(I.$$.fragment),_=R(),Et(j.$$.fragment),N(a,"class","w-5 h-5 mr-2"),N(c,"class","flex items-center p-2 rounded hover:bg-gray-200"),N(f,"class","w-5 h-5 mr-2"),N(p,"class","flex items-center p-2 rounded hover:bg-gray-200"),N(i,"class","space-y-4"),N(r,"class","w-64 bg-gray-100 p-4"),N($,"class","flex-grow p-4 bg-gray-50"),N(o,"class","flex flex-grow"),N(e,"class","flex flex-col min-h-screen")},m(t,E){T(t,e,E),At(n,e,null),k(e,s),k(e,o),k(o,r),k(r,i),k(i,c),k(c,a),At(l,a,null),k(c,u),At(d,c,null),k(i,h),k(i,p),k(p,f),At(m,f,null),k(p,b),At(g,p,null),k(i,y),U&&U.m(i,null),k(o,w),k(o,$),At(v,$,null),k($,x),At(C,$,null),k($,S),D&&D.m($,null),k($,P),At(O,$,null),k($,q),At(I,$,null),k(e,_),At(j,e,null),L=!0},p(t,e){const n={};16&e&&(n.$$scope={dirty:e,ctx:t}),d.$set(n);const s={};16&e&&(s.$$scope={dirty:e,ctx:t}),g.$set(s),"Customer"===t[2]?U?4&e&&vt(U,1):(U=Is(t),U.c(),vt(U,1),U.m(i,null)):U&&(wt(),xt(U,1,1,(()=>{U=null})),$t()),"Customer"===t[2]?D?4&e&&vt(D,1):(D=_s(),D.c(),vt(D,1),D.m($,P)):D&&(wt(),xt(D,1,1,(()=>{D=null})),$t())},i(t){L||(vt(n.$$.fragment,t),vt(l.$$.fragment,t),vt(d.$$.fragment,t),vt(m.$$.fragment,t),vt(g.$$.fragment,t),vt(U),vt(v.$$.fragment,t),vt(C.$$.fragment,t),vt(D),vt(O.$$.fragment,t),vt(I.$$.fragment,t),vt(j.$$.fragment,t),L=!0)},o(t){xt(n.$$.fragment,t),xt(l.$$.fragment,t),xt(d.$$.fragment,t),xt(m.$$.fragment,t),xt(g.$$.fragment,t),xt(U),xt(v.$$.fragment,t),xt(C.$$.fragment,t),xt(D),xt(O.$$.fragment,t),xt(I.$$.fragment,t),xt(j.$$.fragment,t),L=!1},d(t){t&&E(e),qt(n),qt(l),qt(d),qt(m),qt(g),U&&U.d(),qt(v),qt(C),D&&D.d(),qt(O),qt(I),qt(j)}}}function As(t){let e;return{c(){e=I("Home")},m(t,n){T(t,e,n)},d(t){t&&E(e)}}}function qs(t){let e;return{c(){e=I("Contracts")},m(t,n){T(t,e,n)},d(t){t&&E(e)}}}function Is(t){let e,n,s,o,r,i;return s=new Os({}),r=new Qt({props:{to:"/new-contract",class:"block hover:text-blue-600",$$slots:{default:[Rs]},$$scope:{ctx:t}}}),{c(){e=A("li"),n=A("div"),Et(s.$$.fragment),o=R(),Et(r.$$.fragment),N(n,"class","w-5 h-5 mr-2"),N(e,"class","flex items-center p-2 rounded hover:bg-gray-200")},m(t,c){T(t,e,c),k(e,n),At(s,n,null),k(e,o),At(r,e,null),i=!0},i(t){i||(vt(s.$$.fragment,t),vt(r.$$.fragment,t),i=!0)},o(t){xt(s.$$.fragment,t),xt(r.$$.fragment,t),i=!1},d(t){t&&E(e),qt(s),qt(r)}}}function Rs(t){let e;return{c(){e=I("New Contract")},m(t,n){T(t,e,n)},d(t){t&&E(e)}}}function _s(t){let e,n;return e=new ce({props:{path:"/new-contract",component:Gn}}),{c(){Et(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){qt(e,t)}}}function js(t){let e,n,s,o;const r=[Es,Ts],i=[];function c(t,e){return t[1]?0:1}return e=c(t),n=i[e]=r[e](t),{c(){n.c(),s=_()},m(t,n){i[e].m(t,n),T(t,s,n),o=!0},p(t,o){let a=e;e=c(t),e===a?i[e].p(t,o):(wt(),xt(i[a],1,1,(()=>{i[a]=null})),$t(),n=i[e],n?n.p(t,o):(n=i[e]=r[e](t),n.c()),vt(n,1),n.m(s.parentNode,s))},i(t){o||(vt(n),o=!0)},o(t){xt(n),o=!1},d(t){t&&E(s),i[e].d(t)}}}function Ls(t){let e,n;return e=new Ce({props:{url:t[0],$$slots:{default:[js]},$$scope:{ctx:t}}}),{c(){Et(e.$$.fragment)},m(t,s){At(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.url=t[0]),22&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){qt(e,t)}}}function Ns(t,e,n){let{url:s=""}=e,o=Xe.authStore.isValid,r=Xe.authStore.model?.role||"";return Xe.authStore.onChange((()=>{n(1,o=Xe.authStore.isValid),n(2,r=Xe.authStore.model?.role||"")})),t.$$set=t=>{"url"in t&&n(0,s=t.url)},[s,o,r]}return new class extends _t{constructor(t){super(),Rt(this,t,Ns,Ls,c,{url:0})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
